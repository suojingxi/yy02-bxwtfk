!function(a){function b(a,b){if(!b||"function"==typeof b)return a;for(var c in b)a[c]=b[c];return a}function c(a,b){for(var d in b)d in a?c(a[d],b[d]):a[d]=b[d];return a}function d(a,b,c){var d,e=0,f=a.length,g=void 0===f||"[object Array]"!==Object.prototype.toString.apply(a)||"function"==typeof a;if(c)if(g){for(d in a)if(b.apply(a[d],c)===!1)break}else for(;f>e&&b.apply(a[e++],c)!==!1;);else if(g){for(d in a)if(b.call(a[d],d,a[d])===!1)break}else for(;f>e&&b.call(a[e],e,a[e++])!==!1;);return a}function e(a){return"string"==typeof a?a.replace(/[&<>"'\/]/g,function(a){return Q[a]}):a}function f(a){var b=function(a){if(window.XMLHttpRequest)return a(null,new XMLHttpRequest);if(window.ActiveXObject)try{return a(null,new ActiveXObject("Msxml2.XMLHTTP"))}catch(b){return a(null,new ActiveXObject("Microsoft.XMLHTTP"))}return a(new Error)},c=function(a){if("string"==typeof a)return a;var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")},d=function(a){a=a.replace(/\r\n/g,"\n");for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b+=String.fromCharCode(d):d>127&&2048>d?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(63&d|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(63&d|128))}return b},e=function(a){var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a=d(a);var c,e,f,g,h,i,j,k="",l=0;do c=a.charCodeAt(l++),e=a.charCodeAt(l++),f=a.charCodeAt(l++),g=c>>2,h=(3&c)<<4|e>>4,i=(15&e)<<2|f>>6,j=63&f,isNaN(e)?i=j=64:isNaN(f)&&(j=64),k+=b.charAt(g)+b.charAt(h)+b.charAt(i)+b.charAt(j),c=e=f="",g=h=i=j="";while(l<a.length);return k},f=function(){for(var a=arguments[0],b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])}return a},g=function(a,d,e,h){"function"==typeof e&&(h=e,e={}),e.cache=e.cache||!1,e.data=e.data||{},e.headers=e.headers||{},e.jsonp=e.jsonp||!1,e.async=void 0===e.async?!0:e.async;var i,j=f({accept:"*/*","content-type":"application/x-www-form-urlencoded;charset=UTF-8"},g.headers,e.headers);if(i="application/json"===j["content-type"]?JSON.stringify(e.data):c(e.data),"GET"===a){var k=[];if(i&&(k.push(i),i=null),e.cache||k.push("_="+(new Date).getTime()),e.jsonp&&(k.push("callback="+e.jsonp),k.push("jsonp="+e.jsonp)),k=k.join("&"),k.length>1&&(d+=d.indexOf("?")>-1?"&"+k:"?"+k),e.jsonp){var l=document.getElementsByTagName("head")[0],m=document.createElement("script");return m.type="text/javascript",m.src=d,void l.appendChild(m)}}b(function(b,c){if(b)return h(b);c.open(a,d,e.async);for(var f in j)j.hasOwnProperty(f)&&c.setRequestHeader(f,j[f]);c.onreadystatechange=function(){if(4===c.readyState){var a=c.responseText||"";if(!h)return;h(c.status,{text:function(){return a},json:function(){try{return JSON.parse(a)}catch(b){return T.error("Can not parse JSON. URL: "+d),{}}}})}},c.send(i)})},h={authBasic:function(a,b){g.headers.Authorization="Basic "+e(a+":"+b)},connect:function(a,b,c){return g("CONNECT",a,b,c)},del:function(a,b,c){return g("DELETE",a,b,c)},get:function(a,b,c){return g("GET",a,b,c)},head:function(a,b,c){return g("HEAD",a,b,c)},headers:function(a){g.headers=a||{}},isAllowed:function(a,b,c){this.options(a,function(a,d){c(-1!==d.text().indexOf(b))})},options:function(a,b,c){return g("OPTIONS",a,b,c)},patch:function(a,b,c){return g("PATCH",a,b,c)},post:function(a,b,c){return g("POST",a,b,c)},put:function(a,b,c){return g("PUT",a,b,c)},trace:function(a,b,c){return g("TRACE",a,b,c)}},i=a.type?a.type.toLowerCase():"get";h[i](a.url,a,function(b,c){200===b||0===b&&c.text()?a.success(c.json(),b,null):a.error(c.text(),b,null)})}function g(a,b){"function"==typeof a&&(b=a,a={}),a=a||{},T.extend(P,a),delete P.fixLng,P.functions&&(delete P.functions,T.extend(T,a.functions)),"string"==typeof P.ns&&(P.ns={namespaces:[P.ns],defaultNs:P.ns}),"string"==typeof P.fallbackNS&&(P.fallbackNS=[P.fallbackNS]),("string"==typeof P.fallbackLng||"boolean"==typeof P.fallbackLng)&&(P.fallbackLng=[P.fallbackLng]),P.interpolationPrefixEscaped=T.regexEscape(P.interpolationPrefix),P.interpolationSuffixEscaped=T.regexEscape(P.interpolationSuffix),P.lng||(P.lng=T.detectLanguage()),M=T.toLanguages(P.lng),H=M[0],T.log("currentLng set to: "+H),P.useCookie&&T.cookie.read(P.cookieName)!==H&&T.cookie.create(P.cookieName,H,P.cookieExpirationTime,P.cookieDomain),P.detectLngFromLocalStorage&&"undefined"!=typeof document&&window.localStorage&&T.localStorage.setItem("i18next_lng",H);var c=B;a.fixLng&&(c=function(a,b){return b=b||{},b.lng=b.lng||c.lng,B(a,b)},c.lng=H),W.setCurrentLng(H),I&&P.setJqueryExt&&u();var d;if(I&&I.Deferred&&(d=I.Deferred()),!P.resStore){var e=T.toLanguages(P.lng);"string"==typeof P.preload&&(P.preload=[P.preload]);for(var f=0,g=P.preload.length;g>f;f++)for(var h=T.toLanguages(P.preload[f]),i=0,j=h.length;j>i;i++)e.indexOf(h[i])<0&&e.push(h[i]);return J.sync.load(e,P,function(a,e){K=e,N=!0,b&&b(c),d&&d.resolve(c)}),d?d.promise():void 0}return K=P.resStore,N=!0,b&&b(c),d&&d.resolve(c),d?d.promise():void 0}function h(a,b){"string"==typeof a&&(a=[a]);for(var c=0,d=a.length;d>c;c++)P.preload.indexOf(a[c])<0&&P.preload.push(a[c]);return g(b)}function i(a,b,c,d){"string"!=typeof b?(c=b,b=P.ns.defaultNs):P.ns.namespaces.indexOf(b)<0&&P.ns.namespaces.push(b),K[a]=K[a]||{},K[a][b]=K[a][b]||{},d?T.deepExtend(K[a][b],c):T.extend(K[a][b],c),P.useLocalStorage&&O._storeLocal(K)}function j(a,b){"string"!=typeof b&&(b=P.ns.defaultNs),K[a]=K[a]||{};var c=K[a][b]||{},d=!1;for(var e in c)c.hasOwnProperty(e)&&(d=!0);return d}function k(a,b){return"string"!=typeof b&&(b=P.ns.defaultNs),K[a]=K[a]||{},T.extend({},K[a][b])}function l(a,b){"string"!=typeof b&&(b=P.ns.defaultNs),K[a]=K[a]||{},K[a][b]={},P.useLocalStorage&&O._storeLocal(K)}function m(a,b,c,d){"string"!=typeof b?(resource=b,b=P.ns.defaultNs):P.ns.namespaces.indexOf(b)<0&&P.ns.namespaces.push(b),K[a]=K[a]||{},K[a][b]=K[a][b]||{};for(var e=c.split(P.keyseparator),f=0,g=K[a][b];e[f];)f==e.length-1?g[e[f]]=d:(null==g[e[f]]&&(g[e[f]]={}),g=g[e[f]]),f++;P.useLocalStorage&&O._storeLocal(K)}function n(a,b,c){"string"!=typeof b?(resource=b,b=P.ns.defaultNs):P.ns.namespaces.indexOf(b)<0&&P.ns.namespaces.push(b);for(var d in c)"string"==typeof c[d]&&m(a,b,d,c[d])}function o(a){P.ns.defaultNs=a}function p(a,b){q([a],b)}function q(a,b){var c={dynamicLoad:P.dynamicLoad,resGetPath:P.resGetPath,getAsync:P.getAsync,customLoad:P.customLoad,ns:{namespaces:a,defaultNs:""}},d=T.toLanguages(P.lng);"string"==typeof P.preload&&(P.preload=[P.preload]);for(var e=0,f=P.preload.length;f>e;e++)for(var g=T.toLanguages(P.preload[e]),h=0,i=g.length;i>h;h++)d.indexOf(g[h])<0&&d.push(g[h]);for(var j=[],k=0,l=d.length;l>k;k++){var m=!1,n=K[d[k]];if(n)for(var o=0,p=a.length;p>o;o++)n[a[o]]||(m=!0);else m=!0;m&&j.push(d[k])}j.length?J.sync._fetch(j,c,function(c,d){var e=a.length*j.length;T.each(a,function(a,c){P.ns.namespaces.indexOf(c)<0&&P.ns.namespaces.push(c),T.each(j,function(a,f){K[f]=K[f]||{},K[f][c]=d[f][c],e--,0===e&&b&&(P.useLocalStorage&&J.sync._storeLocal(K),b())})})}):b&&b()}function r(a,b,c){return"function"==typeof b?(c=b,b={}):b||(b={}),b.lng=a,g(b,c)}function s(){return H}function t(a){K={},r(H,a)}function u(){function a(a,b,c){if(0!==b.length){var d="text";if(0===b.indexOf("[")){var e=b.split("]");b=e[1],d=e[0].substr(1,e[0].length-1)}b.indexOf(";")===b.length-1&&(b=b.substr(0,b.length-2));var f;if("html"===d)f=P.defaultValueFromContent?I.extend({defaultValue:a.html()},c):c,a.html(I.t(b,f));else if("text"===d)f=P.defaultValueFromContent?I.extend({defaultValue:a.text()},c):c,a.text(I.t(b,f));else if("prepend"===d)f=P.defaultValueFromContent?I.extend({defaultValue:a.html()},c):c,a.prepend(I.t(b,f));else if("append"===d)f=P.defaultValueFromContent?I.extend({defaultValue:a.html()},c):c,a.append(I.t(b,f));else if(0===d.indexOf("data-")){var g=d.substr("data-".length);f=P.defaultValueFromContent?I.extend({defaultValue:a.data(g)},c):c;var h=I.t(b,f);a.data(g,h),a.attr(d,h)}else f=P.defaultValueFromContent?I.extend({defaultValue:a.attr(d)},c):c,a.attr(d,I.t(b,f))}}function b(b,c){var d=b.attr(P.selectorAttr);if(d||"undefined"==typeof d||d===!1||(d=b.text()||b.val()),d){var e=b,f=b.data("i18n-target");if(f&&(e=b.find(f)||b),c||P.useDataAttrOptions!==!0||(c=b.data("i18n-options")),c=c||{},d.indexOf(";")>=0){var g=d.split(";");I.each(g,function(b,d){""!==d&&a(e,d,c)})}else a(e,d,c);P.useDataAttrOptions===!0&&b.data("i18n-options",c)}}I.t=I.t||B,I.fn.i18n=function(a){return this.each(function(){b(I(this),a);var c=I(this).find("["+P.selectorAttr+"]");c.each(function(){b(I(this),a)})})}}function v(a,b,c,d){if(!a)return a;if(d=d||b,a.indexOf(d.interpolationPrefix||P.interpolationPrefix)<0)return a;var e=d.interpolationPrefix?T.regexEscape(d.interpolationPrefix):P.interpolationPrefixEscaped,f=d.interpolationSuffix?T.regexEscape(d.interpolationSuffix):P.interpolationSuffixEscaped,g="HTML"+f,h=b.replace&&"object"==typeof b.replace?b.replace:b;return T.each(h,function(b,h){var i=c?c+P.keyseparator+b:b;"object"==typeof h&&null!==h?a=v(a,h,i,d):d.escapeInterpolation||P.escapeInterpolation?(a=a.replace(new RegExp([e,i,g].join(""),"g"),T.regexReplacementEscape(h)),a=a.replace(new RegExp([e,i,f].join(""),"g"),T.regexReplacementEscape(T.escape(h)))):a=a.replace(new RegExp([e,i,f].join(""),"g"),T.regexReplacementEscape(h))}),a}function w(a,b){var c=",",d="{",e="}",f=T.extend({},b);for(delete f.postProcess;-1!=a.indexOf(P.reusePrefix)&&(L++,!(L>P.maxRecursion));){var g=a.lastIndexOf(P.reusePrefix),h=a.indexOf(P.reuseSuffix,g)+P.reuseSuffix.length,i=a.substring(g,h),j=i.replace(P.reusePrefix,"").replace(P.reuseSuffix,"");if(g>=h)return T.error("there is an missing closing in following translation value",a),"";if(-1!=j.indexOf(c)){var k=j.indexOf(c);if(-1!=j.indexOf(d,k)&&-1!=j.indexOf(e,k)){var l=j.indexOf(d,k),m=j.indexOf(e,l)+e.length;try{f=T.extend(f,JSON.parse(j.substring(l,m))),j=j.substring(0,k)}catch(n){}}}var o=E(j,f);a=a.replace(i,T.regexReplacementEscape(o))}return a}function x(a){return a.context&&("string"==typeof a.context||"number"==typeof a.context)}function y(a){return void 0!==a.count&&"string"!=typeof a.count}function z(a){return void 0!==a.indefinite_article&&"string"!=typeof a.indefinite_article&&a.indefinite_article}function A(a,b){b=b||{};var c=C(a,b),d=F(a,b);return void 0!==d||d===c}function B(a,b){return b=b||{},N?(L=0,E.apply(null,arguments)):(T.log("i18next not finished initialization. you might have called t function before loading resources finished."),b.defaultValue||"")}function C(a,b){return void 0!==b.defaultValue?b.defaultValue:a}function D(){for(var a=[],b=1;b<arguments.length;b++)a.push(arguments[b]);return{postProcess:"sprintf",sprintf:a}}function E(a,b){if(b&&"object"!=typeof b?"sprintf"===P.shortcutFunction?b=D.apply(null,arguments):"defaultValue"===P.shortcutFunction&&(b={defaultValue:b}):b=b||{},"object"==typeof P.defaultVariables&&(b=T.extend({},P.defaultVariables,b)),void 0===a||null===a||""===a)return"";"number"==typeof a&&(a=String(a)),"string"==typeof a&&(a=[a]);var c=a[0];if(a.length>1)for(var d=0;d<a.length&&(c=a[d],!A(c,b));d++);var e,f=C(c,b),g=F(c,b),h=b.lng?T.toLanguages(b.lng,b.fallbackLng):M,i=b.ns||P.ns.defaultNs;c.indexOf(P.nsseparator)>-1&&(e=c.split(P.nsseparator),i=e[0],c=e[1]),void 0===g&&P.sendMissing&&"function"==typeof P.missingKeyHandler&&(b.lng?P.missingKeyHandler(h[0],i,c,f,h):P.missingKeyHandler(P.lng,i,c,f,h));var j;j="string"==typeof P.postProcess&&""!==P.postProcess?[P.postProcess]:"array"==typeof P.postProcess||"object"==typeof P.postProcess?P.postProcess:[],"string"==typeof b.postProcess&&""!==b.postProcess?j=j.concat([b.postProcess]):("array"==typeof b.postProcess||"object"==typeof b.postProcess)&&(j=j.concat(b.postProcess)),void 0!==g&&j.length&&j.forEach(function(a){X[a]&&(g=X[a](g,c,b))});var k=f;if(f.indexOf(P.nsseparator)>-1&&(e=f.split(P.nsseparator),k=e[1]),k===c&&P.parseMissingKey&&(f=P.parseMissingKey(f)),void 0===g&&(f=v(f,b),f=w(f,b),j.length)){var l=C(c,b);j.forEach(function(a){X[a]&&(g=X[a](l,c,b))})}return void 0!==g?g:f}function F(a,b){b=b||{};var c,d,e=C(a,b),f=M;if(!K)return e;if("cimode"===f[0].toLowerCase())return e;if(b.lngs&&(f=b.lngs),b.lng&&(f=T.toLanguages(b.lng,b.fallbackLng),!K[f[0]])){var g=P.getAsync;P.getAsync=!1,J.sync.load(f,P,function(a,b){T.extend(K,b),P.getAsync=g})}var h=b.ns||P.ns.defaultNs;if(a.indexOf(P.nsseparator)>-1){var i=a.split(P.nsseparator);h=i[0],a=i[1]}if(x(b)){c=T.extend({},b),delete c.context,c.defaultValue=P.contextNotFound;var j=h+P.nsseparator+a+"_"+b.context;if(d=B(j,c),d!=P.contextNotFound)return v(d,{context:b.context})}if(y(b,f[0])){c=T.extend({lngs:[f[0]]},b),delete c.count,c._origLng=c._origLng||c.lng||f[0],delete c.lng,c.defaultValue=P.pluralNotFound;var k;if(W.needsPlural(f[0],b.count)){k=h+P.nsseparator+a+P.pluralSuffix;var l=W.get(f[0],b.count);l>=0?k=k+"_"+l:1===l&&(k=h+P.nsseparator+a)}else k=h+P.nsseparator+a;if(d=B(k,c),d!=P.pluralNotFound)return v(d,{count:b.count,interpolationPrefix:b.interpolationPrefix,interpolationSuffix:b.interpolationSuffix});if(!(f.length>1))return c.lng=c._origLng,delete c._origLng,d=B(h+P.nsseparator+a,c),v(d,{count:b.count,interpolationPrefix:b.interpolationPrefix,interpolationSuffix:b.interpolationSuffix});var m=f.slice();if(m.shift(),b=T.extend(b,{lngs:m}),b._origLng=c._origLng,delete b.lng,d=B(h+P.nsseparator+a,b),d!=P.pluralNotFound)return d}if(z(b)){var n=T.extend({},b);delete n.indefinite_article,n.defaultValue=P.indefiniteNotFound;var o=h+P.nsseparator+a+(b.count&&!y(b,f[0])||!b.count?P.indefiniteSuffix:"");if(d=B(o,n),d!=P.indefiniteNotFound)return d}for(var p,q=a.split(P.keyseparator),r=0,s=f.length;s>r&&void 0===p;r++){for(var t=f[r],u=0,A=K[t]&&K[t][h];q[u];)A=A&&A[q[u]],u++;if(void 0!==A){var D=Object.prototype.toString.apply(A);if("string"==typeof A)A=v(A,b),A=w(A,b);else if("[object Array]"!==D||P.returnObjectTrees||b.returnObjectTrees){if(null===A&&P.fallbackOnNull===!0)A=void 0;else if(null!==A)if(P.returnObjectTrees||b.returnObjectTrees){if("[object Number]"!==D&&"[object Function]"!==D&&"[object RegExp]"!==D){var G="[object Array]"===D?[]:{};T.each(A,function(c){G[c]=E(h+P.nsseparator+a+P.keyseparator+c,b)}),A=G}}else P.objectTreeKeyHandler&&"function"==typeof P.objectTreeKeyHandler?A=P.objectTreeKeyHandler(a,A,t,h,b):(A="key '"+h+":"+a+" ("+t+")' returned an object instead of string.",T.log(A))}else A=A.join("\n"),A=v(A,b),A=w(A,b);"string"==typeof A&&""===A.trim()&&P.fallbackOnEmpty===!0&&(A=void 0),p=A}}if(void 0===p&&!b.isFallbackLookup&&(P.fallbackToDefaultNS===!0||P.fallbackNS&&P.fallbackNS.length>0)){if(b.isFallbackLookup=!0,P.fallbackNS.length){for(var H=0,I=P.fallbackNS.length;I>H;H++)if(p=F(P.fallbackNS[H]+P.nsseparator+a,b),p||""===p&&P.fallbackOnEmpty===!1){var L=p.indexOf(P.nsseparator)>-1?p.split(P.nsseparator)[1]:p,N=e.indexOf(P.nsseparator)>-1?e.split(P.nsseparator)[1]:e;if(L!==N)break;}}else p=F(a,b);b.isFallbackLookup=!1}return p}function G(){var a,b=P.lngWhitelist||[],c=[];if("undefined"!=typeof window&&!function(){for(var a=window.location.search.substring(1),b=a.split("&"),d=0;d<b.length;d++){var e=b[d].indexOf("=");if(e>0){var f=b[d].substring(0,e);f==P.detectLngQS&&c.push(b[d].substring(e+1))}}}(),P.useCookie&&"undefined"!=typeof document){var d=T.cookie.read(P.cookieName);d&&c.push(d)}if(P.detectLngFromLocalStorage&&"undefined"!=typeof window&&window.localStorage&&c.push(T.localStorage.getItem("i18next_lng")),"undefined"!=typeof navigator){if(navigator.languages)for(var e=0;e<navigator.languages.length;e++)c.push(navigator.languages[e]);navigator.userLanguage&&c.push(navigator.userLanguage),navigator.language&&c.push(navigator.language)}return function(){for(var d=0;d<c.length;d++){var e=c[d];if(e.indexOf("-")>-1){var f=e.split("-");e=P.lowerCaseLng?f[0].toLowerCase()+"-"+f[1].toLowerCase():f[0].toLowerCase()+"-"+f[1].toUpperCase()}if(0===b.length||b.indexOf(e)>-1){a=e;break}}}(),a||(a=P.fallbackLng[0]),a}Array.prototype.indexOf||(Array.prototype.indexOf=function(a){"use strict";if(null==this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0===c)return-1;var d=0;if(arguments.length>0&&(d=Number(arguments[1]),d!=d?d=0:0!=d&&1/0!=d&&d!=-1/0&&(d=(d>0||-1)*Math.floor(Math.abs(d)))),d>=c)return-1;for(var e=d>=0?d:Math.max(c-Math.abs(d),0);c>e;e++)if(e in b&&b[e]===a)return e;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(a){"use strict";if(null==this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0===c)return-1;var d=c;arguments.length>1&&(d=Number(arguments[1]),d!=d?d=0:0!=d&&d!=1/0&&d!=-(1/0)&&(d=(d>0||-1)*Math.floor(Math.abs(d))));for(var e=d>=0?Math.min(d,c-1):c-Math.abs(d);e>=0;e--)if(e in b&&b[e]===a)return e;return-1}),"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var H,I=a.jQuery||a.Zepto,J={},K={},L=0,M=[],N=!1,O={};"undefined"!=typeof module&&module.exports?module.exports=J:(I&&(I.i18n=I.i18n||J),a.i18n=a.i18n||J),O={load:function(a,b,c){b.useLocalStorage?O._loadLocal(a,b,function(d,e){for(var f=[],g=0,h=a.length;h>g;g++)e[a[g]]||f.push(a[g]);f.length>0?O._fetch(f,b,function(a,b){T.extend(e,b),O._storeLocal(b),c(null,e)}):c(null,e)}):O._fetch(a,b,function(a,b){c(null,b)})},_loadLocal:function(a,b,c){var d={},e=(new Date).getTime();if(window.localStorage){var f=a.length;T.each(a,function(a,g){var h=T.localStorage.getItem("res_"+g);h&&(h=JSON.parse(h),h.i18nStamp&&h.i18nStamp+b.localStorageExpirationTime>e&&(d[g]=h)),f--,0===f&&c(null,d)})}},_storeLocal:function(a){if(window.localStorage)for(var b in a)a[b].i18nStamp=(new Date).getTime(),T.localStorage.setItem("res_"+b,JSON.stringify(a[b]))},_fetch:function(a,b,c){var d=b.ns,e={};if(b.dynamicLoad){var f=function(a,b){c(null,b)};if("function"==typeof b.customLoad)b.customLoad(a,d.namespaces,b,f);else{var g=v(b.resGetPath,{lng:a.join("+"),ns:d.namespaces.join("+")});T.ajax({url:g,success:function(a){T.log("loaded: "+g),f(null,a)},error:function(a,b,c){T.log("failed loading: "+g),f("failed loading resource.json error: "+c)},dataType:"json",async:b.getAsync})}}else{var h,i=d.namespaces.length*a.length;T.each(d.namespaces,function(d,f){T.each(a,function(a,d){var g=function(a,b){a&&(h=h||[],h.push(a)),e[d]=e[d]||{},e[d][f]=b,i--,0===i&&c(h,e)};"function"==typeof b.customLoad?b.customLoad(d,f,b,g):O._fetchOne(d,f,b,g)})})}},_fetchOne:function(a,b,c,d){var e=v(c.resGetPath,{lng:a,ns:b});T.ajax({url:e,success:function(a){T.log("loaded: "+e),d(null,a)},error:function(a,b,c){if(b&&200==b||a&&a.status&&200==a.status)T.error("There is a typo in: "+e);else if(b&&404==b||a&&a.status&&404==a.status)T.log("Does not exist: "+e);else{var f=b?b:a&&a.status?a.status:null;T.log(f+" when loading "+e)}d(c,{})},dataType:"json",async:c.getAsync})},postMissing:function(a,b,c,d,e){var f={};f[c]=d;var g=[];if("fallback"===P.sendMissingTo&&P.fallbackLng[0]!==!1)for(var h=0;h<P.fallbackLng.length;h++)g.push({lng:P.fallbackLng[h],url:v(P.resPostPath,{lng:P.fallbackLng[h],ns:b})});else if("current"===P.sendMissingTo||"fallback"===P.sendMissingTo&&P.fallbackLng[0]===!1)g.push({lng:a,url:v(P.resPostPath,{lng:a,ns:b})});else if("all"===P.sendMissingTo)for(var h=0,i=e.length;i>h;h++)g.push({lng:e[h],url:v(P.resPostPath,{lng:e[h],ns:b})});for(var j=0,k=g.length;k>j;j++){var l=g[j];T.ajax({url:l.url,type:P.sendType,data:f,success:function(){T.log("posted missing key '"+c+"' to: "+l.url);for(var a=c.split("."),e=0,f=K[l.lng][b];a[e];)f=f[a[e]]=e===a.length-1?d:f[a[e]]||{},e++},error:function(){T.log("failed posting missing key '"+c+"' to: "+l.url)},dataType:"json",async:P.postAsync})}},reload:t};var P={lng:void 0,load:"all",preload:[],lowerCaseLng:!1,returnObjectTrees:!1,fallbackLng:["dev"],fallbackNS:[],detectLngQS:"setLng",detectLngFromLocalStorage:!1,ns:"translation",fallbackOnNull:!0,fallbackOnEmpty:!1,fallbackToDefaultNS:!1,nsseparator:":",keyseparator:".",selectorAttr:"data-i18n",debug:!1,resGetPath:"locales/__lng__/__ns__.json",resPostPath:"locales/add/__lng__/__ns__",getAsync:!0,postAsync:!0,resStore:void 0,useLocalStorage:!1,localStorageExpirationTime:6048e5,dynamicLoad:!1,sendMissing:!1,sendMissingTo:"fallback",sendType:"POST",interpolationPrefix:"__",interpolationSuffix:"__",defaultVariables:!1,reusePrefix:"$t(",reuseSuffix:")",pluralSuffix:"_plural",pluralNotFound:["plural_not_found",Math.random()].join(""),contextNotFound:["context_not_found",Math.random()].join(""),escapeInterpolation:!1,indefiniteSuffix:"_indefinite",indefiniteNotFound:["indefinite_not_found",Math.random()].join(""),setJqueryExt:!0,defaultValueFromContent:!0,useDataAttrOptions:!1,cookieExpirationTime:void 0,useCookie:!0,cookieName:"i18next",cookieDomain:void 0,objectTreeKeyHandler:void 0,postProcess:void 0,parseMissingKey:void 0,missingKeyHandler:O.postMissing,shortcutFunction:"sprintf"},Q={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},R={create:function(a,b,c,d){var e;if(c){var f=new Date;f.setTime(f.getTime()+60*c*1e3),e="; expires="+f.toGMTString()}else e="";d=d?"domain="+d+";":"",document.cookie=a+"="+b+e+";"+d+"path=/"},read:function(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "==e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(b))return e.substring(b.length,e.length)}return null},remove:function(a){this.create(a,"",-1)}},S={create:function(){},read:function(){return null},remove:function(){}},T={extend:I?I.extend:b,deepExtend:c,each:I?I.each:d,ajax:I?I.ajax:"undefined"!=typeof document?f:function(){},cookie:"undefined"!=typeof document?R:S,detectLanguage:G,escape:e,log:function(a){P.debug&&"undefined"!=typeof console&&console.log(a)},error:function(a){"undefined"!=typeof console&&console.error(a)},getCountyIndexOfLng:function(a){var b=0;return("nb-NO"===a||"nn-NO"===a||"nb-no"===a||"nn-no"===a)&&(b=1),b},toLanguages:function(a){function b(a){var b=a;if("string"==typeof a&&a.indexOf("-")>-1){var c=a.split("-");b=P.lowerCaseLng?c[0].toLowerCase()+"-"+c[1].toLowerCase():c[0].toLowerCase()+"-"+c[1].toUpperCase()}else b=P.lowerCaseLng?a.toLowerCase():a;return b}var c=this.log,d=[],e=P.lngWhitelist||!1,f=function(a){!e||e.indexOf(a)>-1?d.push(a):c("rejecting non-whitelisted language: "+a)};if("string"==typeof a&&a.indexOf("-")>-1){var g=a.split("-");"unspecific"!==P.load&&f(b(a)),"current"!==P.load&&f(b(g[this.getCountyIndexOfLng(a)]))}else f(b(a));for(var h=0;h<P.fallbackLng.length;h++)-1===d.indexOf(P.fallbackLng[h])&&P.fallbackLng[h]&&d.push(b(P.fallbackLng[h]));return d},regexEscape:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},regexReplacementEscape:function(a){return"string"==typeof a?a.replace(/\$/g,"$$$$"):a},localStorage:{setItem:function(a,b){if(window.localStorage)try{window.localStorage.setItem(a,b)}catch(c){T.log('failed to set value for key "'+a+'" to localStorage.')}},getItem:function(a,b){if(window.localStorage)try{return window.localStorage.getItem(a,b)}catch(c){return void T.log('failed to get value for key "'+a+'" from localStorage.')}}}};T.applyReplacement=v;var U=[["ach","Acholi",[1,2],1],["af","Afrikaans",[1,2],2],["ak","Akan",[1,2],1],["am","Amharic",[1,2],1],["an","Aragonese",[1,2],2],["ar","Arabic",[0,1,2,3,11,100],5],["arn","Mapudungun",[1,2],1],["ast","Asturian",[1,2],2],["ay","Aymará",[1],3],["az","Azerbaijani",[1,2],2],["be","Belarusian",[1,2,5],4],["bg","Bulgarian",[1,2],2],["bn","Bengali",[1,2],2],["bo","Tibetan",[1],3],["br","Breton",[1,2],1],["bs","Bosnian",[1,2,5],4],["ca","Catalan",[1,2],2],["cgg","Chiga",[1],3],["cs","Czech",[1,2,5],6],["csb","Kashubian",[1,2,5],7],["cy","Welsh",[1,2,3,8],8],["da","Danish",[1,2],2],["de","German",[1,2],2],["dev","Development Fallback",[1,2],2],["dz","Dzongkha",[1],3],["el","Greek",[1,2],2],["en","English",[1,2],2],["eo","Esperanto",[1,2],2],["es","Spanish",[1,2],2],["es_ar","Argentinean Spanish",[1,2],2],["et","Estonian",[1,2],2],["eu","Basque",[1,2],2],["fa","Persian",[1],3],["fi","Finnish",[1,2],2],["fil","Filipino",[1,2],1],["fo","Faroese",[1,2],2],["fr","French",[1,2],9],["fur","Friulian",[1,2],2],["fy","Frisian",[1,2],2],["ga","Irish",[1,2,3,7,11],10],["gd","Scottish Gaelic",[1,2,3,20],11],["gl","Galician",[1,2],2],["gu","Gujarati",[1,2],2],["gun","Gun",[1,2],1],["ha","Hausa",[1,2],2],["he","Hebrew",[1,2],2],["hi","Hindi",[1,2],2],["hr","Croatian",[1,2,5],4],["hu","Hungarian",[1,2],2],["hy","Armenian",[1,2],2],["ia","Interlingua",[1,2],2],["id","Indonesian",[1],3],["is","Icelandic",[1,2],12],["it","Italian",[1,2],2],["ja","Japanese",[1],3],["jbo","Lojban",[1],3],["jv","Javanese",[0,1],13],["ka","Georgian",[1],3],["kk","Kazakh",[1],3],["km","Khmer",[1],3],["kn","Kannada",[1,2],2],["ko","Korean",[1],3],["ku","Kurdish",[1,2],2],["kw","Cornish",[1,2,3,4],14],["ky","Kyrgyz",[1],3],["lb","Letzeburgesch",[1,2],2],["ln","Lingala",[1,2],1],["lo","Lao",[1],3],["lt","Lithuanian",[1,2,10],15],["lv","Latvian",[1,2,0],16],["mai","Maithili",[1,2],2],["mfe","Mauritian Creole",[1,2],1],["mg","Malagasy",[1,2],1],["mi","Maori",[1,2],1],["mk","Macedonian",[1,2],17],["ml","Malayalam",[1,2],2],["mn","Mongolian",[1,2],2],["mnk","Mandinka",[0,1,2],18],["mr","Marathi",[1,2],2],["ms","Malay",[1],3],["mt","Maltese",[1,2,11,20],19],["nah","Nahuatl",[1,2],2],["nap","Neapolitan",[1,2],2],["nb","Norwegian Bokmal",[1,2],2],["ne","Nepali",[1,2],2],["nl","Dutch",[1,2],2],["nn","Norwegian Nynorsk",[1,2],2],["no","Norwegian",[1,2],2],["nso","Northern Sotho",[1,2],2],["oc","Occitan",[1,2],1],["or","Oriya",[2,1],2],["pa","Punjabi",[1,2],2],["pap","Papiamento",[1,2],2],["pl","Polish",[1,2,5],7],["pms","Piemontese",[1,2],2],["ps","Pashto",[1,2],2],["pt","Portuguese",[1,2],2],["pt_br","Brazilian Portuguese",[1,2],2],["rm","Romansh",[1,2],2],["ro","Romanian",[1,2,20],20],["ru","Russian",[1,2,5],4],["sah","Yakut",[1],3],["sco","Scots",[1,2],2],["se","Northern Sami",[1,2],2],["si","Sinhala",[1,2],2],["sk","Slovak",[1,2,5],6],["sl","Slovenian",[5,1,2,3],21],["so","Somali",[1,2],2],["son","Songhay",[1,2],2],["sq","Albanian",[1,2],2],["sr","Serbian",[1,2,5],4],["su","Sundanese",[1],3],["sv","Swedish",[1,2],2],["sw","Swahili",[1,2],2],["ta","Tamil",[1,2],2],["te","Telugu",[1,2],2],["tg","Tajik",[1,2],1],["th","Thai",[1],3],["ti","Tigrinya",[1,2],1],["tk","Turkmen",[1,2],2],["tr","Turkish",[1,2],1],["tt","Tatar",[1],3],["ug","Uyghur",[1],3],["uk","Ukrainian",[1,2,5],4],["ur","Urdu",[1,2],2],["uz","Uzbek",[1,2],1],["vi","Vietnamese",[1],3],["wa","Walloon",[1,2],1],["wo","Wolof",[1],3],["yo","Yoruba",[1,2],2],["zh","Chinese",[1],3]],V={1:function(a){return Number(a>1)},2:function(a){return Number(1!=a)},3:function(){return 0},4:function(a){return Number(a%10==1&&a%100!=11?0:a%10>=2&&4>=a%10&&(10>a%100||a%100>=20)?1:2)},5:function(a){return Number(0===a?0:1==a?1:2==a?2:a%100>=3&&10>=a%100?3:a%100>=11?4:5)},6:function(a){return Number(1==a?0:a>=2&&4>=a?1:2)},7:function(a){return Number(1==a?0:a%10>=2&&4>=a%10&&(10>a%100||a%100>=20)?1:2)},8:function(a){return Number(1==a?0:2==a?1:8!=a&&11!=a?2:3)},9:function(a){return Number(a>=2)},10:function(a){return Number(1==a?0:2==a?1:7>a?2:11>a?3:4)},11:function(a){return Number(1==a||11==a?0:2==a||12==a?1:a>2&&20>a?2:3)},12:function(a){return Number(a%10!=1||a%100==11)},13:function(a){return Number(0!==a)},14:function(a){return Number(1==a?0:2==a?1:3==a?2:3)},15:function(a){return Number(a%10==1&&a%100!=11?0:a%10>=2&&(10>a%100||a%100>=20)?1:2)},16:function(a){return Number(a%10==1&&a%100!=11?0:0!==a?1:2)},17:function(a){return Number(1==a||a%10==1?0:1)},18:function(a){return Number(1==a?1:2)},19:function(a){return Number(1==a?0:0===a||a%100>1&&11>a%100?1:a%100>10&&20>a%100?2:3)},20:function(a){return Number(1==a?0:0===a||a%100>0&&20>a%100?1:2)},21:function(a){return Number(a%100==1?1:a%100==2?2:a%100==3||a%100==4?3:0)}},W={rules:function(){var a,b={};for(a=U.length;a--;)b[U[a][0]]={name:U[a][1],numbers:U[a][2],plurals:V[U[a][3]]};return b}(),addRule:function(a,b){W.rules[a]=b},setCurrentLng:function(a){if(!W.currentRule||W.currentRule.lng!==a){var b=a.split("-");W.currentRule={lng:a,rule:W.rules[b[0]]}}},needsPlural:function(a,b){var c,d=a.split("-");return c=W.currentRule&&W.currentRule.lng===a?W.currentRule.rule:W.rules[d[T.getCountyIndexOfLng(a)]],c&&c.numbers.length<=1?!1:1!==this.get(a,b)},get:function(a,b){function c(b,c){var d;if(d=W.currentRule&&W.currentRule.lng===a?W.currentRule.rule:W.rules[b]){var e;e=d.plurals(d.noAbs?c:Math.abs(c));var f=d.numbers[e];return 2===d.numbers.length&&1===d.numbers[0]&&(2===f?f=-1:1===f&&(f=1)),f}return 1===c?"1":"-1"}var d=a.split("-");return c(d[T.getCountyIndexOfLng(a)],b)}},X={},Y=function(a,b){X[a]=b},Z=function(){function a(a){return Object.prototype.toString.call(a).slice(8,-1).toLowerCase()}function b(a,b){for(var c=[];b>0;c[--b]=a);return c.join("")}var c=function(){return c.cache.hasOwnProperty(arguments[0])||(c.cache[arguments[0]]=c.parse(arguments[0])),c.format.call(null,c.cache[arguments[0]],arguments)};return c.format=function(c,d){var e,f,g,h,i,j,k,l=1,m=c.length,n="",o=[];for(f=0;m>f;f++)if(n=a(c[f]),"string"===n)o.push(c[f]);else if("array"===n){if(h=c[f],h[2])for(e=d[l],g=0;g<h[2].length;g++){if(!e.hasOwnProperty(h[2][g]))throw Z('[sprintf] property "%s" does not exist',h[2][g]);e=e[h[2][g]]}else e=h[1]?d[h[1]]:d[l++];if(/[^s]/.test(h[8])&&"number"!=a(e))throw Z("[sprintf] expecting number but found %s",a(e));switch(h[8]){case"b":e=e.toString(2);break;case"c":e=String.fromCharCode(e);break;case"d":e=parseInt(e,10);break;case"e":e=h[7]?e.toExponential(h[7]):e.toExponential();break;case"f":e=h[7]?parseFloat(e).toFixed(h[7]):parseFloat(e);break;case"o":e=e.toString(8);break;case"s":e=(e=String(e))&&h[7]?e.substring(0,h[7]):e;break;case"u":e=Math.abs(e);break;case"x":e=e.toString(16);break;case"X":e=e.toString(16).toUpperCase()}e=/[def]/.test(h[8])&&h[3]&&e>=0?"+"+e:e,j=h[4]?"0"==h[4]?"0":h[4].charAt(1):" ",k=h[6]-String(e).length,i=h[6]?b(j,k):"",o.push(h[5]?e+i:i+e)}return o.join("")},c.cache={},c.parse=function(a){for(var b=a,c=[],d=[],e=0;b;){if(null!==(c=/^[^\x25]+/.exec(b)))d.push(c[0]);else if(null!==(c=/^\x25{2}/.exec(b)))d.push("%");else{if(null===(c=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(b)))throw"[sprintf] huh?";if(c[2]){e|=1;var f=[],g=c[2],h=[];if(null===(h=/^([a-z_][a-z_\d]*)/i.exec(g)))throw"[sprintf] huh?";for(f.push(h[1]);""!==(g=g.substring(h[0].length));)if(null!==(h=/^\.([a-z_][a-z_\d]*)/i.exec(g)))f.push(h[1]);else{if(null===(h=/^\[(\d+)\]/.exec(g)))throw"[sprintf] huh?";f.push(h[1])}c[2]=f}else e|=2;if(3===e)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";d.push(c)}b=b.substring(c[0].length)}return d},c}(),$=function(a,b){return b.unshift(a),Z.apply(null,b)};Y("sprintf",function(a,b,c){return c.sprintf?"[object Array]"===Object.prototype.toString.apply(c.sprintf)?$(a,c.sprintf):"object"==typeof c.sprintf?Z(a,c.sprintf):a:a}),J.init=g,J.setLng=r,J.preload=h,J.addResourceBundle=i,J.hasResourceBundle=j,J.getResourceBundle=k,J.addResource=m,J.addResources=n,J.removeResourceBundle=l,J.loadNamespace=p,J.loadNamespaces=q,J.setDefaultNamespace=o,J.t=B,J.translate=B,J.exists=A,J.detectLanguage=T.detectLanguage,J.pluralExtensions=W,J.sync=O,J.functions=T,J.lng=s,J.addPostProcessor=Y,J.applyReplacement=T.applyReplacement,J.options=P}("undefined"==typeof exports?window:exports),+function(a){"use strict";a.showMessage=function(b){var c=a('<div class="alert alert-'+b.type+' alert-dismissible"></div>'),d=a('<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>');c.append(d).append(b.msg),c.css({position:"fixed",top:b.pos.top,left:b.pos.left,bottom:b.pos.bottom,right:b.pos.right,display:"block"}),c.css("z-index",99),setTimeout(function(){c.fadeOut("slow")},3e3),a(document.body).append(c)},a.showMessageDialog=function(b){var c,d=a('<div class="alert alert-'+b.type+' alert-dismissible alert-dialog"></div>'),e=a('<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>'),f=a("<h4>"+b.title+"</h4>"),g=a("<p>"+b.msg+"</p>");
c=a("danger"==b.type||"warning"==b.type?'<div class="alert-dialog-footer"><div class="col-md-6" ><button type="button" data-role="okbtn" data-dismiss="alert" class="btn btn-danger btn-block">确定</button></div><div class="col-md-6"><button type="button" data-dismiss="alert" class="btn btn-default btn-block">取消</button></div></div>':'<div class="alert-dialog-footer"><div class="col-md-12" ><button type="button" data-role="okbtn" data-dismiss="alert" class="btn btn-primary btn-block ">确定</button></div></div>'),d.append(e).append(f).append(g).append(c),b.backdrop&&(a(document.body).append('<div class="alert-backdrop" role="alert-dialog-backdrop"></div>'),d.on("close.bs.alert",function(){a('.alert-backdrop[role="alert-dialog-backdrop"]').remove()})),d.find('[data-role="okbtn"]').on("click.alert.ok",b.okfn),d.css("z-index",99),a(document.body).append(d)},a.showWaiting=function(){a(document.body).append('<div class="alert alert-waiting"><i class="fa fa-spinner fa-spin"></i></div>').append('<div class="alert-backdrop" role="waiting-backdrop"></div>')},a.removeWaiting=function(){var b;(b=a(".alert.alert-waiting")).length&&b.remove(),(b=a('.alert-backdrop[role="waiting-backdrop"]')).length&&b.remove()}}(jQuery),+function(a){a.fn.selectText=function(){var a=document,b=this[0];if(a.body.createTextRange){var c=document.body.createTextRange();c.moveToElementText(b),c.select()}else if(window.getSelection){var d=window.getSelection(),c=document.createRange();c.selectNodeContents(b),d.removeAllRanges(),d.addRange(c)}}}(jQuery),+function(a){"use strict";function b(a){for(var b=a.offsetLeft||0,c=a.offsetTop||0;a=a.offsetParent;)b+=a.offsetLeft,c+=a.offsetTop;return{x:b,y:c}}function c(a,b){for(var c=0;c<a.length;c++)if(a[c]==b)return c;return-1}function d(b){if(1==this.length){var c=a(this),d=c.data("u.autocomplete"),f="object"==typeof b&&b;return d||c.data("u.autocomplete",d=new e(this,f)),d}}var e=function(b,c){this.$input=a(b),this.options=a.extend({},e.DEFAULTS,c),this.requestIndex=0,this.pending=0;var d=this;this.options.inputClass&&this.$input.addClass(this.options.inputClass);var f=document.createElement("div");this.$results=a(f),this.$results.hide().addClass(this.options.resultsClass).css("position","absolute"),this.options.width>0&&this.$results.css("width",this.options.width),a("body").append(f),this.timeout=null,this.prev="",this.active=-1,this.cache={},this.keyb=!1,this.hasFocus=!1,this.lastKeyPressCode=null,this._initSource(),this.$input.keydown(function(a){switch(d.lastKeyPressCode=a.keyCode,a.keyCode){case 38:a.preventDefault(),d.moveSelect(-1);break;case 40:a.preventDefault(),d.moveSelect(1);break;case 9:case 13:d.selectCurrent()&&(d.$input.get(0).blur(),a.preventDefault());break;default:d.active=-1,d.timeout&&clearTimeout(d.timeout),d.timeout=setTimeout(function(){d.onChange()},d.options.delay)}}).focus(function(){d.hasFocus=!0}).blur(function(){d.hasFocus=!1,d.hideResults()}),this.hideResultsNow()};e.DEFAULTS={inputClass:"ac_input",resultsClass:"ac_results",lineSeparator:"\n",cellSeparator:"|",minChars:1,delay:400,matchCase:0,matchSubset:1,matchContains:0,cacheLength:1,mustMatch:0,extraParams:{},loadingClass:"ac_loading",selectFirst:!1,selectOnly:!1,maxItemsToShow:-1,autoFill:!1,width:0,source:null,select:null},e.fn=e.prototype,e.fn.flushCache=function(){this.cache={},this.cache.data={},this.cache.length=0},e.fn._initSource=function(){var b,c,d=this;a.isArray(this.options.source)?(b=this.options.source,this.source=function(a,c){c(d.filterData(a.term,b))}):"string"==typeof this.options.source?(c=this.options.source,this.source=function(b,e){d.xhr&&d.xhr.abort(),d.xhr=a.ajax({url:c,data:b,dataType:"json",success:function(a){e(a)},error:function(){e([])}})}):this.source=this.options.source},e.fn._response=function(){var b=++this.requestIndex;return a.proxy(function(a){b===this.requestIndex&&this.__response(a),this.pending--,!this.pending},this)},e.fn.__response=function(a){a&&this.receiveData2(a),this.showResults()},e.fn.onChange=function(){if(46==this.lastKeyPressCode||this.lastKeyPressCode>8&&this.lastKeyPressCode<32)return this.$results.hide();var a=this.$input.val();a!=this.prev&&(this.prev=a,a.length>=this.options.minChars?(this.$input.addClass(this.options.loadingClass),this.pending++,this.source({term:a},this._response())):(this.$input.removeClass(this.options.loadingClass),this.$results.hide()))},e.fn.moveSelect=function(b){var c=a("li",this.$results[0]);c&&(this.active+=b,this.active<0?this.active=0:this.active>=c.size()&&(this.active=c.size()-1),c.removeClass("ac_over"),a(c[this.active]).addClass("ac_over"))},e.fn.selectCurrent=function(){var b=a("li.ac_over",this.$results[0])[0];if(!b){var c=a("li",this.$results[0]);this.options.selectOnly?1==c.length&&(b=c[0]):this.options.selectFirst&&(b=c[0])}return b?(this.selectItem(b),!0):!1},e.fn.selectItem=function(b){var c=this;b||(b=document.createElement("li"),b.selectValue="");var d=a.trim(b.selectValue?b.selectValue:b.innerHTML);this.lastSelected=d,this.prev=d,this.$results.html(""),this.$input.val(d),this.hideResultsNow(),this.options.select&&setTimeout(function(){c.options.select(b._item)},1)},e.fn.createSelection=function(a,b){var c=this.$input.get(0);if(c.createTextRange){var d=c.createTextRange();d.collapse(!0),d.moveStart("character",a),d.moveEnd("character",b),d.select()}else c.setSelectionRange?c.setSelectionRange(a,b):c.selectionStart&&(c.selectionStart=a,c.selectionEnd=b);c.focus()},e.fn.autoFill=function(a){8!=this.lastKeyPressCode&&(this.$input.val(this.$input.val()+a.substring(this.prev.length)),this.createSelection(this.prev.length,a.length))},e.fn.showResults=function(){var a=b(this.$input[0]),c=this.options.width>0?this.options.width:this.$input.width();"100%"===this.options.width?this.$results.css({top:a.y+this.$input[0].offsetHeight+"px",left:a.x+"px"}).show():this.$results.css({width:parseInt(c)+"px",top:a.y+this.$input[0].offsetHeight+"px",left:a.x+"px"}).show()},e.fn.hideResults=function(){var a=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){a.hideResultsNow()},200)},e.fn.hideResultsNow=function(){if(this.timeout&&clearTimeout(this.timeout),this.$input.removeClass(this.options.loadingClass),this.$results.hide(),this.options.mustMatch){var a=this.$input.val();a!=this.lastSelected&&this.selectItem(null)}},e.fn.receiveData=function(a,b){if(b){if(this.$input.removeClass(this.options.loadingClass),this.$results.html(""),!this.hasFocus||0==b.length)return this.hideResultsNow();this.$results.append(this.dataToDom(b)),this.options.autoFill&&this.$input.val().toLowerCase()==a.toLowerCase()&&this.autoFill(b[0][0]),this.showResults()}else this.hideResultsNow()},e.fn.filterData=function(a,b){if(!a)return b;for(var c=[],d=0,e=b.length;e>d;d++){var f=b[d].label;0==f.indexOf(a)&&c.push(b[d])}return c},e.fn.receiveData2=function(a){if(a){if(this.$input.removeClass(this.options.loadingClass),this.$results.html(""),!this.hasFocus||0==a.length)return this.hideResultsNow();this.$results.append(this.dataToDom2(a)),this.showResults()}else this.hideResultsNow()},e.fn.dataToDom2=function(b){var d=document.createElement("ul"),e=b.length,f=this;this.options.maxItemsToShow>0&&this.options.maxItemsToShow<e&&(e=this.options.maxItemsToShow);for(var g=0;e>g;g++){var h=b[g];if(h){var i=document.createElement("li");i.innerHTML=this.options.formatItem?this.options.formatItem(h,g,e):h.label,i.selectValue=h.label,i._item=h,d.appendChild(i),a(i).hover(function(){a("li",d).removeClass("ac_over"),a(this).addClass("ac_over"),f.active=c(a("li",d),a(this).get(0))},function(){a(this).removeClass("ac_over")}).click(function(a){a.preventDefault(),a.stopPropagation(),f.selectItem(this)})}}return d},e.fn.parseData=function(b){if(!b)return null;for(var c=[],d=b.split(this.options.lineSeparator),e=0;e<d.length;e++){var f=a.trim(d[e]);f&&(c[c.length]=f.split(this.options.cellSeparator))}return c},e.fn.dataToDom=function(b){var d=document.createElement("ul"),e=b.length,f=this;this.options.maxItemsToShow>0&&this.options.maxItemsToShow<e&&(e=this.options.maxItemsToShow);for(var g=0;e>g;g++){var h=b[g];if(h){var i=document.createElement("li");this.options.formatItem?(i.innerHTML=this.options.formatItem(h,g,e),i.selectValue=h[0]):(i.innerHTML=h[0],i.selectValue=h[0]);var j=null;if(h.length>1){j=[];for(var k=1;k<h.length;k++)j[j.length]=h[k]}i.extra=j,d.appendChild(i),a(i).hover(function(){a("li",d).removeClass("ac_over"),a(this).addClass("ac_over"),f.active=c(a("li",d),a(this).get(0))},function(){a(this).removeClass("ac_over")}).click(function(a){a.preventDefault(),a.stopPropagation(),f.selectItem(this)})}}return d},e.fn.requestData=function(b){var c=this;this.options.matchCase||(b=b.toLowerCase());var d=this.options.cacheLength?this.loadFromCache(b):null;d?this.receiveData(b,d):"string"==typeof this.options.url&&this.options.url.length>0?a.get(this.makeUrl(b),function(a){a=c.parseData(a),c.addToCache(b,a),c.receiveData(b,a)}):this.$input.removeClass(this.options.loadingClass)},e.fn.makeUrl=function(a){var b=this.options.url+"?q="+encodeURI(a);for(var c in this.options.extraParams)b+="&"+c+"="+encodeURI(this.options.extraParams[c]);return b},e.fn.loadFromCache=function(a){if(!a)return null;if(this.cache.data[a])return this.cache.data[a];if(this.options.matchSubset)for(var b=a.length-1;b>=this.options.minChars;b--){var c=a.substr(0,b),d=this.cache.data[c];if(d){for(var e=[],f=0;f<d.length;f++){var g=d[f],h=g[0];this.matchSubset(h,a)&&(e[e.length]=g)}return e}}return null},e.fn.matchSubset=function(a,b){this.options.matchCase||(a=a.toLowerCase());var c=a.indexOf(b);return-1==c?!1:0==c||this.options.matchContains},e.fn.addToCache=function(a,b){b&&a&&this.options.cacheLength&&(!this.cache.length||this.cache.length>this.options.cacheLength?(this.flushCache(),this.cache.length++):this.cache[a]||this.cache.length++,this.cache.data[a]=b)};var f=a.fn.autocomplete;a.fn.autocomplete=d,a.fn.autocomplete.Constructor=e,a.fn.autocomplete.noConflict=function(){return a.fn.autocomplete=f,this}}(jQuery),+function(a){"use strict";function b(b){if(1==this.length){var d=a(this),e=d.data("u.backtop"),f="object"==typeof b&&b;return e||d.data("u.backtop",e=new c(this,f)),e}}var c=function(b,d){var e=this;this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),a(window).scroll(function(){a(document).scrollTop()>e.options.toggleHeight?e.$element.addClass("active"):e.$element.removeClass("active")}),this.$element.click(function(){a(document).scrollTop(0)})};c.DEFAULTS={toggleHeight:100},c.fn=c.prototype;var d=a.fn.backtop;a.fn.backtop=b,a.fn.backtop.Constructor=c,a.fn.backtop.noConflict=function(){return a.fn.backtop=d,this}}(jQuery),+function(a){"use strict";function b(a){this.precision=a}function c(a){this.pattern=a}b.prototype.update=function(a){this.precision=a},b.prototype.format=function(b){if(!a.isNumeric(b))return"";for(;"0"==(b+"").charAt(0)&&b.length>1;)b=b.substring(1);var c=b;if(a.isNumeric(this.precision)){var d=parseFloat(b);if(c=(Math.round(d*Math.pow(10,this.precision))/Math.pow(10,this.precision)).toFixed(this.precision),"NaN"==c)return""}return c},c.prototype.update=function(a){this.pattern=a},c.prototype.format=function(a){return moment(a).format(this.pattern)},window.DataPlugins=window.DataPlugins?window.DataPlugins:{},window.DataPlugins.formater={getter:function(){},setter:function(d,e){var f=JSON.parse(a(this).attr("data-plugin")),g=window.DataPlugins.formater[d.type];"number"==d.type?g=g?g.update(f.formater.precision):new b(f.formater.precision):"date"==d.type&&(g=g?g.update(f.formater.pattern):new c(f.formater.pattern)),this.showValue=g.format(e),this.trueValue=this.showValue}}}(jQuery),+function(){"use strict";function a(a){return a.toString().length>1?a.toString():"0"+a.toString()}String.prototype.trim=function(){return this.replace(/^\s*(\b.*\b|)\s*$/,"$1")},String.prototype.replaceStr=function(a,b){var c=this.split(a);return new String(c.join(b))},String.prototype.lengthb=function(){var a=this.replace(/[^\x00-\xff]/g,"**");return a.length},String.prototype.replaceAll=function(a,b){var c=new RegExp(a,"g");return this.replace(c,b)},String.prototype.substrCH=function(a){for(var b=0,c=0;a>b&&c<this.length;){var d=this.charCodeAt(c);if(d>256&&b==a-1)break;b+=d>256?2:1,c+=1}return this.substr(0,c)},String.prototype.startWith=function(a){return 0==this.indexOf(a)},String.prototype.endWith=function(a){var b=this.indexOf(a);return-1==b?void 0:b==this.length-a.length},String.prototype.format=function(a){if(null!=a){var b=this;for(var c in a){var d=new RegExp("\\<\\#\\="+c+"\\#\\>","gi");b=b.replace(d,a[c]?"null"==a[c]?"":a[c]:"")}}return b},Date.prototype.format=function(b){var c=this.getFullYear(),d=this.getMonth()+1,e=this.getDate(),f=this.getHours(),g=this.getMinutes(),h=this.getSeconds();return b=b||"yyyy-MM-dd hh:mm:ss",b.replace(/yyyy/,c).replace(/yy/,c.toString().substr(2,2)).replace(/MM/,a(d)).replace(/M/,d).replace(/dd/,a(e)).replace(/d/,e).replace(/hh/,a(f)).replace(/h/,f).replace(/mm/,a(g)).replace(/m/,g).replace(/ss/,a(h)).replace(/s/,h)},Date.prototype.getAAAAMMJJ=function(){var a=this.getDate();10>a&&(a="0"+a);var b=this.getMonth()+1;10>b&&(b="0"+b);var c=this.getYear();return c+""+b+a},Date.prototype.getFomatDate=function(){var a=this.getFullYear(),b=this.getMonth()+1;10>b&&(b="0"+b);var c=this.getDate();return 10>c&&(c="0"+c),a+"-"+b+"-"+c},Date.prototype.getFomatDateTime=function(){var a=this.getFullYear(),b=this.getMonth()+1;10>b&&(b="0"+b);var c=this.getDate();10>c&&(c="0"+c);var d=this.getHours();10>d&&(d="0"+d);var e=this.getMinutes();10>e&&(e="0"+e);var f=this.getSeconds();return 10>f&&(f="0"+f),a+"-"+b+"-"+c+" "+d+":"+e+":"+f},Array.prototype.indexOf=function(a){for(var b=0;b<this.length;b++)if(this[b]==a)return b;return-1},Array.prototype.remove=function(a){return 0>a||a>this.length?void alert("index out of bound"):void this.splice(a,1)},Array.prototype.removeEle=function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]==a)return void this.splice(b,1)},Math.UUID=function(){return((new Date).getTime()+"").substr(9)},String.UUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"==a?b:3&b|8;return c.toString(16)})},Array.prototype.insert=function(a,b){return 0>a||a>this.length?void alert("index out of bound"):void this.splice(a,0,b)},Array.prototype.values=function(a){if(null==a)return null;for(var b=new Array,c=0;c<a.length;c++)b.push(this[a[c]]);return b},Array.prototype.clear=function(){this.splice(0,this.length)}}(jQuery),+function(a){"use strict";function b(){}function c(){}function d(a){this.update(a)}function e(a){this.update(a)}function f(a){this.update(a)}function g(a){this.update(a)}function h(a){this.update(a)}function i(a){this.update(a)}function j(){}function k(a){this.value=a}function l(a,b){this.value=a,this.color=b}b.prototype.format=function(a){if(null==a)return null;var b=this.formatArgument(a);return this.innerFormat(b)},b.prototype.formatArgument=function(){},b.prototype.innerFormat=function(){},c.prototype=new b,c.prototype.elements=new Array,c.prototype.format=function(a){if(null==a)return null;var b=this.formatArgument(a);return this.innerFormat(b)},c.prototype.formatArgument=function(a){return a},c.prototype.innerFormat=function(a){if(null==a||""==a)return new l(a);this.doSplit();var b="";return b=this.getElementsValue(this.elements,a),new l(b)},c.prototype.getElementsValue=function(a,b){var c="";if(a instanceof Array)for(var d=0;d<a.length;d++)c+=this.getElementsValue(a[d],b);else a.getValue&&(c=a.getValue(b));return c},c.prototype.getExpress=function(){},c.prototype.doSplit=function(){var a=this.getExpress();(null==this.elements||0==this.elements.length)&&(this.elements=this.doQuotation(a,this.getSeperators(),this.getReplaceds(),0))},c.prototype.doQuotation=function(a,b,c,d){if(0==a.length)return null;var e,f=new Array,g=new RegExp('".*?"',"g"),h=0;do if(e=g.exec(a),null!=e){var i=e.index,j=g.lastIndex;if(i!=j&&i>h){var l=this.doSeperator(a.substring(h,i),b,c,d);null!=l&&l.length>0&&f.push(l)}f.push(new k(a.substring(i+1,j-1))),h=j}while(null!=e);if(h<a.length){var l=this.doSeperator(a.substring(h,a.length),b,c,d);null!=l&&l.length>0&&f.push(l)}return f},c.prototype.doSeperator=function(a,b,c,d){if(d>=b.length){var e=new Array;return e.push(this.getVarElement(a)),e}if(0==a.length)return null;var f,g=0,e=new Array,h=new RegExp(b[d],"g");do if(f=h.exec(a),null!=f){var i=f.index,j=h.lastIndex;if(i!=j){if(i>g){var l=this.doSeperator(a.substring(g,i),b,c,d+1);null!=l&&l.length>0&&e.push(l)}e.push(null!=c[d]?new k(c[d]):new k(a.substring(i,j))),g=j}}while(null!=f);if(g<a.length){var l=this.doSeperator(a.substring(g,a.length),b,c,d+1);null!=l&&l.length>0&&e.push(l)}return e},d.prototype=new c,d.prototype.update=function(b){this.formatMeta=a.extend({},d.DefaultFormatMeta,b)},d.prototype.getExpress=function(){return this.formatMeta.express},d.prototype.getReplaceds=function(){return[this.formatMeta.separator]},d.prototype.getSeperators=function(){return["(\\s)+?"]},d.prototype.getVarElement=function(a){var b={};return"C"==a&&(b.getValue=function(a){return a.country}),"S"==a&&(b.getValue=function(a){return a.state}),"T"==a&&(b.getValue=function(a){return a.city}),"D"==a&&(b.getValue=function(a){return a.section}),"R"==a&&(b.getValue=function(a){return a.road}),"P"==a&&(b.getValue=function(a){return a.postcode}),void 0==typeof b.getValue?new k(a):b},d.prototype.formatArgument=function(a){return a},e.prototype=new b,e.prototype.formatMeta=null,e.prototype.update=function(b){this.formatMeta=a.extend({},e.DefaultFormatMeta,b)},e.prototype.innerFormat=function(a){var b,c,d,e;b=a.value,b>0?(c=this.formatMeta.positiveFormat,e=b+""):0>b?(c=this.formatMeta.negativeFormat,e=(b+"").substr(1,(b+"").length-1)):(c=this.formatMeta.positiveFormat,e=b+""),d=e.indexOf("."),e=this.setTheSeperator(e,d),e=this.setTheMark(e,d);var f=null;return 0>b&&this.formatMeta.isNegRed&&(f="FF0000"),new l(c.replaceAll("n",e),f)},e.prototype.setTheMark=function(a,b){var c,d,e;if(!this.formatMeta.isMarkEnable)return a;for(0>=b&&(b=a.length),d=a.charCodeAt(0),c=0,45==d&&(c=1),e=b-3;e>c;)a=a.substr(0,e-0)+this.formatMeta.markSymbol+a.substr(e,a.length-e),e-=3;return a},e.prototype.setTheSeperator=function(a,b){var c;return b>0&&(c=e.toCharArray(a),c[b]=this.formatMeta.pointSymbol,a=c.join("")),a},e.toCharArray=function(a){for(var a=a.split(""),b=new Array,c=0;c<a.length;c++)b.push(a[c]);return b},e.prototype.formatArgument=function(a){var b={};return b.value=a,b},f.prototype=new e,f.prototype.formatMeta=null,f.prototype.update=function(b){this.formatMeta=a.extend({},f.DefaultFormatMeta,b)},f.prototype.innerFormat=function(a){var b=new e(this.formatMeta).innerFormat(a);return b},g.prototype=new c,g.prototype.formatMeta=null,g.prototype.update=function(b){this.formatMeta=a.extend({},g.DefaultFormatMeta,b)},g.enShortMonth=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],g.enLongMonth=["January","February","March","April","May","June","July","August","September","October","November","December"],g.prototype.doOne=function(a){if(0==a.length)return new"";var b=new Object;return"yyyy"==a&&(b.getValue=function(a){return g.getyyyy(a)}),"yy"==a&&(b.getValue=function(a){return g.getyy(a)}),"MMMM"==a&&(b.getValue=function(a){return g.getMMMM(a)}),"MMM"==a&&(b.getValue=function(a){return g.getMMM(a)}),"MM"==a&&(b.getValue=function(a){return g.getMM(a)}),"M"==a&&(b.getValue=function(a){return g.getM(a)}),"dd"==a&&(b.getValue=function(a){return g.getdd(a)}),"d"==a&&(b.getValue=function(a){return g.getd(a)}),"hh"==a&&(b.getValue=function(a){return g.gethh(a)}),"h"==a&&(b.getValue=function(a){return g.geth(a)}),"mm"==a&&(b.getValue=function(a){return g.getmm(a)}),"m"==a&&(b.getValue=function(a){return g.getm(a)}),"ss"==a&&(b.getValue=function(a){return g.getss(a)}),"s"==a&&(b.getValue=function(a){return g.gets(a)}),"HH"==a&&(b.getValue=function(a){return g.getHH(a)}),"H"==a&&(b.getValue=function(a){return g.getH(a)}),"t"==a&&(b.getValue=function(a){return g.gett(a)}),"st"==a&&(b.getValue=function(a){return g.gets(a)+g.gett(a)}),"mt"==a&&(b.getValue=function(a){return g.getm(a)+g.gett(a)}),"yyyyMMdd"==a&&(b.getValue=function(a){return g.getyyyy(a)+g.getMM(a)+g.getdd(a)}),"undefined"==typeof b.getValue&&(b.getValue=function(a){return g.getyyyy(a)+"-"+g.getMM(a)+"-"+g.getdd(a)}),b},g.getyyyy=function(a){return a.getFullYear()},g.getyy=function(a){return(""+a.getFullYear()).substring(2)},g.getM=function(a){return""+(a.getMonth()+1)},g.getMM=function(a){var b=a.getMonth()+1;return 10>b?"0"+b:b},g.getMMM=function(a){return this.enShortMonth[a.getMonth()]},g.getMMMM=function(a){return this.enLongMonth[a.getMonth()]},g.getdd=function(a){var b=a.getDate();return 10>b?"0"+b:a.getDate()+""},g.getd=function(a){return a.getDate()+""},g.gethh=function(a){var b=a.getHours();return 10>b?"0"+b:a.getHours()+""},g.geth=function(a){return a.getHours()+""},g.getHH=function(a){var b=a.getHours();return b>=12&&(b-=12),10>b?"0"+b:b+""},g.getH=function(a){var b=a.getHours();return b>=12&&(b-=12),b+""},g.getmm=function(a){var b=a.getMinutes();return 10>b?"0"+b:a.getMinutes()+""},g.getm=function(a){return""+a.getMinutes()},g.getss=function(a){var b=a.getSeconds();return 10>b?"0"+b:b+""},g.gets=function(a){return a.getSeconds()+""},g.gett=function(a){var b=a.getHours();return 12>=b?"AM":"PM"},g.prototype.getExpress=function(){return this.formatMeta.format},g.prototype.getReplaceds=function(){return[" ",this.formatMeta.speratorSymbol,":"]},g.prototype.getSeperators=function(){return["(\\s)+?","-",":"]},g.prototype.getVarElement=function(a){return this.doOne(a)},g.prototype.formatArgument=function(a){if(0==a)return"";if(null==a||""==a)return a;if("string"==typeof a){var b=a.split(" ");if(b.length>0){var c=b[0].split("-"),d=new Date;if(d.setDate(1),d.setFullYear(parseInt(c[0],10)),d.setMonth(parseInt(c[1],10)-1),d.setDate(parseInt(c[2],10)),2==b.length&&void 0!=b[1]){var e=b[1].split(":");d.setHours(parseInt(e[0],10)),d.setMinutes(parseInt(e[1],10)),d.setSeconds(parseInt(e[2],10)),e.length>3&&d.setMilliseconds(parseInt(e[3],10))}}return d}return a},h.prototype=new g,h.DefaultFormatMeta=a.extend({},g.DefaultFormatMeta,{format:"yyyy-MM-dd"}),h.prototype.update=function(b){this.formatMeta=a.extend({},h.DefaultFormatMeta,b)},i.prototype=new g,i.DefaultFormatMeta=a.extend({},g.DefaultFormatMeta,{format:"hh:mm:ss"}),i.prototype.update=function(b){this.formatMeta=a.extend({},i.DefaultFormatMeta,b)},j.prototype=new b,j.prototype.formatArgument=function(a){return a},j.prototype.innerFormat=function(a){var b="";if(""!=a){var c=String(a),d=c.length-c.indexOf(".")-1,e=d-2;0>e&&(e=0),b=100*parseFloat(a),b=(b*Math.pow(10,e)/Math.pow(10,e)).toFixed(e),b+="%"}return{value:b}},k.prototype=new Object,k.prototype.value="",k.prototype.getValue=function(){return this.value},l.prototype=new Object,e.DefaultFormatMeta={isNegRed:!0,isMarkEnable:!0,markSymbol:",",pointSymbol:".",positiveFormat:"n",negativeFormat:"-n"},f.DefaultFormatMeta=a.extend({},e.DefaultFormatMeta,{positiveFormat:"$n",negativeFormat:"$-n"}),d.defaultFormatMeta={express:"C S T R P",separator:" "},g.DefaultFormatMeta={format:"yyyy-MM-dd hh:mm:ss",speratorSymbol:"-"},window.DataPlugins=window.DataPlugins?window.DataPlugins:{},window.DataPlugins.masker={getter:function(){},setter:function(b,c){var k=JSON.parse(a(this).attr("data-plugin"));this.trueValue=k.formater?this.trueValue:c;var l=window.DataPlugins.masker[b.type],m=k.masker;"number"==b.type?l=l?l.update(m):new e(m):"percent"==b.type?l=l?l.update(m):new j(m):"currency"==b.type?l=l?l.update(m):new f(m):"datetime"==b.type?l=l?l.update(m):new g(m):"date"==b.type?l=l?l.update(m):new h(m):"time"==b.type?l=l?l.update(m):new i(m):"address"==b.type&&(l=l?l.update(m):new d(m)),this.showValue=l.format(this.trueValue).value}}}(jQuery),+function(a){"use strict";function b(){var a,b={},c=navigator.userAgent.toLowerCase();return(a=c.match(/rv:([\d.]+)\) like gecko/))?b.ie=parseInt(a[1]):(a=c.match(/msie ([\d.]+)/))?b.ie=a[1]:(a=c.match(/firefox\/([\d.]+)/))?b.firefox=a[1]:(a=c.match(/chrome\/([\d.]+)/))?b.chrome=a[1]:(a=c.match(/opera.([\d.]+)/))?b.opera=a[1]:(a=c.match(/version\/([\d.]+).*safari/))?b.safari=a[1]:0,b}function c(a,b){b.browser.ie&&b.browser.ie<9?a.show():a.css("transition","all 300ms").css("transform","translate3d(0,0,0)")}function d(a,b,c){b.browser.ie&&b.browser.ie<9?a.hide():a.css("transition","all 300ms").css("transform","translate3d("+c+"px,0,0)")}function e(b){if(1==this.length){var c=a(this),d=c.data("u.mdlayout"),e="object"==typeof b&&b;return d||c.data("u.mdlayout",d=new f(this,e)),d}}var f=function(c,d){this.browser=b();var e=this;this.$element=a(c),this.options=a.extend({},f.DEFAULTS,d),this.$element.css("position","relative").css("width","100%").css("height","100%").css("overflow","hidden"),this.$master=this.$element.find('[data-role="master"]'),this.$detail=this.$element.find('[data-role="detail"]'),this.$master.css("float","left").css("height","100%"),this.$detail.css("height","100%").css("overflow","hidden").css("position","relative"),this.masterWidth=this.$master.width(),this.detailWidth=this.$detail.width(),e.browser.ie&&e.browser.ie<9?(this.$master.find('[data-role="page"]').css("position","absolute").css("height","100%").css("width","100%").hide().eq(0).show(),this.$detail.find('[data-role="page"]').css("position","absolute").css("height","100%").css("width","100%").hide().eq(0).show()):(this.$master.find('[data-role="page"]').css("position","absolute").css("transform","translate3d("+this.masterWidth+"px,0,0)").css("height","100%").css("width","100%").eq(0).css("transform","translate3d(0,0,0)"),this.$detail.find('[data-role="page"]').css("position","absolute").css("left","0px").css("transform","translate3d("+this.detailWidth+"px,0,0)").css("height","100%").css("width","100%").eq(0).css("transform","translate3d(0,0,0)")),this.current_m_pageId=this.$master.find('[data-role="page"]').eq(0).attr("id"),this.current_d_pageId=this.$detail.find('[data-role="page"]').eq(0).attr("id"),this.mHistory=[],this.dHistory=[],this.isNarrow=null,this.response(),a(window).resize(function(){e.response()})};f.DEFAULTS={minWidth:480,afterNarrow:function(){},afterUnNarrow:function(){},afterMasterGo:function(){},afterMasterBack:function(){},afterDetailGo:function(){},afterDetailBack:function(){}},f.fn=f.prototype,f.fn.response=function(){var a=this.$element.width();a<this.options.minWidth?((null==this.isNarrow||0==this.isNarrow)&&(this.isNarrow=!0),this.hideMaster(),this.options.afterNarrow()):((null==this.isNarrow||1==this.isNarrow)&&(this.isNarrow=!1),this.showMaster(),this.options.afterUnNarrow()),this.calcWidth()},f.fn.calcWidth=function(){(!this.browser.ie||this.browser.ie>8)&&(this.detailWidth=this.$detail.width(),this.masterWidth=this.$master.width(),this.$detail.find('[data-role="page"]').css("transform","translate3d("+this.detailWidth+"px,0,0)"),this.$detail.find("#"+this.current_d_pageId).css("transform","translate3d(0,0,0)"))},f.fn.mGo=function(a){this.current_m_pageId!=a&&(this.mHistory.push(this.current_m_pageId),d(this.$master.find("#"+this.current_m_pageId),this,"-"+this.masterWidth),this.current_m_pageId=a,c(this.$master.find("#"+this.current_m_pageId),this),this.options.afterMasterGo(a))},f.fn.mBack=function(){0!=this.mHistory.length&&(d(this.$master.find("#"+this.current_m_pageId),this,this.masterWidth),this.current_m_pageId=this.mHistory.pop(),c(this.$master.find("#"+this.current_m_pageId),this),this.options.afterMasterBack(this.current_d_pageId))},f.fn.dGo=function(a){this.current_d_pageId!=a&&(this.dHistory.push(this.current_d_pageId),d(this.$detail.find("#"+this.current_d_pageId),this,"-"+this.detailWidth),this.current_d_pageId=a,c(this.$detail.find("#"+this.current_d_pageId),this),this.options.afterDetailGo(a))},f.fn.dBack=function(){0!=this.dHistory.length&&(d(this.$detail.find("#"+this.current_d_pageId),this,this.detailWidth),this.current_d_pageId=this.dHistory.pop(),c(this.$detail.find("#"+this.current_d_pageId),this),this.options.afterDetailBack(this.current_d_pageId))},f.fn.showMaster=function(){this.browser.ie&&this.browser.ie<9?this.$master.show():this.$master.css("transform","translate3d(0,0,0)").css("transition","all 300ms"),this.isNarrow||this.$master.css("position","relative")},f.fn.hideMaster=function(){this.browser.ie&&this.browser.ie<9?this.$master.hide():this.$master.css("transform","translate3d(-"+this.masterWidth+"px,0,0)").css("transition","all 300ms"),this.$master.css("position","absolute").css("z-index",5),this.calcWidth()};var g=a.fn.mdlayout;a.fn.mdlayout=e,a.fn.mdlayout.Constructor=f,a.fn.mdlayout.noConflict=function(){return a.fn.mdlayout=g,this}}(jQuery),+function(a){"use strict";function b(b){var c=a(this),d=c.data("u.pagination"),f="object"==typeof b&&b;return d?d.update(f):c.data("u.pagination",d=new e(this,f)),d}var c=function(a,b){this.isCurrent=function(){return b==a.currentPage},this.isFirst=function(){return 1==b},this.isLast=function(){return b==a.totalPages},this.isPrev=function(){return b==a.currentPage-1},this.isNext=function(){return b==a.currentPage+1},this.isLeftOuter=function(){return b<=a.outerWindow},this.isRightOuter=function(){return a.totalPages-b<a.outerWindow},this.isInsideWindow=function(){return a.currentPage<a.innerWindow+1?b<=2*a.innerWindow+1:a.currentPage>a.totalPages-a.innerWindow?a.totalPages-b<=2*a.innerWindow:Math.abs(a.currentPage-b)<=a.innerWindow},this.number=function(){return b}},d={firstPage:function(b,c,d){var e=a("<li>").append(a('<a href="#"></a>').html(c.first).bind("click.bs-pagin",function(){return b.firstPage(),!1}));return d.isFirst()&&e.addClass("disabled"),e},prevPage:function(b,c,d){var e=a("<li>").append(a('<a href="#"></a>').attr("rel","prev").html(c.prev).bind("click.bs-pagin",function(){return b.prevPage(),!1}));return d.isFirst()&&e.addClass("disabled"),e},nextPage:function(b,c,d){var e=a("<li>").append(a('<a href="#"></a>').attr("rel","next").html(c.next).bind("click.bs-pagin",function(){return b.nextPage(),!1}));return d.isLast()&&e.addClass("disabled"),e},lastPage:function(b,c,d){var e=a("<li>").append(a('<a href="#"></a>').html(c.last).bind("click.bs-pagin",function(){return b.lastPage(),!1}));return d.isLast()&&e.addClass("disabled"),e},gap:function(b,c){return a("<li>").addClass("disabled").append(a('<a href="#"></a>').html(c.gap))},page:function(b,c,d){var e=a("<li>").append(function(){var c=a('<a href="#"></a>');return d.isNext()&&c.attr("rel","next"),d.isPrev()&&c.attr("rel","prev"),c.html(d.number()),c.bind("click.bs-pagin",function(){return b.page(d.number()),!1}),c});return d.isCurrent()&&e.addClass("active"),e}},e=function(b,c){this.$element=a(b),this.options=a.extend({},e.DEFAULTS,c),this.$ul=this.$element,this.render()};e.DEFAULTS={currentPage:1,totalPages:20,innerWindow:2,outerWindow:0,first:"&laquo;",prev:"&lsaquo;",next:"&rsaquo;",last:"&raquo;",gap:"..",totalText:"合计:",truncate:!1,page:function(){return!0}},e.prototype.update=function(b){this.$ul.empty(),this.options=a.extend({},this.options,b),this.render()},e.prototype.render=function(){var a=this.options;if(!a.totalPages)return void this.$element.hide();this.$element.show();var b=new c(a,a.currentPage);b.isFirst()&&a.truncate||(a.first&&this.$ul.append(d.firstPage(this,a,b)),a.prev&&this.$ul.append(d.prevPage(this,a,b)));for(var e=!1,f=1,g=a.totalPages;g>=f;f++){var h=new c(a,f);h.isLeftOuter()||h.isRightOuter()||h.isInsideWindow()?(this.$ul.append(d.page(this,a,h)),e=!1):!e&&a.outerWindow>0&&(this.$ul.append(d.gap(this,a)),e=!0)}if(b.isLast()&&a.truncate||(a.next&&this.$ul.append(d.nextPage(this,a,b)),a.last&&this.$ul.append(d.lastPage(this,a,b))),a.totalCount>0){var i='<li><a href="#" style="cursor:default;background-color:#FFF;">'+a.totalText+a.totalCount+"</a></li>";this.$ul.append(i)}},e.prototype.page=function(a,b){var c=this.options;return void 0===b&&(b=c.totalPages),a>0&&b>=a&&c.page(a)&&(this.$ul.empty(),c.currentPage=a,c.totalPages=b,this.render()),!1
},e.prototype.firstPage=function(){return this.page(1)},e.prototype.lastPage=function(){return this.page(this.options.totalPages)},e.prototype.nextPage=function(){return this.page(this.options.currentPage+1)},e.prototype.prevPage=function(){return this.page(this.options.currentPage-1)};var f=a.fn.pagination;a.fn.pagination=b,a.fn.pagination.Constructor=e,a.fn.pagination.noConflict=function(){return a.fn.pagination=f,this}}(jQuery),+function(a){"use strict";a("[data-plugin]").each(function(){var b=JSON.parse(a(this).attr("data-plugin"));b&&(Object.defineProperty(a(this)[0],"value",{trueValue:"",get:function(){for(var a in b){var c=window.DataPlugins[a].getter;c&&c.call(this,b[a])}return this.trueValue},set:function(a){if(a!=this.showValue){for(var c in b){var d=window.DataPlugins[c].setter;d&&d.call(this,b[c],a)}this.innerHTML=this.showValue}}}),a(this).focusin(function(a){a.target.innerHTML!=a.target.trueValue&&(a.target.innerHTML=a.target.trueValue||"")}).blur(function(b){b.target.value=b.target.innerHTML,a(b.target).trigger("change")}))})}(jQuery),+function(){var a=function(b){var c=b.contentId;if($.isEmptyObject(c))throw new Error("contentId is null");this.options=$.extend({},a.DEFAULTS,b),this.params=this.options.params,this.create()};a.DEFAULTS={isPOPMode:!1,contentId:null,okId:"okBtn",cancelId:"cancelBtn",setVal:function(){},onOk:function(){},onCancel:function(){}},a.fn=a.prototype,a.fn.create=function(){var a=this;a.setVal=this.options.setVal;var b=this.options.contentId.replace(/[^\w\s]/gi,"\\$&");if(this.options.isPOPMode){var c=$("#"+b);if(0==c.length){a.isDefaultDialog=!0;var d=document.createElement("DIV");d.innerHTML='<div class="modal fade" id="'+b+'"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h4 class="modal-title">Modal title</h4></div><div class="modal-body"></div><div class="modal-footer"><button   type="button" class="btn btn-primary okBtn">确定</button><button  type="button" class="btn btn-default cancelBtn" data-dismiss="modal">取消</button></div></div></div></div>',document.body.appendChild(d),c=$("#"+b)}this.$contentEle=c.find(".modal-body"),this.$okBtn=c.find(".okBtn"),this.$cancelBtn=c.find(".cancelBtn"),this.dialog=c}else $("body").append($("<div>").attr("id",this.options.contentId)),this.$contentEle=$("#"+b),this.$okBtn=$("#"+b+this.options.okId),this.$cancelBtn=$("#"+b+this.options.cancelId);this.$okBtn.on("click",function(){a.submit()}),this.$cancelBtn.on("click",function(){a.cancel()})},a.fn.submit=function(){var a=this.submitData();this.options.onOk(a)},a.fn.cancel=function(){this.options.onCancel()},a.fn.open=function(){var a=this;a.isDefaultDialog&&a.dialog.modal("show"),require([this.options.pageUrl],function(b){a.$contentEle.html(b.template),b.init(a)})},a.fn.registerSubmitFunc=function(a){this.submitData=a},a.fn.submitData=function(){};var b=function(c){var d=new a(c);b.addRefer(d),d.open()};a.fn.destroy=function(){this.dialog&&(this.isDefaultDialog&&(this.dialog.modal("hide"),this.dialog.modal("removeBackdrop")),this.dialog.remove()),delete this.options},b.instances={},b.openRefer=function(c){var d=new a(c);b.addRefer(d),d.open()},b.getRefer=function(a){return b.instances[a]},b.addRefer=function(a){b.instances[a.options.id]=a},b.destroy=function(a){var c=b.instances[a.options.id];delete b.instances[a.options.id],c.destroy()},$.refer=b}(jQuery)+function($){function Plugin(a){if(1==this.length){var b=$(this),c=b.data("u.statemanager"),d="object"==typeof a&&a;return c||b.data("u.statemanager",c=new StateManager(this,d)),c}}var StateManager=function(a,b){this.$element=$(a),this.options=$.extend({},StateManager.DEFAULTS,b),StateManager.instances.push(this),this.update()};StateManager.DEFAULTS={visible:"true",readonly:"false"},StateManager.instances=[],StateManager.update=function(){for(var a=0,b=StateManager.instances.length;b>a;a++)StateManager.instances[a].update()},StateManager.fn=StateManager.prototype,StateManager.fn.update=function(){var visible=eval(this.options.visible),readonly=eval(this.options.readonly);visible?this.$element.show():this.$element.hide(),readonly?this.$element.attr("readonly",!0):this.$element.attr("readonly",!1)};var old=$.fn.stateManager;$.fn.stateManager=Plugin,$.fn.stateManager.Constructor=StateManager,$.fn.stateManager.noConflict=function(){return $.fn.stateManager=old,this},$.StateManager=StateManager}(jQuery),function(a,b,c){function d(b,c){var d=(a(window).width()-b.outerWidth())/2,e=(a(window).height()-b.outerHeight())/2,e=(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop)+(e>0?e:0);b.css({left:d}).animate({top:e},{duration:c,queue:!1})}function e(){return 0!==a("#Validform_msg").length?!1:(g=a('<div id="Validform_msg"><div class="Validform_title">'+i.tit+'<a class="Validform_close" href="javascript:void(0);">&chi;</a></div><div class="Validform_info"></div><div class="iframe"><iframe frameborder="0" scrolling="no" height="100%" width="100%"></iframe></div></div>').appendTo("body"),g.find("a.Validform_close").click(function(){return g.hide(),h=!0,f&&f.focus().addClass("Validform_error"),!1}).focus(function(){this.blur()}),void a(window).bind("scroll resize",function(){!h&&d(g,400)}))}var f=null,g=null,h=!0,i={tit:"提示信息",w:{"*":"不能为空！","*6-16":"请填写6到16位任意字符！",n:"请填写数字！","n6-16":"请填写6到16位数字！",s:"不能输入特殊字符！","s6-18":"请填写6到18位字符！",p:"请填写邮政编码！",m:"请填写手机号码！",e:"邮箱地址格式不对！",url:"请填写网址！"},def:"请填写正确信息！",undef:"datatype未定义！",reck:"两次输入的内容不一致！",r:"",c:"正在检测信息…",s:"请{填写|选择}{0|信息}！",v:"所填信息没有经过验证，请稍后…",p:"正在提交数据…"};a.Tipmsg=i;var j=function(b,d,f){var d=a.extend({},j.defaults,d);d.datatype&&a.extend(j.util.dataType,d.datatype);var g=this;return g.tipmsg={w:{}},g.forms=b,g.objects=[],f===!0?!1:(b.each(function(){if("inited"==this.validform_inited)return!0;this.validform_inited="inited";var b=this;b.settings=a.extend({},d);var e=a(b);b.validform_status="normal",e.data("tipmsg",g.tipmsg),e.delegate("[datatype]","blur",function(){a(this).parent().find(".Validform_wrong").show().siblings(".valid-arrow-bottom").show();var b=arguments[1];j.util.check.call(this,e,b)}),e.delegate("[datatype]","focus",function(){a(this).parent().find(".Validform_wrong").hide().siblings(".valid-arrow-bottom").hide()}),e.delegate("[datatype]","change",function(){a(this).val()?a(this).parent().find(".Validform_wrong").hide().siblings(".valid-arrow-bottom").hide():a(this).parent().find(".Validform_wrong").show().siblings(".valid-arrow-bottom").show()}),e.delegate("[datatype]","keypress",function(b){var c=a(this).attr("datatype");if(j.util.middleValidate[c]){var d=b.keyCode||b.charCode||b.which;if(!(d>=8&&46>=d||108==d)){var e=String.fromCharCode(d),f=j.util.middleValidate[c].single?j.util.middleValidate[c].single.test(e):!0;return f}}}),e.delegate(":text","keypress",function(a){13==a.keyCode&&0==e.find(":submit").length&&e.submit()}),j.util.enhance.call(e,b.settings.tiptype,b.settings.usePlugin,b.settings.tipSweep),b.settings.btnSubmit&&e.find(b.settings.btnSubmit).bind("click",function(){return e.trigger("submit"),!1}),e.submit(function(){var a=j.util.submitForm.call(e,b.settings);return a===c&&(a=!0),a}),e.find("[type='reset']").add(e.find(b.settings.btnReset)).bind("click",function(){j.util.resetForm.call(e)})}),void((1==d.tiptype||(2==d.tiptype||3==d.tiptype)&&d.ajaxPost)&&e()))};j.defaults={tiptype:1,tipSweep:!1,showAllError:!1,postonce:!1,ajaxPost:!1},j.util={dataType:{"*":/[\w\W]+/,"*6-16":/^[\w\W]{6,16}$/,n:/^\d+$/,"n6-16":/^\d{6,16}$/,s:/^[\u4E00-\u9FA5\uf900-\ufa2d\w\.\s]+$/,"s6-18":/^[\u4E00-\u9FA5\uf900-\ufa2d\w\.\s]{6,18}$/,p:/^[0-9]{6}$/,m:/^13[0-9]{9}$|14[0-9]{9}|15[0-9]{9}$|18[0-9]{9}$/,e:/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,url:/^(\w+:\/\/)?\w+(\.\w+)+.*$/,f:/^-?\d+(\.\d+)?$/},middleValidate:{n:{single:/^[0-9-]$/},f:{single:/^[0-9.-]$/,middle:/^-?([0-9]\d*\.\d*|0\.\d*[0-9]\d*|0?\.0+|0)$/}},toString:Object.prototype.toString,isEmpty:function(b){return""===b||b===a.trim(this.attr("tip"))},getValue:function(b){var d,e=this;return b.is(":radio")?(d=e.find(":radio[name='"+b.attr("name")+"']:checked").val(),d=d===c?"":d):b.is(":checkbox")?(d="",e.find(":checkbox[name='"+b.attr("name")+"']:checked").each(function(){d+=a(this).val()+","}),d=d===c?"":d):d=b.is("div")?b[0].trueValue:b.val(),d=a.trim(d),j.util.isEmpty.call(b,d)?"":d},enhance:function(b,c,d,e){var f=this;f.find("[datatype]").each(function(){2==b&&0==a(this).parent().next().find(".Validform_checktip").length&&(a(this).parent().next().append("<span class='Validform_checktip' />"),a(this).siblings(".Validform_checktip").remove())}),f.find("input[recheck]").each(function(){if("inited"==this.validform_inited)return!0;this.validform_inited="inited";var b=a(this),c=f.find("input[name='"+a(this).attr("recheck")+"']");c.bind("keyup",function(){if(c.val()==b.val()&&""!=c.val()){if(c.attr("tip")&&c.attr("tip")==c.val())return!1;b.trigger("blur")}}).bind("blur",function(){if(c.val()!=b.val()&&""!=b.val()){if(b.attr("tip")&&b.attr("tip")==b.val())return!1;b.trigger("blur")}})}),f.find("[tip]").each(function(){if("inited"==this.validform_inited)return!0;this.validform_inited="inited";var b=a(this).attr("tip"),c=a(this).attr("altercss");a(this).focus(function(){a(this).val()==b&&(a(this).val(""),c&&a(this).removeClass(c))}).blur(function(){""===a.trim(a(this).val())&&(a(this).val(b),c&&a(this).addClass(c))})}),f.find(":checkbox[datatype],:radio[datatype]").each(function(){if("inited"==this.validform_inited)return!0;this.validform_inited="inited";var b=a(this),c=b.attr("name");f.find("[name='"+c+"']").filter(":checkbox,:radio").bind("click",function(){setTimeout(function(){b.trigger("blur")},0)})}),f.find("select[datatype][multiple]").bind("click",function(){var b=a(this);setTimeout(function(){b.trigger("blur")},0)}),j.util.usePlugin.call(f,c,b,d,e)},usePlugin:function(b,c,d,e){var f=this,b=b||{};if(f.find("input[plugin='swfupload']").length&&"undefined"!=typeof swfuploadhandler){var g={custom_settings:{form:f,showmsg:function(a,b){j.util.showmsg.call(f,a,c,{obj:f.find("input[plugin='swfupload']"),type:b,sweep:d})}}};g=a.extend(!0,{},b.swfupload,g),f.find("input[plugin='swfupload']").each(function(b){return"inited"==this.validform_inited?!0:(this.validform_inited="inited",a(this).val(""),void swfuploadhandler.init(g,b))})}if(f.find("input[plugin='datepicker']").length&&a.fn.datePicker&&(b.datepicker=b.datepicker||{},b.datepicker.format&&(Date.format=b.datepicker.format,delete b.datepicker.format),b.datepicker.firstDayOfWeek&&(Date.firstDayOfWeek=b.datepicker.firstDayOfWeek,delete b.datepicker.firstDayOfWeek),f.find("input[plugin='datepicker']").each(function(){return"inited"==this.validform_inited?!0:(this.validform_inited="inited",b.datepicker.callback&&a(this).bind("dateSelected",function(){var c=new Date(a.event._dpCache[this._dpId].getSelected()[0]).asString(Date.format);b.datepicker.callback(c,this)}),void a(this).datePicker(b.datepicker))})),f.find("input[plugin*='passwordStrength']").length&&a.fn.passwordStrength&&(b.passwordstrength=b.passwordstrength||{},b.passwordstrength.showmsg=function(a,b,e){j.util.showmsg.call(f,b,c,{obj:a,type:e,sweep:d})},f.find("input[plugin='passwordStrength']").each(function(){return"inited"==this.validform_inited?!0:(this.validform_inited="inited",void a(this).passwordStrength(b.passwordstrength))})),"addRule"!=e&&b.jqtransform&&a.fn.jqTransSelect){if("true"==f[0].jqTransSelected)return;f[0].jqTransSelected="true";var h=function(b){var c=a(".jqTransformSelectWrapper ul:visible");c.each(function(){var c=a(this).parents(".jqTransformSelectWrapper:first").find("select").get(0);b&&c.oLabel&&c.oLabel.get(0)==b.get(0)||a(this).hide()})},i=function(b){0===a(b.target).parents(".jqTransformSelectWrapper").length&&h(a(b.target))},k=function(){a(document).mousedown(i)};b.jqtransform.selector?(f.find(b.jqtransform.selector).filter('input:submit, input:reset, input[type="button"]').jqTransInputButton(),f.find(b.jqtransform.selector).filter("input:text, input:password").jqTransInputText(),f.find(b.jqtransform.selector).filter("input:checkbox").jqTransCheckBox(),f.find(b.jqtransform.selector).filter("input:radio").jqTransRadio(),f.find(b.jqtransform.selector).filter("textarea").jqTransTextarea(),f.find(b.jqtransform.selector).filter("select").length>0&&(f.find(b.jqtransform.selector).filter("select").jqTransSelect(),k())):f.jqTransform(),f.find(".jqTransformSelectWrapper").find("li a").click(function(){a(this).parents(".jqTransformSelectWrapper").find("select").trigger("blur")})}},getNullmsg:function(a){var b,c=this,d=/[\u4E00-\u9FA5\uf900-\ufa2da-zA-Z\s]+/g,e=a[0].settings.label||".Validform_label";if(e=c.siblings(e).eq(0).text()||c.siblings().find(e).eq(0).text()||c.parent().siblings(e).eq(0).text()||c.parent().siblings().find(e).eq(0).text(),e=e.replace(/\s(?![a-zA-Z])/g,"").match(d),e=e?e.join(""):[""],d=/\{(.+)\|(.+)\}/,b=a.data("tipmsg").s||i.s,""!=e){if(b=b.replace(/\{0\|(.+)\}/,e),c.attr("recheck"))return b=b.replace(/\{(.+)\}/,""),c.attr("nullmsg",b),b}else b=c.is(":checkbox,:radio,select")?b.replace(/\{0\|(.+)\}/,""):b.replace(/\{0\|(.+)\}/,"$1");return b=c.is(":checkbox,:radio,select")?b.replace(d,"$2"):b.replace(d,"$1"),c.attr("nullmsg",b),b},getErrormsg:function(b,c,d){var e,f=/^(.+?)((\d+)-(\d+))?$/,g=/^(.+?)(\d+)-(\d+)$/,h=/(.*?)\d+(.+?)\d+(.*)/,j=c.match(f);if("recheck"==d)return e=b.data("tipmsg").reck||i.reck;var k=a.extend({},i.w,b.data("tipmsg").w);if(j[0]in k)return b.data("tipmsg").w[j[0]]||i.w[j[0]];for(var l in k)if(-1!=l.indexOf(j[1])&&g.test(l))return e=(b.data("tipmsg").w[l]||i.w[l]).replace(h,"$1"+j[3]+"$2"+j[4]+"$3"),b.data("tipmsg").w[j[0]]=e,e;return b.data("tipmsg").def||i.def},_regcheck:function(a,b,d,e){var e=e,f=null,g=!1,h=/\/.+\//g,k=/^(.+?)(\d+)-(\d+)$/,l=3;if(h.test(a)){var m=a.match(h)[0].slice(1,-1),n=a.replace(h,""),o=RegExp(m,n);g=o.test(b)}else if("[object Function]"==j.util.toString.call(j.util.dataType[a]))g=j.util.dataType[a](b,d,e,j.util.dataType),g===!0||g===c?g=!0:(f=g,g=!1);else{if(!(a in j.util.dataType)){var p,q=a.match(k);if(q){for(var r in j.util.dataType)if(p=r.match(k),p&&q[1]===p[1]){var s=j.util.dataType[r].toString(),n=s.match(/\/[mgi]*/g)[1].replace("/",""),t=new RegExp("\\{"+p[2]+","+p[3]+"\\}","g");s=s.replace(/\/[mgi]*/g,"/").replace(t,"{"+q[2]+","+q[3]+"}").replace(/^\//,"").replace(/\/$/,""),j.util.dataType[a]=new RegExp(s,n);break}}else g=!1,f=e.data("tipmsg").undef||i.undef}"[object RegExp]"==j.util.toString.call(j.util.dataType[a])&&(g=j.util.dataType[a].test(b))}if(g){if(l=2,f=d.attr("sucmsg")||e.data("tipmsg").r||i.r,d.attr("recheck")){var u=e.find("input[name='"+d.attr("recheck")+"']:first");b!=u.val()&&(g=!1,l=3,f=d.attr("errormsg")||j.util.getErrormsg.call(d,e,a,"recheck"))}}else f=f||d.attr("errormsg")||j.util.getErrormsg.call(d,e,a),j.util.isEmpty.call(d,b)&&(f=d.attr("nullmsg")||j.util.getNullmsg.call(d,e));return{passed:g,type:l,info:f}},regcheck:function(a,b,c){var d=this,e=null;if(""===c.attr("datamust")&&j.util.isEmpty.call(c,b))return c.data("cked")&&(e=""),{passed:!0,type:4,info:e};if("ignore"===c.attr("ignore")&&j.util.isEmpty.call(c,b))return c.data("cked")&&(e=""),{passed:!0,type:4,info:e};c.data("cked","cked");for(var f,g=j.util.parseDatatype(a),h=0;h<g.length;h++){for(var i=0;i<g[h].length&&(f=j.util._regcheck(g[h][i],b,c,d),f.passed);i++);if(f.passed)break}return f},parseDatatype:function(a){var b=/\/.+?\/[mgi]*(?=(,|$|\||\s))|[\w\*-]+/g,c=a.match(b),d=a.replace(b,"").replace(/\s*/g,"").split(""),e=[],f=0;e[0]=[],e[0].push(c[0]);for(var g=0;g<d.length;g++)"|"==d[g]&&(f++,e[f]=[]),e[f].push(c[g+1]);return e},showmsg:function(b,e,f,i){if(b!=c&&("bycheck"!=i||!f.sweep||(!f.obj||f.obj.is(".Validform_error"))&&"function"!=typeof e)){if(a.extend(f,{curform:this}),"function"==typeof e)return void e(b,f,j.util.cssctl);(1==e||"byajax"==i&&4!=e)&&g.find(".Validform_info").html(b),(1==e&&"bycheck"!=i&&2!=f.type||"byajax"==i&&4!=e)&&(h=!1,g.find(".iframe").css("height",g.outerHeight()),g.show(),d(g,100)),2==e&&f.obj&&(f.obj.parent().next().find(".Validform_checktip").html(b),j.util.cssctl(f.obj.parent().next().find(".Validform_checktip"),f.type)),3!=e&&4!=e||!f.obj||(0==f.obj.siblings(".Validform_checktip").length&&(f.obj.parent().append("<div class='Validform_checktip' ></div><div class='valid-arrow-bottom'></div>"),f.obj.parent().next().find(".Validform_checktip").remove()),f.obj.siblings(".Validform_checktip").html(b),j.util.cssctl(f.obj.siblings(".Validform_checktip"),f.type))}},cssctl:function(a,b){switch(b){case 1:a.removeClass("Validform_right Validform_wrong").addClass("Validform_checktip Validform_loading");break;case 2:a.removeClass("Validform_wrong").addClass("Validform_right").hide().siblings(".valid-arrow-bottom").hide();break;case 4:a.removeClass("Validform_right Validform_wrong Validform_loading").addClass("Validform_checktip");break;default:a.removeClass("Validform_right").addClass("Validform_wrong").show().siblings(".valid-arrow-bottom").show()}},check:function(b,c,d){var e=b[0].settings,c=c||"",g=j.util.getValue.call(b,a(this));if(e.ignoreHidden&&a(this).is(":hidden")||"dataIgnore"===a(this).data("dataIgnore"))return!0;if(e.dragonfly&&!a(this).data("cked")&&j.util.isEmpty.call(a(this),g)&&"ignore"!=a(this).attr("ignore"))return!1;var h=j.util.regcheck.call(b,a(this).attr("datatype"),g,a(this),a(this).attr("datamust"));if(g==this.validform_lastval&&!a(this).attr("recheck")&&""==c)return h.passed?!0:!1;this.validform_lastval=g;var k;if(f=k=a(this),!h.passed)return j.util.abort.call(k[0]),d||(j.util.showmsg.call(b,h.info,e.tiptype,{obj:a(this),type:h.type,sweep:e.tipSweep},"bycheck"),!e.tipSweep&&k.addClass("Validform_error")),!1;var l=a(this).attr("ajaxurl");if(l&&!j.util.isEmpty.call(a(this),g)&&!d){var m=a(this);if(m[0].validform_subpost="postform"==c?"postform":"","posting"===m[0].validform_valid&&g==m[0].validform_ckvalue)return"ajax";m[0].validform_valid="posting",m[0].validform_ckvalue=g,j.util.showmsg.call(b,b.data("tipmsg").c||i.c,e.tiptype,{obj:m,type:1,sweep:e.tipSweep},"bycheck"),j.util.abort.call(k[0]);var n=a.extend(!0,{},e.ajaxurl||{}),o={type:"POST",cache:!1,url:l,data:"param="+encodeURIComponent(g)+"&name="+encodeURIComponent(a(this).attr("name")),success:function(c){"y"===a.trim(c.status)?(m[0].validform_valid="true",c.info&&m.attr("sucmsg",c.info),j.util.showmsg.call(b,m.attr("sucmsg")||b.data("tipmsg").r||i.r,e.tiptype,{obj:m,type:2,sweep:e.tipSweep},"bycheck"),k.removeClass("Validform_error"),f=null,"postform"==m[0].validform_subpost&&b.trigger("submit")):(m[0].validform_valid=c.info,j.util.showmsg.call(b,c.info,e.tiptype,{obj:m,type:3,sweep:e.tipSweep}),k.addClass("Validform_error")),k[0].validform_ajax=null},error:function(a){if("200"==a.status)return n.success("y"==a.responseText?{status:"y"}:{status:"n",info:a.responseText}),!1;if("abort"!==a.statusText){var c="status: "+a.status+"; statusText: "+a.statusText;j.util.showmsg.call(b,c,e.tiptype,{obj:m,type:3,sweep:e.tipSweep}),k.addClass("Validform_error")}return m[0].validform_valid=a.statusText,k[0].validform_ajax=null,!0}};if(n.success){var p=n.success;n.success=function(a){o.success(a),p(a,m)}}if(n.error){var q=n.error;n.error=function(a){o.error(a)&&q(a,m)}}return n=a.extend({},o,n,{dataType:"json"}),k[0].validform_ajax=a.ajax(n),"ajax"}return l&&j.util.isEmpty.call(a(this),g)&&(j.util.abort.call(k[0]),k[0].validform_valid="true"),d||(j.util.showmsg.call(b,h.info,e.tiptype,{obj:a(this),type:h.type,sweep:e.tipSweep},"bycheck"),k.removeClass("Validform_error")),f=null,!0},submitForm:function(b,c,d,e,g){var h=this;if("posting"===h[0].validform_status)return!1;if(b.postonce&&"posted"===h[0].validform_status)return!1;var k=b.beforeCheck&&b.beforeCheck(h);if(k===!1)return!1;var l,m=!0;if(h.find("[datatype]").each(function(){if(c)return!1;if(b.ignoreHidden&&a(this).is(":hidden")||"dataIgnore"===a(this).data("dataIgnore"))return!0;var d,e=j.util.getValue.call(h,a(this));if(f=d=a(this),l=j.util.regcheck.call(h,a(this).attr("datatype"),e,a(this),a(this).attr("datamust")),!l.passed)return j.util.showmsg.call(h,l.info,b.tiptype,{obj:a(this),type:l.type,sweep:b.tipSweep}),d.addClass("Validform_error"),b.showAllError?(m&&(m=!1),!0):(d.focus(),m=!1,!1);if(a(this).attr("ajaxurl")&&!j.util.isEmpty.call(a(this),e)){if("true"!==this.validform_valid){var g=a(this);return j.util.showmsg.call(h,h.data("tipmsg").v||i.v,b.tiptype,{obj:g,type:3,sweep:b.tipSweep}),d.addClass("Validform_error"),g.trigger("blur",["postform"]),b.showAllError?(m&&(m=!1),!0):(m=!1,!1)}}else a(this).attr("ajaxurl")&&j.util.isEmpty.call(a(this),e)&&(j.util.abort.call(this),this.validform_valid="true");j.util.showmsg.call(h,l.info,b.tiptype,{obj:a(this),type:l.type,sweep:b.tipSweep}),d.removeClass("Validform_error"),f=null}),b.showAllError&&h.find(".Validform_error:first").focus(),m){var n=b.beforeSubmit&&b.beforeSubmit(h);if(n===!1)return!1;if(h[0].validform_status="posting",!b.ajaxPost&&"ajaxPost"!==e){b.postonce||(h[0].validform_status="normal");var d=d||b.url;return d&&h.attr("action",d),b.callback&&b.callback(h)}var o=a.extend(!0,{},b.ajaxpost||{});if(o.url=d||o.url||b.url||h.attr("action"),j.util.showmsg.call(h,h.data("tipmsg").p||i.p,b.tiptype,{obj:h,type:1,sweep:b.tipSweep},"byajax"),g?o.async=!1:g===!1&&(o.async=!0),o.success){var p=o.success;o.success=function(c){b.callback&&b.callback(c),h[0].validform_ajax=null,h[0].validform_status="y"===a.trim(c.status)?"posted":"normal",p(c,h)}}if(o.error){var q=o.error;o.error=function(a){b.callback&&b.callback(a),h[0].validform_status="normal",h[0].validform_ajax=null,q(a,h)}}var r={type:"POST",async:!0,data:h.serializeArray(),success:function(c){"y"===a.trim(c.status)?(h[0].validform_status="posted",j.util.showmsg.call(h,c.info,b.tiptype,{obj:h,type:2,sweep:b.tipSweep},"byajax")):(h[0].validform_status="normal",j.util.showmsg.call(h,c.info,b.tiptype,{obj:h,type:3,sweep:b.tipSweep},"byajax")),b.callback&&b.callback(c),h[0].validform_ajax=null},error:function(a){var c="status: "+a.status+"; statusText: "+a.statusText;j.util.showmsg.call(h,c,b.tiptype,{obj:h,type:3,sweep:b.tipSweep},"byajax"),b.callback&&b.callback(a),h[0].validform_status="normal",h[0].validform_ajax=null}};o=a.extend({},r,o,{dataType:"json"}),h[0].validform_ajax=a.ajax(o)}return!1},resetForm:function(){var a=this;a.each(function(){this.reset&&this.reset(),this.validform_status="normal"}),a.find(".Validform_right").text(""),a.find(".passwordStrength").children().removeClass("bgStrength"),a.find(".Validform_checktip").removeClass("Validform_wrong Validform_right Validform_loading"),a.find(".Validform_error").removeClass("Validform_error"),a.find("[datatype]").removeData("cked").removeData("dataIgnore").each(function(){this.validform_lastval=null}),a.eq(0).find("input:first").focus()},abort:function(){this.validform_ajax&&this.validform_ajax.abort()}},a.Datatype=j.util.dataType,j.prototype={dataType:j.util.dataType,eq:function(b){var c=this;return b>=c.forms.length?null:(b in c.objects||(c.objects[b]=new j(a(c.forms[b]).get(),{},!0)),c.objects[b])},resetStatus:function(){var b=this;return a(b.forms).each(function(){this.validform_status="normal"}),this},setStatus:function(b){var c=this;return a(c.forms).each(function(){this.validform_status=b||"posting"}),this},getStatus:function(){var b=this,c=a(b.forms)[0].validform_status;return c},ignore:function(b){var c=this,b=b||"[datatype]";return a(c.forms).find(b).each(function(){a(this).data("dataIgnore","dataIgnore").removeClass("Validform_error")}),this},unignore:function(b){var c=this,b=b||"[datatype]";return a(c.forms).find(b).each(function(){a(this).removeData("dataIgnore")}),this},addRule:function(b){for(var c=this,b=b||[],d=0;d<b.length;d++){var e=a(c.forms).find(b[d].ele);for(var f in b[d])"ele"!==f&&e.attr(f,b[d][f])}return a(c.forms).each(function(){var b=a(this);j.util.enhance.call(b,this.settings.tiptype,this.settings.usePlugin,this.settings.tipSweep,"addRule")}),this},ajaxPost:function(b,c,d){var f=this;return a(f.forms).each(function(){(1==this.settings.tiptype||2==this.settings.tiptype||3==this.settings.tiptype)&&e(),j.util.submitForm.call(a(f.forms[0]),this.settings,b,d,"ajaxPost",c)}),this},submitForm:function(b,d){var e=this;return a(e.forms).each(function(){var e=j.util.submitForm.call(a(this),this.settings,b,d);e===c&&(e=!0),e===!0&&this.submit()}),this},resetForm:function(){var b=this;return j.util.resetForm.call(a(b.forms)),this},abort:function(){var b=this;return a(b.forms).each(function(){j.util.abort.call(this)}),this},check:function(b,c){var c=c||"[datatype]",d=this,e=a(d.forms),f=!0;return e.find(c).each(function(){j.util.check.call(this,e,"",b)||(f=!1)}),f},config:function(b){var c=this;return b=b||{},a(c.forms).each(function(){var c=a(this);this.settings=a.extend(!0,this.settings,b),j.util.enhance.call(c,this.settings.tiptype,this.settings.usePlugin,this.settings.tipSweep)}),this}},a.fn.validate=function(a){return new j(this,a)},a.Showmsg=function(a){e(),j.util.showmsg.call(b,a,1,{})},a.Hidemsg=function(){g.hide(),h=!0}}(jQuery,window),function(a){var b=function(c,d){var e=this;this.$element=c,this.options=a.extend({},b.DEFAULTS,d),this.items=[],Object.defineProperty(c[0],"value",{get:function(){return this.trueValue},set:function(a){for(var b=e.items,c=0,d=b.length;d>c;c++){var f=b[c].pk;if(f==a){this.innerHTML=b[c].name,this.trueValue=a;break}this.trueValue="",this.innerHTML=""}}}),this.createDom(),this.focusEvent(),this.divValue()};b.DEFAULTS={dataSource:{},multSelect:!1,onSelect:function(){}},b.fn=b.prototype,b.fn.createDom=function(){var b=this.options.dataSource;if(a.isEmptyObject(b))throw new Error("dataSource为空！");var c=document.createElement("div");c.className="select-list-div",this.oDiv=c;var d=document.createElement("ul");d.className="select-list-ul";for(var e=0;e<b.length;e++){var f={pk:b[e].pk,name:b[e].name};this.items.push(f);var g=document.createElement("li");g.item=f,g.innerHTML=b[e].name,d.appendChild(g)}c.appendChild(d),c.style.display="none",document.body.appendChild(c)},b.fn.focusEvent=function(){var a=this;this.$element.on("focus",function(b){a.show(),a.floatLayer(),a.floatLayerEvent(),b.stopPropagation?b.stopPropagation():b.cancelBubble=!0})},b.fn.floatLayer=function(){if(0==a(".select-floatDiv").length){var b=document.createElement("div");b.className="select-floatDiv",document.body.appendChild(b)}},b.fn.floatLayerEvent=function(){var b=this;a(".select-floatDiv").click(function(c){b.hide(),a(this).remove(),c.stopPropagation?c.stopPropagation():c.cancelBubble=!0})},b.fn.show=function(){var a=this.$element.offset().left,b=this.$element.offset().top,c=this.oDiv;c.style.left=a+"px",c.style.top=b+this.$element[0].offsetHeight+"px",c.style.display="block"},b.fn.hide=function(){this.oDiv.style.display="none"},b.fn.divValue=function(){for(var a=this,b=this.oDiv.getElementsByTagName("li"),c=0;c<b.length;c++)b[c].onclick=function(){var b=this.item;a.$element.val(b.pk),a.oDiv.style.display="none",a.options.onSelect(b),a.$element.trigger("change")}};var c=function(c){var d=a(this),e=d.data("s.select"),f="object"==typeof c&&c;e||d.data("s.select",new b(this,f))};a.fn.Combobox=c}(jQuery),function(a){function b(a,b,c){switch(arguments.length){case 2:return null!=a?a:b;case 3:return null!=a?a:null!=b?b:c;default:throw new Error("Implement me")}}function c(a,b){return Bb.call(a,b)}function d(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function e(a){vb.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+a)}function f(a,b){var c=!0;return o(function(){return c&&(e(a),c=!1),b.apply(this,arguments)},b)}function g(a,b){sc[a]||(e(b),sc[a]=!0)}function h(a,b){return function(c){return r(a.call(this,c),b)}}function i(a,b){return function(c){return this.localeData().ordinal(a.call(this,c),b)}}function j(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return 0>b-f?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)}function k(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&12>b&&(b+=12),d||12!==b||(b=0),b):b}function l(){}function m(a,b){b!==!1&&H(a),p(this,a),this._d=new Date(+a._d),uc===!1&&(uc=!0,vb.updateOffset(this),uc=!1)}function n(a){var b=A(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+36e5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=vb.localeData(),this._bubble()}function o(a,b){for(var d in b)c(b,d)&&(a[d]=b[d]);return c(b,"toString")&&(a.toString=b.toString),c(b,"valueOf")&&(a.valueOf=b.valueOf),a}function p(a,b){var c,d,e;if("undefined"!=typeof b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject),"undefined"!=typeof b._i&&(a._i=b._i),"undefined"!=typeof b._f&&(a._f=b._f),"undefined"!=typeof b._l&&(a._l=b._l),"undefined"!=typeof b._strict&&(a._strict=b._strict),"undefined"!=typeof b._tzm&&(a._tzm=b._tzm),"undefined"!=typeof b._isUTC&&(a._isUTC=b._isUTC),"undefined"!=typeof b._offset&&(a._offset=b._offset),"undefined"!=typeof b._pf&&(a._pf=b._pf),"undefined"!=typeof b._locale&&(a._locale=b._locale),Kb.length>0)for(c in Kb)d=Kb[c],e=b[d],"undefined"!=typeof e&&(a[d]=e);return a}function q(a){return 0>a?Math.ceil(a):Math.floor(a)}function r(a,b,c){for(var d=""+Math.abs(a),e=a>=0;d.length<b;)d="0"+d;return(e?c?"+":"":"-")+d}function s(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function t(a,b){var c;return b=M(b,a),a.isBefore(b)?c=s(a,b):(c=s(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c}function u(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(g(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=vb.duration(c,d),v(this,e,a),this}}function v(a,b,c,d){var e=b._milliseconds,f=b._days,g=b._months;d=null==d?!0:d,e&&a._d.setTime(+a._d+e*c),f&&pb(a,"Date",ob(a,"Date")+f*c),g&&nb(a,ob(a,"Month")+g*c),d&&vb.updateOffset(a,f||g)}function w(a){return"[object Array]"===Object.prototype.toString.call(a)}function x(a){return"[object Date]"===Object.prototype.toString.call(a)||a instanceof Date}function y(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&C(a[d])!==C(b[d]))&&g++;return g+f}function z(a){if(a){var b=a.toLowerCase().replace(/(.)s$/,"$1");a=lc[a]||mc[b]||b}return a}function A(a){var b,d,e={};for(d in a)c(a,d)&&(b=z(d),b&&(e[b]=a[d]));return e}function B(b){var c,d;if(0===b.indexOf("week"))c=7,d="day";else{if(0!==b.indexOf("month"))return;c=12,d="month"}vb[b]=function(e,f){var g,h,i=vb._locale[b],j=[];if("number"==typeof e&&(f=e,e=a),h=function(a){var b=vb().utc().set(d,a);return i.call(vb._locale,b,e||"")},null!=f)return h(f);for(g=0;c>g;g++)j.push(h(g));return j}}function C(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=b>=0?Math.floor(b):Math.ceil(b)),c}function D(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function E(a,b,c){return jb(vb([a,11,31+b-c]),b,c).week}function F(a){return G(a)?366:365}function G(a){return a%4===0&&a%100!==0||a%400===0}function H(a){var b;a._a&&-2===a._pf.overflow&&(b=a._a[Db]<0||a._a[Db]>11?Db:a._a[Eb]<1||a._a[Eb]>D(a._a[Cb],a._a[Db])?Eb:a._a[Fb]<0||a._a[Fb]>24||24===a._a[Fb]&&(0!==a._a[Gb]||0!==a._a[Hb]||0!==a._a[Ib])?Fb:a._a[Gb]<0||a._a[Gb]>59?Gb:a._a[Hb]<0||a._a[Hb]>59?Hb:a._a[Ib]<0||a._a[Ib]>999?Ib:-1,a._pf._overflowDayOfYear&&(Cb>b||b>Eb)&&(b=Eb),a._pf.overflow=b)}function I(b){return null==b._isValid&&(b._isValid=!isNaN(b._d.getTime())&&b._pf.overflow<0&&!b._pf.empty&&!b._pf.invalidMonth&&!b._pf.nullInput&&!b._pf.invalidFormat&&!b._pf.userInvalidated,b._strict&&(b._isValid=b._isValid&&0===b._pf.charsLeftOver&&0===b._pf.unusedTokens.length&&b._pf.bigHour===a)),b._isValid
}function J(a){return a?a.toLowerCase().replace("_","-"):a}function K(a){for(var b,c,d,e,f=0;f<a.length;){for(e=J(a[f]).split("-"),b=e.length,c=J(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=L(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&y(e,c,!0)>=b-1)break;b--}f++}return null}function L(a){var b=null;if(!Jb[a]&&Lb)try{b=vb.locale(),require("./locale/"+a),vb.locale(b)}catch(c){}return Jb[a]}function M(a,b){var c,d;return b._isUTC?(c=b.clone(),d=(vb.isMoment(a)||x(a)?+a:+vb(a))-+c,c._d.setTime(+c._d+d),vb.updateOffset(c,!1),c):vb(a).local()}function N(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function O(a){var b,c,d=a.match(Pb);for(b=0,c=d.length;c>b;b++)d[b]=rc[d[b]]?rc[d[b]]:N(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function P(a,b){return a.isValid()?(b=Q(b,a.localeData()),nc[b]||(nc[b]=O(b)),nc[b](a)):a.localeData().invalidDate()}function Q(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Qb.lastIndex=0;d>=0&&Qb.test(a);)a=a.replace(Qb,c),Qb.lastIndex=0,d-=1;return a}function R(a,b){var c,d=b._strict;switch(a){case"Q":return _b;case"DDDD":return bc;case"YYYY":case"GGGG":case"gggg":return d?cc:Tb;case"Y":case"G":case"g":return ec;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return d?dc:Ub;case"S":if(d)return _b;case"SS":if(d)return ac;case"SSS":if(d)return bc;case"DDD":return Sb;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Wb;case"a":case"A":return b._locale._meridiemParse;case"x":return Zb;case"X":return $b;case"Z":case"ZZ":return Xb;case"T":return Yb;case"SSSS":return Vb;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return d?ac:Rb;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Rb;case"Do":return d?b._locale._ordinalParse:b._locale._ordinalParseLenient;default:return c=new RegExp($(Z(a.replace("\\","")),"i"))}}function S(a){a=a||"";var b=a.match(Xb)||[],c=b[b.length-1]||[],d=(c+"").match(jc)||["-",0,0],e=+(60*d[1])+C(d[2]);return"+"===d[0]?e:-e}function T(a,b,c){var d,e=c._a;switch(a){case"Q":null!=b&&(e[Db]=3*(C(b)-1));break;case"M":case"MM":null!=b&&(e[Db]=C(b)-1);break;case"MMM":case"MMMM":d=c._locale.monthsParse(b,a,c._strict),null!=d?e[Db]=d:c._pf.invalidMonth=b;break;case"D":case"DD":null!=b&&(e[Eb]=C(b));break;case"Do":null!=b&&(e[Eb]=C(parseInt(b.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=b&&(c._dayOfYear=C(b));break;case"YY":e[Cb]=vb.parseTwoDigitYear(b);break;case"YYYY":case"YYYYY":case"YYYYYY":e[Cb]=C(b);break;case"a":case"A":c._meridiem=b;break;case"h":case"hh":c._pf.bigHour=!0;case"H":case"HH":e[Fb]=C(b);break;case"m":case"mm":e[Gb]=C(b);break;case"s":case"ss":e[Hb]=C(b);break;case"S":case"SS":case"SSS":case"SSSS":e[Ib]=C(1e3*("0."+b));break;case"x":c._d=new Date(C(b));break;case"X":c._d=new Date(1e3*parseFloat(b));break;case"Z":case"ZZ":c._useUTC=!0,c._tzm=S(b);break;case"dd":case"ddd":case"dddd":d=c._locale.weekdaysParse(b),null!=d?(c._w=c._w||{},c._w.d=d):c._pf.invalidWeekday=b;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":a=a.substr(0,1);case"gggg":case"GGGG":case"GGGGG":a=a.substr(0,2),b&&(c._w=c._w||{},c._w[a]=C(b));break;case"gg":case"GG":c._w=c._w||{},c._w[a]=vb.parseTwoDigitYear(b)}}function U(a){var c,d,e,f,g,h,i;c=a._w,null!=c.GG||null!=c.W||null!=c.E?(g=1,h=4,d=b(c.GG,a._a[Cb],jb(vb(),1,4).year),e=b(c.W,1),f=b(c.E,1)):(g=a._locale._week.dow,h=a._locale._week.doy,d=b(c.gg,a._a[Cb],jb(vb(),g,h).year),e=b(c.w,1),null!=c.d?(f=c.d,g>f&&++e):f=null!=c.e?c.e+g:g),i=kb(d,e,f,h,g),a._a[Cb]=i.year,a._dayOfYear=i.dayOfYear}function V(a){var c,d,e,f,g=[];if(!a._d){for(e=X(a),a._w&&null==a._a[Eb]&&null==a._a[Db]&&U(a),a._dayOfYear&&(f=b(a._a[Cb],e[Cb]),a._dayOfYear>F(f)&&(a._pf._overflowDayOfYear=!0),d=fb(f,0,a._dayOfYear),a._a[Db]=d.getUTCMonth(),a._a[Eb]=d.getUTCDate()),c=0;3>c&&null==a._a[c];++c)a._a[c]=g[c]=e[c];for(;7>c;c++)a._a[c]=g[c]=null==a._a[c]?2===c?1:0:a._a[c];24===a._a[Fb]&&0===a._a[Gb]&&0===a._a[Hb]&&0===a._a[Ib]&&(a._nextDay=!0,a._a[Fb]=0),a._d=(a._useUTC?fb:eb).apply(null,g),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[Fb]=24)}}function W(a){var b;a._d||(b=A(a._i),a._a=[b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],V(a))}function X(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function Y(b){if(b._f===vb.ISO_8601)return void ab(b);b._a=[],b._pf.empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,j=0;for(e=Q(b._f,b._locale).match(Pb)||[],c=0;c<e.length;c++)f=e[c],d=(h.match(R(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&b._pf.unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),j+=d.length),rc[f]?(d?b._pf.empty=!1:b._pf.unusedTokens.push(f),T(f,d,b)):b._strict&&!d&&b._pf.unusedTokens.push(f);b._pf.charsLeftOver=i-j,h.length>0&&b._pf.unusedInput.push(h),b._pf.bigHour===!0&&b._a[Fb]<=12&&(b._pf.bigHour=a),b._a[Fb]=k(b._locale,b._a[Fb],b._meridiem),V(b),H(b)}function Z(a){return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e})}function $(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function _(a){var b,c,e,f,g;if(0===a._f.length)return a._pf.invalidFormat=!0,void(a._d=new Date(0/0));for(f=0;f<a._f.length;f++)g=0,b=p({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._pf=d(),b._f=a._f[f],Y(b),I(b)&&(g+=b._pf.charsLeftOver,g+=10*b._pf.unusedTokens.length,b._pf.score=g,(null==e||e>g)&&(e=g,c=b));o(a,c||b)}function ab(a){var b,c,d=a._i,e=fc.exec(d);if(e){for(a._pf.iso=!0,b=0,c=hc.length;c>b;b++)if(hc[b][1].exec(d)){a._f=hc[b][0]+(e[6]||" ");break}for(b=0,c=ic.length;c>b;b++)if(ic[b][1].exec(d)){a._f+=ic[b][0];break}d.match(Xb)&&(a._f+="Z"),Y(a)}else a._isValid=!1}function bb(a){ab(a),a._isValid===!1&&(delete a._isValid,vb.createFromInputFallback(a))}function cb(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function db(b){var c,d=b._i;d===a?b._d=new Date:x(d)?b._d=new Date(+d):null!==(c=Mb.exec(d))?b._d=new Date(+c[1]):"string"==typeof d?bb(b):w(d)?(b._a=cb(d.slice(0),function(a){return parseInt(a,10)}),V(b)):"object"==typeof d?W(b):"number"==typeof d?b._d=new Date(d):vb.createFromInputFallback(b)}function eb(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function fb(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function gb(a,b){if("string"==typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),"number"!=typeof a)return null}else a=parseInt(a,10);return a}function hb(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function ib(a,b,c){var d=vb.duration(a).abs(),e=Ab(d.as("s")),f=Ab(d.as("m")),g=Ab(d.as("h")),h=Ab(d.as("d")),i=Ab(d.as("M")),j=Ab(d.as("y")),k=e<oc.s&&["s",e]||1===f&&["m"]||f<oc.m&&["mm",f]||1===g&&["h"]||g<oc.h&&["hh",g]||1===h&&["d"]||h<oc.d&&["dd",h]||1===i&&["M"]||i<oc.M&&["MM",i]||1===j&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,hb.apply({},k)}function jb(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=vb(a).add(f,"d"),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function kb(a,b,c,d,e){var f,g,h=fb(a,0,1).getUTCDay();return h=0===h?7:h,c=null!=c?c:e,f=e-h+(h>d?7:0)-(e>h?7:0),g=7*(b-1)+(c-e)+f+1,{year:g>0?a:a-1,dayOfYear:g>0?g:F(a-1)+g}}function lb(b){var c,d=b._i,e=b._f;return b._locale=b._locale||vb.localeData(b._l),null===d||e===a&&""===d?vb.invalid({nullInput:!0}):("string"==typeof d&&(b._i=d=b._locale.preparse(d)),vb.isMoment(d)?new m(d,!0):(e?w(e)?_(b):Y(b):db(b),c=new m(b),c._nextDay&&(c.add(1,"d"),c._nextDay=a),c))}function mb(a,b){var c,d;if(1===b.length&&w(b[0])&&(b=b[0]),!b.length)return vb();for(c=b[0],d=1;d<b.length;++d)b[d][a](c)&&(c=b[d]);return c}function nb(a,b){var c;return"string"==typeof b&&(b=a.localeData().monthsParse(b),"number"!=typeof b)?a:(c=Math.min(a.date(),D(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a)}function ob(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function pb(a,b,c){return"Month"===b?nb(a,c):a._d["set"+(a._isUTC?"UTC":"")+b](c)}function qb(a,b){return function(c){return null!=c?(pb(this,a,c),vb.updateOffset(this,b),this):ob(this,a)}}function rb(a){return 400*a/146097}function sb(a){return 146097*a/400}function tb(a){vb.duration.fn[a]=function(){return this._data[a]}}function ub(a){"undefined"==typeof ender&&(wb=zb.moment,zb.moment=a?f("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",vb):vb)}for(var vb,wb,xb,yb="2.9.0",zb="undefined"==typeof global||"undefined"!=typeof window&&window!==global.window?this:global,Ab=Math.round,Bb=Object.prototype.hasOwnProperty,Cb=0,Db=1,Eb=2,Fb=3,Gb=4,Hb=5,Ib=6,Jb={},Kb=[],Lb="undefined"!=typeof module&&module&&module.exports,Mb=/^\/?Date\((\-?\d+)/i,Nb=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Ob=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Pb=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Qb=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Rb=/\d\d?/,Sb=/\d{1,3}/,Tb=/\d{1,4}/,Ub=/[+\-]?\d{1,6}/,Vb=/\d+/,Wb=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Xb=/Z|[\+\-]\d\d:?\d\d/gi,Yb=/T/i,Zb=/[\+\-]?\d+/,$b=/[\+\-]?\d+(\.\d{1,3})?/,_b=/\d/,ac=/\d\d/,bc=/\d{3}/,cc=/\d{4}/,dc=/[+-]?\d{6}/,ec=/[+-]?\d+/,fc=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,gc="YYYY-MM-DDTHH:mm:ssZ",hc=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],ic=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],jc=/([\+\-]|\d\d)/gi,kc=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),lc={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},mc={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},nc={},oc={s:45,m:45,h:22,d:26,M:11},pc="DDD w W M D d".split(" "),qc="M D H h m s w W".split(" "),rc={M:function(){return this.month()+1},MMM:function(a){return this.localeData().monthsShort(this,a)},MMMM:function(a){return this.localeData().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.localeData().weekdaysMin(this,a)},ddd:function(a){return this.localeData().weekdaysShort(this,a)},dddd:function(a){return this.localeData().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return r(this.year()%100,2)},YYYY:function(){return r(this.year(),4)},YYYYY:function(){return r(this.year(),5)},YYYYYY:function(){var a=this.year(),b=a>=0?"+":"-";return b+r(Math.abs(a),6)},gg:function(){return r(this.weekYear()%100,2)},gggg:function(){return r(this.weekYear(),4)},ggggg:function(){return r(this.weekYear(),5)},GG:function(){return r(this.isoWeekYear()%100,2)},GGGG:function(){return r(this.isoWeekYear(),4)},GGGGG:function(){return r(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return C(this.milliseconds()/100)},SS:function(){return r(C(this.milliseconds()/10),2)},SSS:function(){return r(this.milliseconds(),3)},SSSS:function(){return r(this.milliseconds(),3)},Z:function(){var a=this.utcOffset(),b="+";return 0>a&&(a=-a,b="-"),b+r(C(a/60),2)+":"+r(C(a)%60,2)},ZZ:function(){var a=this.utcOffset(),b="+";return 0>a&&(a=-a,b="-"),b+r(C(a/60),2)+r(C(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},sc={},tc=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"],uc=!1;pc.length;)xb=pc.pop(),rc[xb+"o"]=i(rc[xb],xb);for(;qc.length;)xb=qc.pop(),rc[xb+xb]=h(rc[xb],2);rc.DDDD=h(rc.DDD,3),o(l.prototype,{set:function(a){var b,c;for(c in a)b=a[c],"function"==typeof b?this[c]=b:this["_"+c]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(a){return this._months[a.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a,b,c){var d,e,f;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;12>d;d++){if(e=vb.utc([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c,d;for(this._weekdaysParse||(this._weekdaysParse=[]),b=0;7>b;b++)if(this._weekdaysParse[b]||(c=vb([2e3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b,c){var d=this._calendar[a];return"function"==typeof d?d.apply(b,[c]):d},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(a){return a},postformat:function(a){return a},week:function(a){return jb(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),vb=function(b,c,e,f){var g;return"boolean"==typeof e&&(f=e,e=a),g={},g._isAMomentObject=!0,g._i=b,g._f=c,g._l=e,g._strict=f,g._isUTC=!1,g._pf=d(),lb(g)},vb.suppressDeprecationWarnings=!1,vb.createFromInputFallback=f("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),vb.min=function(){var a=[].slice.call(arguments,0);return mb("isBefore",a)},vb.max=function(){var a=[].slice.call(arguments,0);return mb("isAfter",a)},vb.utc=function(b,c,e,f){var g;return"boolean"==typeof e&&(f=e,e=a),g={},g._isAMomentObject=!0,g._useUTC=!0,g._isUTC=!0,g._l=e,g._i=b,g._f=c,g._strict=f,g._pf=d(),lb(g).utc()},vb.unix=function(a){return vb(1e3*a)},vb.duration=function(a,b){var d,e,f,g,h=a,i=null;return vb.isDuration(a)?h={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(h={},b?h[b]=a:h.milliseconds=a):(i=Nb.exec(a))?(d="-"===i[1]?-1:1,h={y:0,d:C(i[Eb])*d,h:C(i[Fb])*d,m:C(i[Gb])*d,s:C(i[Hb])*d,ms:C(i[Ib])*d}):(i=Ob.exec(a))?(d="-"===i[1]?-1:1,f=function(a){var b=a&&parseFloat(a.replace(",","."));return(isNaN(b)?0:b)*d},h={y:f(i[2]),M:f(i[3]),d:f(i[4]),h:f(i[5]),m:f(i[6]),s:f(i[7]),w:f(i[8])}):null==h?h={}:"object"==typeof h&&("from"in h||"to"in h)&&(g=t(vb(h.from),vb(h.to)),h={},h.ms=g.milliseconds,h.M=g.months),e=new n(h),vb.isDuration(a)&&c(a,"_locale")&&(e._locale=a._locale),e},vb.version=yb,vb.defaultFormat=gc,vb.ISO_8601=function(){},vb.momentProperties=Kb,vb.updateOffset=function(){},vb.relativeTimeThreshold=function(b,c){return oc[b]===a?!1:c===a?oc[b]:(oc[b]=c,!0)},vb.lang=f("moment.lang is deprecated. Use moment.locale instead.",function(a,b){return vb.locale(a,b)}),vb.locale=function(a,b){var c;return a&&(c="undefined"!=typeof b?vb.defineLocale(a,b):vb.localeData(a),c&&(vb.duration._locale=vb._locale=c)),vb._locale._abbr},vb.defineLocale=function(a,b){return null!==b?(b.abbr=a,Jb[a]||(Jb[a]=new l),Jb[a].set(b),vb.locale(a),Jb[a]):(delete Jb[a],null)},vb.langData=f("moment.langData is deprecated. Use moment.localeData instead.",function(a){return vb.localeData(a)}),vb.localeData=function(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return vb._locale;if(!w(a)){if(b=L(a))return b;a=[a]}return K(a)},vb.isMoment=function(a){return a instanceof m||null!=a&&c(a,"_isAMomentObject")},vb.isDuration=function(a){return a instanceof n};for(xb=tc.length-1;xb>=0;--xb)B(tc[xb]);vb.normalizeUnits=function(a){return z(a)},vb.invalid=function(a){var b=vb.utc(0/0);return null!=a?o(b._pf,a):b._pf.userInvalidated=!0,b},vb.parseZone=function(){return vb.apply(null,arguments).parseZone()},vb.parseTwoDigitYear=function(a){return C(a)+(C(a)>68?1900:2e3)},vb.isDate=x,o(vb.fn=m.prototype,{clone:function(){return vb(this)},valueOf:function(){return+this._d-6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var a=vb(this).utc();return 0<a.year()&&a.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():P(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):P(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var a=this;return[a.year(),a.month(),a.date(),a.hours(),a.minutes(),a.seconds(),a.milliseconds()]},isValid:function(){return I(this)},isDSTShifted:function(){return this._a?this.isValid()&&y(this._a,(this._isUTC?vb.utc(this._a):vb(this._a)).toArray())>0:!1},parsingFlags:function(){return o({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(a){return this.utcOffset(0,a)},local:function(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(this._dateUtcOffset(),"m")),this},format:function(a){var b=P(this,a||vb.defaultFormat);return this.localeData().postformat(b)},add:u(1,"add"),subtract:u(-1,"subtract"),diff:function(a,b,c){var d,e,f=M(a,this),g=6e4*(f.utcOffset()-this.utcOffset());return b=z(b),"year"===b||"month"===b||"quarter"===b?(e=j(this,f),"quarter"===b?e/=3:"year"===b&&(e/=12)):(d=this-f,e="second"===b?d/1e3:"minute"===b?d/6e4:"hour"===b?d/36e5:"day"===b?(d-g)/864e5:"week"===b?(d-g)/6048e5:d),c?e:q(e)},from:function(a,b){return vb.duration({to:this,from:a}).locale(this.locale()).humanize(!b)},fromNow:function(a){return this.from(vb(),a)},calendar:function(a){var b=a||vb(),c=M(b,this).startOf("day"),d=this.diff(c,"days",!0),e=-6>d?"sameElse":-1>d?"lastWeek":0>d?"lastDay":1>d?"sameDay":2>d?"nextDay":7>d?"nextWeek":"sameElse";return this.format(this.localeData().calendar(e,this,vb(b)))},isLeapYear:function(){return G(this.year())},isDST:function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=gb(a,this.localeData()),this.add(a-b,"d")):b},month:qb("Month",!0),startOf:function(a){switch(a=z(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a?this.weekday(0):"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(b){return b=z(b),b===a||"millisecond"===b?this:this.startOf(b).add(1,"isoWeek"===b?"week":b).subtract(1,"ms")},isAfter:function(a,b){var c;return b=z("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=vb.isMoment(a)?a:vb(a),+this>+a):(c=vb.isMoment(a)?+a:+vb(a),c<+this.clone().startOf(b))},isBefore:function(a,b){var c;return b=z("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=vb.isMoment(a)?a:vb(a),+a>+this):(c=vb.isMoment(a)?+a:+vb(a),+this.clone().endOf(b)<c)},isBetween:function(a,b,c){return this.isAfter(a,c)&&this.isBefore(b,c)},isSame:function(a,b){var c;return b=z(b||"millisecond"),"millisecond"===b?(a=vb.isMoment(a)?a:vb(a),+this===+a):(c=+vb(a),+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b))},min:f("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(a){return a=vb.apply(null,arguments),this>a?this:a}),max:f("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(a){return a=vb.apply(null,arguments),a>this?this:a}),zone:f("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}),utcOffset:function(a,b){var c,d=this._offset||0;return null!=a?("string"==typeof a&&(a=S(a)),Math.abs(a)<16&&(a=60*a),!this._isUTC&&b&&(c=this._dateUtcOffset()),this._offset=a,this._isUTC=!0,null!=c&&this.add(c,"m"),d!==a&&(!b||this._changeInProgress?v(this,vb.duration(a-d,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,vb.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?d:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&0===this._offset},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(S(this._i)),this},hasAlignedHourOffset:function(a){return a=a?vb(a).utcOffset():0,(this.utcOffset()-a)%60===0},daysInMonth:function(){return D(this.year(),this.month())},dayOfYear:function(a){var b=Ab((vb(this).startOf("day")-vb(this).startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")},quarter:function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)},weekYear:function(a){var b=jb(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==a?b:this.add(a-b,"y")},isoWeekYear:function(a){var b=jb(this,1,4).year;return null==a?b:this.add(a-b,"y")},week:function(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")},isoWeek:function(a){var b=jb(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")},weekday:function(a){var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},isoWeeksInYear:function(){return E(this.year(),1,4)},weeksInYear:function(){var a=this.localeData()._week;return E(this.year(),a.dow,a.doy)},get:function(a){return a=z(a),this[a]()},set:function(a,b){var c;if("object"==typeof a)for(c in a)this.set(c,a[c]);else a=z(a),"function"==typeof this[a]&&this[a](b);return this},locale:function(b){var c;return b===a?this._locale._abbr:(c=vb.localeData(b),null!=c&&(this._locale=c),this)},lang:f("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(b){return b===a?this.localeData():this.locale(b)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return 15*-Math.round(this._d.getTimezoneOffset()/15)}}),vb.fn.millisecond=vb.fn.milliseconds=qb("Milliseconds",!1),vb.fn.second=vb.fn.seconds=qb("Seconds",!1),vb.fn.minute=vb.fn.minutes=qb("Minutes",!1),vb.fn.hour=vb.fn.hours=qb("Hours",!0),vb.fn.date=qb("Date",!0),vb.fn.dates=f("dates accessor is deprecated. Use date instead.",qb("Date",!0)),vb.fn.year=qb("FullYear",!0),vb.fn.years=f("years accessor is deprecated. Use year instead.",qb("FullYear",!0)),vb.fn.days=vb.fn.day,vb.fn.months=vb.fn.month,vb.fn.weeks=vb.fn.week,vb.fn.isoWeeks=vb.fn.isoWeek,vb.fn.quarters=vb.fn.quarter,vb.fn.toJSON=vb.fn.toISOString,vb.fn.isUTC=vb.fn.isUtc,o(vb.duration.fn=n.prototype,{_bubble:function(){var a,b,c,d=this._milliseconds,e=this._days,f=this._months,g=this._data,h=0;g.milliseconds=d%1e3,a=q(d/1e3),g.seconds=a%60,b=q(a/60),g.minutes=b%60,c=q(b/60),g.hours=c%24,e+=q(c/24),h=q(rb(e)),e-=q(sb(h)),f+=q(e/30),e%=30,h+=q(f/12),f%=12,g.days=e,g.months=f,g.years=h},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return q(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*C(this._months/12)},humanize:function(a){var b=ib(this,!a,this.localeData());return a&&(b=this.localeData().pastFuture(+this,b)),this.localeData().postformat(b)},add:function(a,b){var c=vb.duration(a,b);return this._milliseconds+=c._milliseconds,this._days+=c._days,this._months+=c._months,this._bubble(),this},subtract:function(a,b){var c=vb.duration(a,b);return this._milliseconds-=c._milliseconds,this._days-=c._days,this._months-=c._months,this._bubble(),this},get:function(a){return a=z(a),this[a.toLowerCase()+"s"]()},as:function(a){var b,c;if(a=z(a),"month"===a||"year"===a)return b=this._days+this._milliseconds/864e5,c=this._months+12*rb(b),"month"===a?c:c/12;switch(b=this._days+Math.round(sb(this._months/12)),a){case"week":return b/7+this._milliseconds/6048e5;case"day":return b+this._milliseconds/864e5;case"hour":return 24*b+this._milliseconds/36e5;case"minute":return 24*b*60+this._milliseconds/6e4;case"second":return 24*b*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*b*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+a)}},lang:vb.fn.lang,locale:vb.fn.locale,toIsoString:f("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),c=Math.abs(this.days()),d=Math.abs(this.hours()),e=Math.abs(this.minutes()),f=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||f?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":""):"P0D"},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}}),vb.duration.fn.toString=vb.duration.fn.toISOString;for(xb in kc)c(kc,xb)&&tb(xb.toLowerCase());vb.duration.fn.asMilliseconds=function(){return this.as("ms")},vb.duration.fn.asSeconds=function(){return this.as("s")},vb.duration.fn.asMinutes=function(){return this.as("m")},vb.duration.fn.asHours=function(){return this.as("h")},vb.duration.fn.asDays=function(){return this.as("d")},vb.duration.fn.asWeeks=function(){return this.as("weeks")},vb.duration.fn.asMonths=function(){return this.as("M")},vb.duration.fn.asYears=function(){return this.as("y")},vb.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===C(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),function(a){a(vb)}(function(a){return a.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(a){return/^nm$/i.test(a)},meridiem:function(a,b,c){return 12>a?c?"vm":"VM":c?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Môre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(a){return a+(1===a||8===a||a>=20?"ste":"de")},week:{dow:1,doy:4}})}),function(a){a(vb)}(function(a){return a.defineLocale("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah点mm",LTS:"Ah点m分s秒",L:"YYYY-MM-DD",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日LT",LLLL:"YYYY年MMMD日ddddLT",l:"YYYY-MM-DD",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日LT",llll:"YYYY年MMMD日ddddLT"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(a,b){return 12===a&&(a=0),"凌晨"===b||"早上"===b||"上午"===b?a:"下午"===b||"晚上"===b?a+12:a>=11?a:a+12},meridiem:function(a,b){var c=100*a+b;return 600>c?"凌晨":900>c?"早上":1130>c?"上午":1230>c?"中午":1800>c?"下午":"晚上"},calendar:{sameDay:function(){return 0===this.minutes()?"[今天]Ah[点整]":"[今天]LT"},nextDay:function(){return 0===this.minutes()?"[明天]Ah[点整]":"[明天]LT"},lastDay:function(){return 0===this.minutes()?"[昨天]Ah[点整]":"[昨天]LT"},nextWeek:function(){var b,c;return b=a().startOf("week"),c=this.unix()-b.unix()>=604800?"[下]":"[本]",0===this.minutes()?c+"dddAh点整":c+"dddAh点mm"},lastWeek:function(){var b,c;return b=a().startOf("week"),c=this.unix()<b.unix()?"[上]":"[本]",0===this.minutes()?c+"dddAh点整":c+"dddAh点mm"},sameElse:"LL"},ordinalParse:/\d{1,2}(日|月|周)/,ordinal:function(a,b){switch(b){case"d":case"D":case"DDD":return a+"日";case"M":return a+"月";case"w":case"W":return a+"周";
default:return a}},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1分钟",mm:"%d分钟",h:"1小时",hh:"%d小时",d:"1天",dd:"%d天",M:"1个月",MM:"%d个月",y:"1年",yy:"%d年"},week:{dow:1,doy:4}})}),vb.locale("en"),Lb?module.exports=vb:"function"==typeof define&&define.amd?(define(function(a,b,c){return c.config&&c.config()&&c.config().noGlobal===!0&&(zb.moment=wb),vb}),ub(!0)):ub()}.call(this),/*! version : 4.7.14
 =========================================================
 bootstrap-datetimejs
 https://github.com/Eonasdan/bootstrap-datetimepicker
 Copyright (c) 2015 Jonathan Peterson
 =========================================================
 */
function(a){"use strict";a(jQuery,moment)}(function(a,b){"use strict";if(!b)throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");var c="input,div[contenteditable=true]",d=function(d,e){var f,g,h,i,j,k={},l=b().startOf("d"),m=l.clone(),n=!0,o=!1,p=!1,q=0,r=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10}],s=["days","months","years"],t=["top","bottom","auto"],u=["left","right","auto"],v=["default","top","bottom"],w={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t","delete":46,46:"delete"},x={},y=function(a){if("string"!=typeof a||a.length>1)throw new TypeError("isEnabled expects a single character string parameter");switch(a){case"y":return-1!==h.indexOf("Y");case"M":return-1!==h.indexOf("M");case"d":return-1!==h.toLowerCase().indexOf("d");case"h":case"H":return-1!==h.toLowerCase().indexOf("h");case"m":return-1!==h.indexOf("m");case"s":return-1!==h.indexOf("s");default:return!1}},z=function(){return y("h")||y("m")||y("s")},A=function(){return y("y")||y("M")||y("d")},B=function(){var b=a("<thead>").append(a("<tr>").append(a("<th>").addClass("prev").attr("data-action","previous").append(a("<span>").addClass(e.icons.previous))).append(a("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",e.calendarWeeks?"6":"5")).append(a("<th>").addClass("next").attr("data-action","next").append(a("<span>").addClass(e.icons.next)))),c=a("<tbody>").append(a("<tr>").append(a("<td>").attr("colspan",e.calendarWeeks?"8":"7")));return[a("<div>").addClass("datepicker-days").append(a("<table>").addClass("table-condensed").append(b).append(a("<tbody>"))),a("<div>").addClass("datepicker-months").append(a("<table>").addClass("table-condensed").append(b.clone()).append(c.clone())),a("<div>").addClass("datepicker-years").append(a("<table>").addClass("table-condensed").append(b.clone()).append(c.clone()))]},C=function(){var b=a("<tr>"),c=a("<tr>"),d=a("<tr>");return y("h")&&(b.append(a("<td>").append(a("<a>").attr({href:"#",tabindex:"-1"}).addClass("btn").attr("data-action","incrementHours").append(a("<span>").addClass(e.icons.up)))),c.append(a("<td>").append(a("<span>").addClass("timepicker-hour").attr("data-time-component","hours").attr("data-action","showHours"))),d.append(a("<td>").append(a("<a>").attr({href:"#",tabindex:"-1"}).addClass("btn").attr("data-action","decrementHours").append(a("<span>").addClass(e.icons.down))))),y("m")&&(y("h")&&(b.append(a("<td>").addClass("separator")),c.append(a("<td>").addClass("separator").html(":")),d.append(a("<td>").addClass("separator"))),b.append(a("<td>").append(a("<a>").attr({href:"#",tabindex:"-1"}).addClass("btn").attr("data-action","incrementMinutes").append(a("<span>").addClass(e.icons.up)))),c.append(a("<td>").append(a("<span>").addClass("timepicker-minute").attr("data-time-component","minutes").attr("data-action","showMinutes"))),d.append(a("<td>").append(a("<a>").attr({href:"#",tabindex:"-1"}).addClass("btn").attr("data-action","decrementMinutes").append(a("<span>").addClass(e.icons.down))))),y("s")&&(y("m")&&(b.append(a("<td>").addClass("separator")),c.append(a("<td>").addClass("separator").html(":")),d.append(a("<td>").addClass("separator"))),b.append(a("<td>").append(a("<a>").attr({href:"#",tabindex:"-1"}).addClass("btn").attr("data-action","incrementSeconds").append(a("<span>").addClass(e.icons.up)))),c.append(a("<td>").append(a("<span>").addClass("timepicker-second").attr("data-time-component","seconds").attr("data-action","showSeconds"))),d.append(a("<td>").append(a("<a>").attr({href:"#",tabindex:"-1"}).addClass("btn").attr("data-action","decrementSeconds").append(a("<span>").addClass(e.icons.down))))),g||(b.append(a("<td>").addClass("separator")),c.append(a("<td>").append(a("<button>").addClass("btn btn-primary").attr("data-action","togglePeriod"))),d.append(a("<td>").addClass("separator"))),a("<div>").addClass("timepicker-picker").append(a("<table>").addClass("table-condensed").append([b,c,d]))},D=function(){var b=a("<div>").addClass("timepicker-hours").append(a("<table>").addClass("table-condensed")),c=a("<div>").addClass("timepicker-minutes").append(a("<table>").addClass("table-condensed")),d=a("<div>").addClass("timepicker-seconds").append(a("<table>").addClass("table-condensed")),e=[C()];return y("h")&&e.push(b),y("m")&&e.push(c),y("s")&&e.push(d),e},E=function(){var b=[];return e.showTodayButton&&b.push(a("<td>").append(a("<a>").attr("data-action","today").append(a("<span>").addClass(e.icons.today)))),!e.sideBySide&&A()&&z()&&b.push(a("<td>").append(a("<a>").attr("data-action","togglePicker").append(a("<span>").addClass(e.icons.time)))),e.showClear&&b.push(a("<td>").append(a("<a>").attr("data-action","clear").append(a("<span>").addClass(e.icons.clear)))),e.showClose&&b.push(a("<td>").append(a("<a>").attr("data-action","close").append(a("<span>").addClass(e.icons.close)))),a("<table>").addClass("table-condensed").append(a("<tbody>").append(a("<tr>").append(b)))},F=function(){var b=a("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),c=a("<div>").addClass("datepicker").append(B()),d=a("<div>").addClass("timepicker").append(D()),f=a("<ul>").addClass("list-unstyled"),h=a("<li>").addClass("picker-switch"+(e.collapse?" accordion-toggle":"")).append(E());return e.inline&&b.removeClass("dropdown-menu"),g&&b.addClass("usetwentyfour"),e.sideBySide&&A()&&z()?(b.addClass("timepicker-sbs"),b.append(a("<div>").addClass("row").append(c.addClass("col-sm-6")).append(d.addClass("col-sm-6"))),b.append(h),b):("top"===e.toolbarPlacement&&f.append(h),A()&&f.append(a("<li>").addClass(e.collapse&&z()?"collapse in":"").append(c)),"default"===e.toolbarPlacement&&f.append(h),z()&&f.append(a("<li>").addClass(e.collapse&&A()?"collapse":"").append(d)),"bottom"===e.toolbarPlacement&&f.append(h),b.append(f))},G=function(){var b,f={};return b=d.is(c)||e.inline?d.data():d.find(c).data(),b.dateOptions&&b.dateOptions instanceof Object&&(f=a.extend(!0,f,b.dateOptions)),a.each(e,function(a){var c="date"+a.charAt(0).toUpperCase()+a.slice(1);void 0!==b[c]&&(f[a]=b[c])}),f},H=function(){var b,f=(o||d).position(),g=(o||d).offset(),h=e.widgetPositioning.vertical,i=e.widgetPositioning.horizontal;if(e.widgetParent)b=e.widgetParent.append(p);else if(d.is(c))b=d.parent().append(p);else{if(e.inline)return void(b=d.append(p));b=d,d.children().first().after(p)}if("auto"===h&&(h=g.top+1.5*p.height()>=a(window).height()+a(window).scrollTop()&&p.height()+d.outerHeight()<g.top?"top":"bottom"),"auto"===i&&(i=b.width()<g.left+p.outerWidth()/2&&g.left+p.outerWidth()>a(window).width()?"right":"left"),"top"===h?p.addClass("top").removeClass("bottom"):p.addClass("bottom").removeClass("top"),"right"===i?p.addClass("pull-right"):p.removeClass("pull-right"),"relative"!==b.css("position")&&(b=b.parents().filter(function(){return"relative"===a(this).css("position")}).first()),0===b.length)throw new Error("datetimepicker component should be placed within a relative positioned container");p.css({top:"top"===h?"auto":f.top+d.outerHeight(),bottom:"top"===h?f.top+d.outerHeight():"auto",left:"left"===i?b.css("padding-left"):"auto",right:"left"===i?"auto":b.width()-d.outerWidth()})},I=function(a){"dp.change"===a.type&&(a.date&&a.date.isSame(a.oldDate)||!a.date&&!a.oldDate)||d.trigger(a)},J=function(a){p&&(a&&(j=Math.max(q,Math.min(2,j+a))),p.find(".datepicker > div").hide().filter(".datepicker-"+r[j].clsName).show())},K=function(){var b=a("<tr>"),c=m.clone().startOf("w");for(e.calendarWeeks===!0&&b.append(a("<th>").addClass("cw").text("#"));c.isBefore(m.clone().endOf("w"));)b.append(a("<th>").addClass("dow").text(c.format("dd"))),c.add(1,"d");p.find(".datepicker-days thead").append(b)},L=function(a){return e.disabledDates[a.format("YYYY-MM-DD")]===!0},M=function(a){return e.enabledDates[a.format("YYYY-MM-DD")]===!0},N=function(a,b){return a.isValid()?e.disabledDates&&L(a)&&"M"!==b?!1:e.enabledDates&&!M(a)&&"M"!==b?!1:e.minDate&&a.isBefore(e.minDate,b)?!1:e.maxDate&&a.isAfter(e.maxDate,b)?!1:"d"===b&&-1!==e.daysOfWeekDisabled.indexOf(a.day())?!1:!0:!1},O=function(){for(var b=[],c=m.clone().startOf("y").hour(12);c.isSame(m,"y");)b.push(a("<span>").attr("data-action","selectMonth").addClass("month").text(c.format("MMM"))),c.add(1,"M");p.find(".datepicker-months td").empty().append(b)},P=function(){var b=p.find(".datepicker-months"),c=b.find("th"),d=b.find("tbody").find("span");b.find(".disabled").removeClass("disabled"),N(m.clone().subtract(1,"y"),"y")||c.eq(0).addClass("disabled"),c.eq(1).text(m.year()),N(m.clone().add(1,"y"),"y")||c.eq(2).addClass("disabled"),d.removeClass("active"),l.isSame(m,"y")&&d.eq(l.month()).addClass("active"),d.each(function(b){N(m.clone().month(b),"M")||a(this).addClass("disabled")})},Q=function(){var a=p.find(".datepicker-years"),b=a.find("th"),c=m.clone().subtract(5,"y"),d=m.clone().add(6,"y"),f="";for(a.find(".disabled").removeClass("disabled"),e.minDate&&e.minDate.isAfter(c,"y")&&b.eq(0).addClass("disabled"),b.eq(1).text(c.year()+"-"+d.year()),e.maxDate&&e.maxDate.isBefore(d,"y")&&b.eq(2).addClass("disabled");!c.isAfter(d,"y");)f+='<span data-action="selectYear" class="year'+(c.isSame(l,"y")?" active":"")+(N(c,"y")?"":" disabled")+'">'+c.year()+"</span>",c.add(1,"y");a.find("td").html(f)},R=function(){var c,d,f,g=p.find(".datepicker-days"),h=g.find("th"),i=[];if(A()){for(g.find(".disabled").removeClass("disabled"),h.eq(1).text(m.format(e.dayViewHeaderFormat)),N(m.clone().subtract(1,"M"),"M")||h.eq(0).addClass("disabled"),N(m.clone().add(1,"M"),"M")||h.eq(2).addClass("disabled"),c=m.clone().startOf("M").startOf("week");!m.clone().endOf("M").endOf("w").isBefore(c,"d");)0===c.weekday()&&(d=a("<tr>"),e.calendarWeeks&&d.append('<td class="cw">'+c.week()+"</td>"),i.push(d)),f="",c.isBefore(m,"M")&&(f+=" old"),c.isAfter(m,"M")&&(f+=" new"),c.isSame(l,"d")&&!n&&(f+=" active"),N(c,"d")||(f+=" disabled"),c.isSame(b(),"d")&&(f+=" today"),(0===c.day()||6===c.day())&&(f+=" weekend"),d.append('<td data-action="selectDay" class="day'+f+'">'+c.date()+"</td>"),c.add(1,"d");g.find("tbody").empty().append(i),P(),Q()}},S=function(){var b=p.find(".timepicker-hours table"),c=m.clone().startOf("d"),d=[],e=a("<tr>");for(m.hour()>11&&!g&&c.hour(12);c.isSame(m,"d")&&(g||m.hour()<12&&c.hour()<12||m.hour()>11);)c.hour()%4===0&&(e=a("<tr>"),d.push(e)),e.append('<td data-action="selectHour" class="hour'+(N(c,"h")?"":" disabled")+'">'+c.format(g?"HH":"hh")+"</td>"),c.add(1,"h");b.empty().append(d)},T=function(){for(var b=p.find(".timepicker-minutes table"),c=m.clone().startOf("h"),d=[],f=a("<tr>"),g=1===e.stepping?5:e.stepping;m.isSame(c,"h");)c.minute()%(4*g)===0&&(f=a("<tr>"),d.push(f)),f.append('<td data-action="selectMinute" class="minute'+(N(c,"m")?"":" disabled")+'">'+c.format("mm")+"</td>"),c.add(g,"m");b.empty().append(d)},U=function(){for(var b=p.find(".timepicker-seconds table"),c=m.clone().startOf("m"),d=[],e=a("<tr>");m.isSame(c,"m");)c.second()%20===0&&(e=a("<tr>"),d.push(e)),e.append('<td data-action="selectSecond" class="second'+(N(c,"s")?"":" disabled")+'">'+c.format("ss")+"</td>"),c.add(5,"s");b.empty().append(d)},V=function(){var a=p.find(".timepicker span[data-time-component]");g||p.find(".timepicker [data-action=togglePeriod]").text(l.format("A")),a.filter("[data-time-component=hours]").text(l.format(g?"HH":"hh")),a.filter("[data-time-component=minutes]").text(l.format("mm")),a.filter("[data-time-component=seconds]").text(l.format("ss")),S(),T(),U()},W=function(){p&&(R(),V())},X=function(a){var b=n?null:l;return a?(a=a.clone().locale(e.locale),1!==e.stepping&&a.minutes(Math.round(a.minutes()/e.stepping)*e.stepping%60).seconds(0),void(N(a)?(l=a,m=l.clone(),lb(f,l.format(h)),d.data("date",l.format(h)),W(),n=!1,I({type:"dp.change",date:l.clone(),oldDate:b})):(e.keepInvalid||lb(f,n?"":l.format(h)),I({type:"dp.error",date:a})))):(n=!0,lb(f,""),d.data("date",""),I({type:"dp.change",date:null,oldDate:b}),void W())},Y=function(){var b=!1;return p?(p.find(".collapse").each(function(){var c=a(this).data("collapse");return c&&c.transitioning?(b=!0,!1):!0}),b?k:(o&&o.hasClass("btn")&&o.toggleClass("active"),p.hide(),a(window).off("resize",H),p.off("click","[data-action]"),p.off("mousedown",!1),p.remove(),p=!1,I({type:"dp.hide",date:l.clone()}),k)):k},Z=function(){X(null)},$={next:function(){m.add(r[j].navStep,r[j].navFnc),R()},previous:function(){m.subtract(r[j].navStep,r[j].navFnc),R()},pickerSwitch:function(){J(1)},selectMonth:function(b){var c=a(b.target).closest("tbody").find("span").index(a(b.target));m.month(c),j===q?(X(l.clone().year(m.year()).month(m.month())),e.inline||Y()):(J(-1),R())},selectYear:function(b){var c=parseInt(a(b.target).text(),10)||0;m.year(c),j===q?(X(l.clone().year(m.year())),e.inline||Y()):(J(-1),R())},selectDay:function(b){var c=m.clone();a(b.target).is(".old")&&c.subtract(1,"M"),a(b.target).is(".new")&&c.add(1,"M"),X(c.date(parseInt(a(b.target).text(),10))),z()||e.keepOpen||e.inline||Y()},incrementHours:function(){X(l.clone().add(1,"h"))},incrementMinutes:function(){X(l.clone().add(e.stepping,"m"))},incrementSeconds:function(){X(l.clone().add(1,"s"))},decrementHours:function(){X(l.clone().subtract(1,"h"))},decrementMinutes:function(){X(l.clone().subtract(e.stepping,"m"))},decrementSeconds:function(){X(l.clone().subtract(1,"s"))},togglePeriod:function(){X(l.clone().add(l.hours()>=12?-12:12,"h"))},togglePicker:function(b){var c,d=a(b.target),f=d.closest("ul"),g=f.find(".in"),h=f.find(".collapse:not(.in)");if(g&&g.length){if(c=g.data("collapse"),c&&c.transitioning)return;g.collapse?(g.collapse("hide"),h.collapse("show")):(g.removeClass("in"),h.addClass("in")),d.is("span")?d.toggleClass(e.icons.time+" "+e.icons.date):d.find("span").toggleClass(e.icons.time+" "+e.icons.date)}},showPicker:function(){p.find(".timepicker > div:not(.timepicker-picker)").hide(),p.find(".timepicker .timepicker-picker").show()},showHours:function(){p.find(".timepicker .timepicker-picker").hide(),p.find(".timepicker .timepicker-hours").show()},showMinutes:function(){p.find(".timepicker .timepicker-picker").hide(),p.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){p.find(".timepicker .timepicker-picker").hide(),p.find(".timepicker .timepicker-seconds").show()},selectHour:function(b){var c=parseInt(a(b.target).text(),10);g||(l.hours()>=12?12!==c&&(c+=12):12===c&&(c=0)),X(l.clone().hours(c)),$.showPicker.call(k)},selectMinute:function(b){X(l.clone().minutes(parseInt(a(b.target).text(),10))),$.showPicker.call(k)},selectSecond:function(b){X(l.clone().seconds(parseInt(a(b.target).text(),10))),$.showPicker.call(k)},clear:Z,today:function(){X(b())},close:Y},_=function(b){return a(b.currentTarget).is(".disabled")?!1:($[a(b.currentTarget).data("action")].apply(k,arguments),!1)},ab=function(){var d,g={year:function(a){return a.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(a){return a.date(1).hours(0).seconds(0).minutes(0)},day:function(a){return a.hours(0).seconds(0).minutes(0)},hour:function(a){return a.seconds(0).minutes(0)},minute:function(a){return a.seconds(0)}};return f.prop("disabled")||!e.ignoreReadonly&&f.prop("readonly")||0==f.prop("contenteditable")||p||f.closest("fieldset").prop("disabled")?k:(e.useCurrent&&n&&(f.is(c)&&0===kb(f).trim().length||e.inline)&&(d=b(),"string"==typeof e.useCurrent&&(d=g[e.useCurrent](d)),X(d)),p=F(),K(),O(),p.find(".timepicker-hours").hide(),p.find(".timepicker-minutes").hide(),p.find(".timepicker-seconds").hide(),W(),J(),a(window).on("resize",H),p.on("click","[data-action]",_),p.on("mousedown",!1),o&&o.hasClass("btn")&&o.toggleClass("active"),p.show(),H(),f.is(":focus")||f.focus(),I({type:"dp.show"}),k)},bb=function(){return p?Y():ab()},cb=function(a){return a=b.isMoment(a)||a instanceof Date?b(a):b(a,i,e.useStrict),a.locale(e.locale),a},db=function(a){var b,c,d,f,g=null,h=[],i={},j=a.which,l="p";x[j]=l;for(b in x)x.hasOwnProperty(b)&&x[b]===l&&(h.push(b),parseInt(b,10)!==j&&(i[b]=!0));for(b in e.keyBinds)if(e.keyBinds.hasOwnProperty(b)&&"function"==typeof e.keyBinds[b]&&(d=b.split(" "),d.length===h.length&&w[j]===d[d.length-1])){for(f=!0,c=d.length-2;c>=0;c--)if(!(w[d[c]]in i)){f=!1;break}if(f){g=e.keyBinds[b];break}}g&&(g.call(k,p),a.stopPropagation(),a.preventDefault())},eb=function(a){x[a.which]="r",a.stopPropagation(),a.preventDefault()},fb=function(b){var c=kb(a(b.target)).trim(),d=c?cb(c):null;return X(d),b.stopImmediatePropagation(),!1},gb=function(){f.on({change:fb,blur:e.debug?"":Y,keydown:db,keyup:eb}),f.on({focus:ab}),o&&(o.on("click",bb),o.on("mousedown",!1))},hb=function(){f.off({change:fb,blur:Y,keydown:db,keyup:eb}),f.off({focus:ab}),o&&(o.off("click",bb),o.off("mousedown",!1))},ib=function(b){var c={};return a.each(b,function(){var a=cb(this);a.isValid()&&(c[a.format("YYYY-MM-DD")]=!0)}),Object.keys(c).length?c:!1},jb=function(){var a=e.format||"L LT";h=a.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(a){var b=l.localeData().longDateFormat(a)||a;return b.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(a){return l.localeData().longDateFormat(a)||a})}),i=e.extraFormats?e.extraFormats.slice():[],i.indexOf(a)<0&&i.indexOf(h)<0&&i.push(h),g=h.toLowerCase().indexOf("a")<1&&h.indexOf("h")<1,y("y")&&(q=2),y("M")&&(q=1),y("d")&&(q=0),j=Math.max(q,j),n||X(l)},kb=function(a){var b;if(a.is("input"))b=a.val();else{if(!a.is("div[contenteditable=true]"))throw new Error("Must be a input or contenteditable div");b=a.html()}return b},lb=function(a,b){if(a.is("input"))a.val(b);else{if(!a.is("div[contenteditable=true]"))throw new Error("Must be a input or contenteditable div");a[0].value=b}};if(k.destroy=function(){Y(),hb(),d.removeData("DateTimePicker"),d.removeData("date")},k.toggle=bb,k.show=ab,k.hide=Y,k.disable=function(){return Y(),o&&o.hasClass("btn")&&o.addClass("disabled"),f.prop("disabled",!0),k},k.enable=function(){return o&&o.hasClass("btn")&&o.removeClass("disabled"),f.prop("disabled",!1),k},k.ignoreReadonly=function(a){if(0===arguments.length)return e.ignoreReadonly;if("boolean"!=typeof a)throw new TypeError("ignoreReadonly () expects a boolean parameter");return e.ignoreReadonly=a,k},k.options=function(b){if(0===arguments.length)return a.extend(!0,{},e);if(!(b instanceof Object))throw new TypeError("options() options parameter should be an object");return a.extend(!0,e,b),a.each(e,function(a,b){if(void 0===k[a])throw new TypeError("option "+a+" is not recognized!");k[a](b)}),k},k.date=function(a){if(0===arguments.length)return n?null:l.clone();if(!(null===a||"string"==typeof a||b.isMoment(a)||a instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return X(null===a?null:cb(a)),k},k.format=function(a){if(0===arguments.length)return e.format;if("string"!=typeof a&&("boolean"!=typeof a||a!==!1))throw new TypeError("format() expects a sting or boolean:false parameter "+a);return e.format=a,h&&jb(),k},k.dayViewHeaderFormat=function(a){if(0===arguments.length)return e.dayViewHeaderFormat;if("string"!=typeof a)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return e.dayViewHeaderFormat=a,k},k.extraFormats=function(a){if(0===arguments.length)return e.extraFormats;if(a!==!1&&!(a instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return e.extraFormats=a,i&&jb(),k},k.disabledDates=function(b){if(0===arguments.length)return e.disabledDates?a.extend({},e.disabledDates):e.disabledDates;if(!b)return e.disabledDates=!1,W(),k;if(!(b instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return e.disabledDates=ib(b),e.enabledDates=!1,W(),k},k.enabledDates=function(b){if(0===arguments.length)return e.enabledDates?a.extend({},e.enabledDates):e.enabledDates;if(!b)return e.enabledDates=!1,W(),k;if(!(b instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return e.enabledDates=ib(b),e.disabledDates=!1,W(),k},k.daysOfWeekDisabled=function(a){if(0===arguments.length)return e.daysOfWeekDisabled.splice(0);if(!(a instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");return e.daysOfWeekDisabled=a.reduce(function(a,b){return b=parseInt(b,10),b>6||0>b||isNaN(b)?a:(-1===a.indexOf(b)&&a.push(b),a)},[]).sort(),W(),k},k.maxDate=function(a){if(0===arguments.length)return e.maxDate?e.maxDate.clone():e.maxDate;if("boolean"==typeof a&&a===!1)return e.maxDate=!1,W(),k;"string"==typeof a&&("now"===a||"moment"===a)&&(a=b());var c=cb(a);if(!c.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+a);if(e.minDate&&c.isBefore(e.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+c.format(h));return e.maxDate=c,e.maxDate.isBefore(a)&&X(e.maxDate),m.isAfter(c)&&(m=c.clone()),W(),k},k.minDate=function(a){if(0===arguments.length)return e.minDate?e.minDate.clone():e.minDate;if("boolean"==typeof a&&a===!1)return e.minDate=!1,W(),k;"string"==typeof a&&("now"===a||"moment"===a)&&(a=b());var c=cb(a);if(!c.isValid())throw new TypeError("minDate() Could not parse date parameter: "+a);if(e.maxDate&&c.isAfter(e.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+c.format(h));return e.minDate=c,e.minDate.isAfter(a)&&X(e.minDate),m.isBefore(c)&&(m=c.clone()),W(),k},k.defaultDate=function(a){if(0===arguments.length)return e.defaultDate?e.defaultDate.clone():e.defaultDate;if(!a)return e.defaultDate=!1,k;"string"==typeof a&&("now"===a||"moment"===a)&&(a=b());var c=cb(a);if(!c.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+a);if(!N(c))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return e.defaultDate=c,e.defaultDate&&""===kb(f).trim()&&void 0===f.attr("placeholder")&&X(e.defaultDate),k},k.locale=function(a){if(0===arguments.length)return e.locale;if(!b.localeData(a))throw new TypeError("locale() locale "+a+" is not loaded from moment locales!");return e.locale=a,l.locale(e.locale),m.locale(e.locale),h&&jb(),p&&(Y(),ab()),k},k.stepping=function(a){return 0===arguments.length?e.stepping:(a=parseInt(a,10),(isNaN(a)||1>a)&&(a=1),e.stepping=a,k)},k.useCurrent=function(a){var b=["year","month","day","hour","minute"];if(0===arguments.length)return e.useCurrent;if("boolean"!=typeof a&&"string"!=typeof a)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof a&&-1===b.indexOf(a.toLowerCase()))throw new TypeError("useCurrent() expects a string parameter of "+b.join(", "));return e.useCurrent=a,k},k.collapse=function(a){if(0===arguments.length)return e.collapse;if("boolean"!=typeof a)throw new TypeError("collapse() expects a boolean parameter");return e.collapse===a?k:(e.collapse=a,p&&(Y(),ab()),k)},k.icons=function(b){if(0===arguments.length)return a.extend({},e.icons);if(!(b instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return a.extend(e.icons,b),p&&(Y(),ab()),k},k.useStrict=function(a){if(0===arguments.length)return e.useStrict;if("boolean"!=typeof a)throw new TypeError("useStrict() expects a boolean parameter");return e.useStrict=a,k},k.sideBySide=function(a){if(0===arguments.length)return e.sideBySide;if("boolean"!=typeof a)throw new TypeError("sideBySide() expects a boolean parameter");return e.sideBySide=a,p&&(Y(),ab()),k},k.viewMode=function(a){if(0===arguments.length)return e.viewMode;if("string"!=typeof a)throw new TypeError("viewMode() expects a string parameter");if(-1===s.indexOf(a))throw new TypeError("viewMode() parameter must be one of ("+s.join(", ")+") value");return e.viewMode=a,j=Math.max(s.indexOf(a),q),J(),k},k.toolbarPlacement=function(a){if(0===arguments.length)return e.toolbarPlacement;if("string"!=typeof a)throw new TypeError("toolbarPlacement() expects a string parameter");if(-1===v.indexOf(a))throw new TypeError("toolbarPlacement() parameter must be one of ("+v.join(", ")+") value");return e.toolbarPlacement=a,p&&(Y(),ab()),k},k.widgetPositioning=function(b){if(0===arguments.length)return a.extend({},e.widgetPositioning);if("[object Object]"!=={}.toString.call(b))throw new TypeError("widgetPositioning() expects an object variable");if(b.horizontal){if("string"!=typeof b.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(b.horizontal=b.horizontal.toLowerCase(),-1===u.indexOf(b.horizontal))throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+u.join(", ")+")");e.widgetPositioning.horizontal=b.horizontal}if(b.vertical){if("string"!=typeof b.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(b.vertical=b.vertical.toLowerCase(),-1===t.indexOf(b.vertical))throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+t.join(", ")+")");e.widgetPositioning.vertical=b.vertical}return W(),k},k.calendarWeeks=function(a){if(0===arguments.length)return e.calendarWeeks;if("boolean"!=typeof a)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return e.calendarWeeks=a,W(),k},k.showTodayButton=function(a){if(0===arguments.length)return e.showTodayButton;if("boolean"!=typeof a)throw new TypeError("showTodayButton() expects a boolean parameter");return e.showTodayButton=a,p&&(Y(),ab()),k},k.showClear=function(a){if(0===arguments.length)return e.showClear;if("boolean"!=typeof a)throw new TypeError("showClear() expects a boolean parameter");return e.showClear=a,p&&(Y(),ab()),k},k.widgetParent=function(b){if(0===arguments.length)return e.widgetParent;if("string"==typeof b&&(b=a(b)),null!==b&&"string"!=typeof b&&!(b instanceof a))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return e.widgetParent=b,p&&(Y(),ab()),k},k.keepOpen=function(a){if(0===arguments.length)return e.keepOpen;if("boolean"!=typeof a)throw new TypeError("keepOpen() expects a boolean parameter");return e.keepOpen=a,k},k.inline=function(a){if(0===arguments.length)return e.inline;if("boolean"!=typeof a)throw new TypeError("inline() expects a boolean parameter");return e.inline=a,k},k.clear=function(){return Z(),k},k.keyBinds=function(a){return e.keyBinds=a,k},k.debug=function(a){if("boolean"!=typeof a)throw new TypeError("debug() expects a boolean parameter");return e.debug=a,k},k.showClose=function(a){if(0===arguments.length)return e.showClose;if("boolean"!=typeof a)throw new TypeError("showClose() expects a boolean parameter");return e.showClose=a,k},k.keepInvalid=function(a){if(0===arguments.length)return e.keepInvalid;if("boolean"!=typeof a)throw new TypeError("keepInvalid() expects a boolean parameter");return e.keepInvalid=a,k},k.datepickerInput=function(a){if(0===arguments.length)return e.datepickerInput;if("string"!=typeof a)throw new TypeError("datepickerInput() expects a string parameter");return e.datepickerInput=a,k},d.is(c))f=d;else if(f=d.find(e.datepickerInput),0===f.size())f=d.find(c);else if(!f.is(c))throw new Error('CSS class "'+e.datepickerInput+'" cannot be applied to non input element');if(d.hasClass("input-group")&&(o=d.find(0===d.find(".datepickerbutton").size()?'[class^="input-group-"]':".datepickerbutton")),!e.inline&&!f.is(c))throw new Error("Could not initialize DateTimePicker without an input element");return a.extend(!0,e,G()),k.options(e),jb(),gb(),f.prop("disabled")&&k.disable(),f.is(c)&&0!==kb(f).trim().length?X(cb(kb(f).trim())):e.defaultDate&&void 0===f.attr("placeholder")&&X(e.defaultDate),e.inline&&ab(),k};a.fn.datetimepicker=function(b){return this.each(function(){var c=a(this);c.data("DateTimePicker")||(b=a.extend(!0,{},a.fn.datetimepicker.defaults,b),c.data("DateTimePicker",d(c,b)))})},a.fn.datetimepicker.defaults={format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:b.locale("zh-cn"),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash",close:"glyphicon glyphicon-remove"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:[],calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(a){if(a){var c=this.date()||b();this.date(a.find(".datepicker").is(":visible")?c.clone().subtract(7,"d"):c.clone().add(1,"m"))}},down:function(a){if(!a)return void this.show();var c=this.date()||b();this.date(a.find(".datepicker").is(":visible")?c.clone().add(7,"d"):c.clone().subtract(1,"m"))},"control up":function(a){if(a){var c=this.date()||b();this.date(a.find(".datepicker").is(":visible")?c.clone().subtract(1,"y"):c.clone().add(1,"h"))}},"control down":function(a){if(a){var c=this.date()||b();this.date(a.find(".datepicker").is(":visible")?c.clone().add(1,"y"):c.clone().subtract(1,"h"))}},left:function(a){if(a){var c=this.date()||b();a.find(".datepicker").is(":visible")&&this.date(c.clone().subtract(1,"d"))}},right:function(a){if(a){var c=this.date()||b();a.find(".datepicker").is(":visible")&&this.date(c.clone().add(1,"d"))}},pageUp:function(a){if(a){var c=this.date()||b();a.find(".datepicker").is(":visible")&&this.date(c.clone().subtract(1,"M"))}},pageDown:function(a){if(a){var c=this.date()||b();a.find(".datepicker").is(":visible")&&this.date(c.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(a){a.find(".timepicker").is(":visible")&&a.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(b())},"delete":function(){this.clear()}},debug:!1},a(document).on("focus.datetimepicker.data-api click.datetimepicker.data-api",'[data-provide="datetimepicker"]',function(b){var c=a(this);if(!c.data("DateTimePicker")){b.preventDefault();var d=JSON.parse(c.attr("data-options")||null);c.datetimepicker(d||{}),c.data("DateTimePicker").show(),c.on("dp.change",function(){a(this).find("input").trigger("change")})}})}),//! moment.js
//! version : 2.5.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
function(a){function b(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function c(a,b){return function(c){return k(a.call(this,c),b)}}function d(a,b){return function(c){return this.lang().ordinal(a.call(this,c),b)}}function e(){}function f(a){w(a),h(this,a)}function g(a){var b=q(a),c=b.year||0,d=b.month||0,e=b.week||0,f=b.day||0,g=b.hour||0,h=b.minute||0,i=b.second||0,j=b.millisecond||0;this._milliseconds=+j+1e3*i+6e4*h+36e5*g,this._days=+f+7*e,this._months=+d+12*c,this._data={},this._bubble()}function h(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return b.hasOwnProperty("toString")&&(a.toString=b.toString),b.hasOwnProperty("valueOf")&&(a.valueOf=b.valueOf),a}function i(a){var b,c={};for(b in a)a.hasOwnProperty(b)&&qb.hasOwnProperty(b)&&(c[b]=a[b]);return c}function j(a){return 0>a?Math.ceil(a):Math.floor(a)}function k(a,b,c){for(var d=""+Math.abs(a),e=a>=0;d.length<b;)d="0"+d;return(e?c?"+":"":"-")+d}function l(a,b,c,d){var e,f,g=b._milliseconds,h=b._days,i=b._months;g&&a._d.setTime(+a._d+g*c),(h||i)&&(e=a.minute(),f=a.hour()),h&&a.date(a.date()+h*c),i&&a.month(a.month()+i*c),g&&!d&&db.updateOffset(a),(h||i)&&(a.minute(e),a.hour(f))}function m(a){return"[object Array]"===Object.prototype.toString.call(a)}function n(a){return"[object Date]"===Object.prototype.toString.call(a)||a instanceof Date}function o(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&s(a[d])!==s(b[d]))&&g++;return g+f}function p(a){if(a){var b=a.toLowerCase().replace(/(.)s$/,"$1");a=Tb[a]||Ub[b]||b}return a}function q(a){var b,c,d={};for(c in a)a.hasOwnProperty(c)&&(b=p(c),b&&(d[b]=a[c]));return d}function r(b){var c,d;if(0===b.indexOf("week"))c=7,d="day";else{if(0!==b.indexOf("month"))return;c=12,d="month"}db[b]=function(e,f){var g,h,i=db.fn._lang[b],j=[];if("number"==typeof e&&(f=e,e=a),h=function(a){var b=db().utc().set(d,a);return i.call(db.fn._lang,b,e||"")},null!=f)return h(f);for(g=0;c>g;g++)j.push(h(g));return j}}function s(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=b>=0?Math.floor(b):Math.ceil(b)),c}function t(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function u(a){return v(a)?366:365}function v(a){return a%4===0&&a%100!==0||a%400===0}function w(a){var b;a._a&&-2===a._pf.overflow&&(b=a._a[jb]<0||a._a[jb]>11?jb:a._a[kb]<1||a._a[kb]>t(a._a[ib],a._a[jb])?kb:a._a[lb]<0||a._a[lb]>23?lb:a._a[mb]<0||a._a[mb]>59?mb:a._a[nb]<0||a._a[nb]>59?nb:a._a[ob]<0||a._a[ob]>999?ob:-1,a._pf._overflowDayOfYear&&(ib>b||b>kb)&&(b=kb),a._pf.overflow=b)}function x(a){return null==a._isValid&&(a._isValid=!isNaN(a._d.getTime())&&a._pf.overflow<0&&!a._pf.empty&&!a._pf.invalidMonth&&!a._pf.nullInput&&!a._pf.invalidFormat&&!a._pf.userInvalidated,a._strict&&(a._isValid=a._isValid&&0===a._pf.charsLeftOver&&0===a._pf.unusedTokens.length)),a._isValid}function y(a){return a?a.toLowerCase().replace("_","-"):a}function z(a,b){return b._isUTC?db(a).zone(b._offset||0):db(a).local()}function A(a,b){return b.abbr=a,pb[a]||(pb[a]=new e),pb[a].set(b),pb[a]}function B(a){delete pb[a]}function C(a){var b,c,d,e,f=0,g=function(a){if(!pb[a]&&rb)try{require("./lang/"+a)}catch(b){}return pb[a]};if(!a)return db.fn._lang;if(!m(a)){if(c=g(a))return c;a=[a]}for(;f<a.length;){for(e=y(a[f]).split("-"),b=e.length,d=y(a[f+1]),d=d?d.split("-"):null;b>0;){if(c=g(e.slice(0,b).join("-")))return c;if(d&&d.length>=b&&o(e,d,!0)>=b-1)break;b--}f++}return db.fn._lang}function D(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function E(a){var b,c,d=a.match(vb);for(b=0,c=d.length;c>b;b++)d[b]=Yb[d[b]]?Yb[d[b]]:D(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function F(a,b){return a.isValid()?(b=G(b,a.lang()),Vb[b]||(Vb[b]=E(b)),Vb[b](a)):a.lang().invalidDate()}function G(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(wb.lastIndex=0;d>=0&&wb.test(a);)a=a.replace(wb,c),wb.lastIndex=0,d-=1;return a}function H(a,b){var c,d=b._strict;switch(a){case"DDDD":return Ib;case"YYYY":case"GGGG":case"gggg":return d?Jb:zb;case"Y":case"G":case"g":return Lb;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return d?Kb:Ab;case"S":if(d)return Gb;case"SS":if(d)return Hb;case"SSS":if(d)return Ib;case"DDD":return yb;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Cb;case"a":case"A":return C(b._l)._meridiemParse;case"X":return Fb;case"Z":case"ZZ":return Db;case"T":return Eb;case"SSSS":return Bb;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return d?Hb:xb;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return xb;default:return c=new RegExp(P(O(a.replace("\\","")),"i"))}}function I(a){a=a||"";var b=a.match(Db)||[],c=b[b.length-1]||[],d=(c+"").match(Qb)||["-",0,0],e=+(60*d[1])+s(d[2]);return"+"===d[0]?-e:e}function J(a,b,c){var d,e=c._a;switch(a){case"M":case"MM":null!=b&&(e[jb]=s(b)-1);break;case"MMM":case"MMMM":d=C(c._l).monthsParse(b),null!=d?e[jb]=d:c._pf.invalidMonth=b;break;case"D":case"DD":null!=b&&(e[kb]=s(b));break;case"DDD":case"DDDD":null!=b&&(c._dayOfYear=s(b));break;case"YY":e[ib]=s(b)+(s(b)>68?1900:2e3);break;case"YYYY":case"YYYYY":case"YYYYYY":e[ib]=s(b);break;case"a":case"A":c._isPm=C(c._l).isPM(b);break;case"H":case"HH":case"h":case"hh":e[lb]=s(b);break;case"m":case"mm":e[mb]=s(b);break;case"s":case"ss":e[nb]=s(b);break;case"S":case"SS":case"SSS":case"SSSS":e[ob]=s(1e3*("0."+b));break;case"X":c._d=new Date(1e3*parseFloat(b));break;case"Z":case"ZZ":c._useUTC=!0,c._tzm=I(b);break;case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":a=a.substr(0,1);case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":a=a.substr(0,2),b&&(c._w=c._w||{},c._w[a]=b)}}function K(a){var b,c,d,e,f,g,h,i,j,k,l=[];if(!a._d){for(d=M(a),a._w&&null==a._a[kb]&&null==a._a[jb]&&(f=function(b){var c=parseInt(b,10);return b?b.length<3?c>68?1900+c:2e3+c:c:null==a._a[ib]?db().weekYear():a._a[ib]},g=a._w,null!=g.GG||null!=g.W||null!=g.E?h=Z(f(g.GG),g.W||1,g.E,4,1):(i=C(a._l),j=null!=g.d?V(g.d,i):null!=g.e?parseInt(g.e,10)+i._week.dow:0,k=parseInt(g.w,10)||1,null!=g.d&&j<i._week.dow&&k++,h=Z(f(g.gg),k,j,i._week.doy,i._week.dow)),a._a[ib]=h.year,a._dayOfYear=h.dayOfYear),a._dayOfYear&&(e=null==a._a[ib]?d[ib]:a._a[ib],a._dayOfYear>u(e)&&(a._pf._overflowDayOfYear=!0),c=U(e,0,a._dayOfYear),a._a[jb]=c.getUTCMonth(),a._a[kb]=c.getUTCDate()),b=0;3>b&&null==a._a[b];++b)a._a[b]=l[b]=d[b];for(;7>b;b++)a._a[b]=l[b]=null==a._a[b]?2===b?1:0:a._a[b];l[lb]+=s((a._tzm||0)/60),l[mb]+=s((a._tzm||0)%60),a._d=(a._useUTC?U:T).apply(null,l)}}function L(a){var b;a._d||(b=q(a._i),a._a=[b.year,b.month,b.day,b.hour,b.minute,b.second,b.millisecond],K(a))}function M(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function N(a){a._a=[],a._pf.empty=!0;var b,c,d,e,f,g=C(a._l),h=""+a._i,i=h.length,j=0;for(d=G(a._f,g).match(vb)||[],b=0;b<d.length;b++)e=d[b],c=(h.match(H(e,a))||[])[0],c&&(f=h.substr(0,h.indexOf(c)),f.length>0&&a._pf.unusedInput.push(f),h=h.slice(h.indexOf(c)+c.length),j+=c.length),Yb[e]?(c?a._pf.empty=!1:a._pf.unusedTokens.push(e),J(e,c,a)):a._strict&&!c&&a._pf.unusedTokens.push(e);a._pf.charsLeftOver=i-j,h.length>0&&a._pf.unusedInput.push(h),a._isPm&&a._a[lb]<12&&(a._a[lb]+=12),a._isPm===!1&&12===a._a[lb]&&(a._a[lb]=0),K(a),w(a)}function O(a){return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e})}function P(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Q(a){var c,d,e,f,g;if(0===a._f.length)return a._pf.invalidFormat=!0,void(a._d=new Date(0/0));for(f=0;f<a._f.length;f++)g=0,c=h({},a),c._pf=b(),c._f=a._f[f],N(c),x(c)&&(g+=c._pf.charsLeftOver,g+=10*c._pf.unusedTokens.length,c._pf.score=g,(null==e||e>g)&&(e=g,d=c));h(a,d||c)}function R(a){var b,c,d=a._i,e=Mb.exec(d);if(e){for(a._pf.iso=!0,b=0,c=Ob.length;c>b;b++)if(Ob[b][1].exec(d)){a._f=Ob[b][0]+(e[6]||" ");break}for(b=0,c=Pb.length;c>b;b++)if(Pb[b][1].exec(d)){a._f+=Pb[b][0];break}d.match(Db)&&(a._f+="Z"),N(a)}else a._d=new Date(d)}function S(b){var c=b._i,d=sb.exec(c);c===a?b._d=new Date:d?b._d=new Date(+d[1]):"string"==typeof c?R(b):m(c)?(b._a=c.slice(0),K(b)):n(c)?b._d=new Date(+c):"object"==typeof c?L(b):b._d=new Date(c)}function T(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function U(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function V(a,b){if("string"==typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),"number"!=typeof a)return null}else a=parseInt(a,10);return a}function W(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function X(a,b,c){var d=hb(Math.abs(a)/1e3),e=hb(d/60),f=hb(e/60),g=hb(f/24),h=hb(g/365),i=45>d&&["s",d]||1===e&&["m"]||45>e&&["mm",e]||1===f&&["h"]||22>f&&["hh",f]||1===g&&["d"]||25>=g&&["dd",g]||45>=g&&["M"]||345>g&&["MM",hb(g/30)]||1===h&&["y"]||["yy",h];return i[2]=b,i[3]=a>0,i[4]=c,W.apply({},i)}function Y(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=db(a).add("d",f),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function Z(a,b,c,d,e){var f,g,h=U(a,0,1).getUTCDay();return c=null!=c?c:e,f=e-h+(h>d?7:0)-(e>h?7:0),g=7*(b-1)+(c-e)+f+1,{year:g>0?a:a-1,dayOfYear:g>0?g:u(a-1)+g}}function $(a){var b=a._i,c=a._f;return null===b?db.invalid({nullInput:!0}):("string"==typeof b&&(a._i=b=C().preparse(b)),db.isMoment(b)?(a=i(b),a._d=new Date(+b._d)):c?m(c)?Q(a):N(a):S(a),new f(a))}function _(a,b){db.fn[a]=db.fn[a+"s"]=function(a){var c=this._isUTC?"UTC":"";return null!=a?(this._d["set"+c+b](a),db.updateOffset(this),this):this._d["get"+c+b]()}}function ab(a){db.duration.fn[a]=function(){return this._data[a]}}function bb(a,b){db.duration.fn["as"+a]=function(){return+this/b}}function cb(a){var b=!1,c=db;"undefined"==typeof ender&&(a?(gb.moment=function(){return!b&&console&&console.warn&&(b=!0,console.warn("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.")),c.apply(null,arguments)},h(gb.moment,c)):gb.moment=db)}for(var db,eb,fb="2.5.1",gb=this,hb=Math.round,ib=0,jb=1,kb=2,lb=3,mb=4,nb=5,ob=6,pb={},qb={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_isUTC:null,_offset:null,_pf:null,_lang:null},rb="undefined"!=typeof module&&module.exports&&"undefined"!=typeof require,sb=/^\/?Date\((\-?\d+)/i,tb=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,ub=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,vb=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,wb=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,xb=/\d\d?/,yb=/\d{1,3}/,zb=/\d{1,4}/,Ab=/[+\-]?\d{1,6}/,Bb=/\d+/,Cb=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Db=/Z|[\+\-]\d\d:?\d\d/gi,Eb=/T/i,Fb=/[\+\-]?\d+(\.\d{1,3})?/,Gb=/\d/,Hb=/\d\d/,Ib=/\d{3}/,Jb=/\d{4}/,Kb=/[+-]?\d{6}/,Lb=/[+-]?\d+/,Mb=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Nb="YYYY-MM-DDTHH:mm:ssZ",Ob=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],Pb=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Qb=/([\+\-]|\d\d)/gi,Rb="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),Sb={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},Tb={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},Ub={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},Vb={},Wb="DDD w W M D d".split(" "),Xb="M D H h m s w W".split(" "),Yb={M:function(){return this.month()+1},MMM:function(a){return this.lang().monthsShort(this,a)},MMMM:function(a){return this.lang().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.lang().weekdaysMin(this,a)},ddd:function(a){return this.lang().weekdaysShort(this,a)},dddd:function(a){return this.lang().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return k(this.year()%100,2)},YYYY:function(){return k(this.year(),4)},YYYYY:function(){return k(this.year(),5)},YYYYYY:function(){var a=this.year(),b=a>=0?"+":"-";return b+k(Math.abs(a),6)},gg:function(){return k(this.weekYear()%100,2)},gggg:function(){return k(this.weekYear(),4)},ggggg:function(){return k(this.weekYear(),5)},GG:function(){return k(this.isoWeekYear()%100,2)},GGGG:function(){return k(this.isoWeekYear(),4)},GGGGG:function(){return k(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return s(this.milliseconds()/100)},SS:function(){return k(s(this.milliseconds()/10),2)},SSS:function(){return k(this.milliseconds(),3)},SSSS:function(){return k(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+k(s(a/60),2)+":"+k(s(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+k(s(a/60),2)+k(s(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},Zb=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];Wb.length;)eb=Wb.pop(),Yb[eb+"o"]=d(Yb[eb],eb);for(;Xb.length;)eb=Xb.pop(),Yb[eb+eb]=c(Yb[eb],2);for(Yb.DDDD=c(Yb.DDD,3),h(e.prototype,{set:function(a){var b,c;for(c in a)b=a[c],"function"==typeof b?this[c]=b:this["_"+c]=b},_months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),months:function(a){return this._months[a.month()]},_monthsShort:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a){var b,c,d;for(this._monthsParse||(this._monthsParse=[]),b=0;12>b;b++)if(this._monthsParse[b]||(c=db.utc([2e3,b]),d="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[b]=new RegExp(d.replace(".",""),"i")),this._monthsParse[b].test(a))return b},_weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c,d;for(this._weekdaysParse||(this._weekdaysParse=[]),b=0;7>b;b++)if(this._weekdaysParse[b]||(c=db([2e3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LT:"h:mm A",L:"YYYY-MM-DD",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b){var c=this._calendar[a];return"function"==typeof c?c.apply(b):c},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",preparse:function(a){return a},postformat:function(a){return a},week:function(a){return Y(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),db=function(c,d,e,f){var g;return"boolean"==typeof e&&(f=e,e=a),g={},g._isAMomentObject=!0,g._i=c,g._f=d,g._l=e,g._strict=f,g._isUTC=!1,g._pf=b(),$(g)},db.utc=function(c,d,e,f){var g;return"boolean"==typeof e&&(f=e,e=a),g={},g._isAMomentObject=!0,g._useUTC=!0,g._isUTC=!0,g._l=e,g._i=c,g._f=d,g._strict=f,g._pf=b(),$(g).utc()},db.unix=function(a){return db(1e3*a)},db.duration=function(a,b){var c,d,e,f=a,h=null;return db.isDuration(a)?f={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(f={},b?f[b]=a:f.milliseconds=a):(h=tb.exec(a))?(c="-"===h[1]?-1:1,f={y:0,d:s(h[kb])*c,h:s(h[lb])*c,m:s(h[mb])*c,s:s(h[nb])*c,ms:s(h[ob])*c}):(h=ub.exec(a))&&(c="-"===h[1]?-1:1,e=function(a){var b=a&&parseFloat(a.replace(",","."));return(isNaN(b)?0:b)*c},f={y:e(h[2]),M:e(h[3]),d:e(h[4]),h:e(h[5]),m:e(h[6]),s:e(h[7]),w:e(h[8])}),d=new g(f),db.isDuration(a)&&a.hasOwnProperty("_lang")&&(d._lang=a._lang),d},db.version=fb,db.defaultFormat=Nb,db.updateOffset=function(){},db.lang=function(a,b){var c;return a?(b?A(y(a),b):null===b?(B(a),a="en"):pb[a]||C(a),c=db.duration.fn._lang=db.fn._lang=C(a),c._abbr):db.fn._lang._abbr},db.langData=function(a){return a&&a._lang&&a._lang._abbr&&(a=a._lang._abbr),C(a)},db.isMoment=function(a){return a instanceof f||null!=a&&a.hasOwnProperty("_isAMomentObject")},db.isDuration=function(a){return a instanceof g},eb=Zb.length-1;eb>=0;--eb)r(Zb[eb]);for(db.normalizeUnits=function(a){return p(a)},db.invalid=function(a){var b=db.utc(0/0);return null!=a?h(b._pf,a):b._pf.userInvalidated=!0,b},db.parseZone=function(a){return db(a).parseZone()},h(db.fn=f.prototype,{clone:function(){return db(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var a=db(this).utc();return 0<a.year()&&a.year()<=9999?F(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):F(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var a=this;return[a.year(),a.month(),a.date(),a.hours(),a.minutes(),a.seconds(),a.milliseconds()]},isValid:function(){return x(this)},isDSTShifted:function(){return this._a?this.isValid()&&o(this._a,(this._isUTC?db.utc(this._a):db(this._a)).toArray())>0:!1},parsingFlags:function(){return h({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(a){var b=F(this,a||db.defaultFormat);return this.lang().postformat(b)},add:function(a,b){var c;return c="string"==typeof a?db.duration(+b,a):db.duration(a,b),l(this,c,1),this},subtract:function(a,b){var c;return c="string"==typeof a?db.duration(+b,a):db.duration(a,b),l(this,c,-1),this},diff:function(a,b,c){var d,e,f=z(a,this),g=6e4*(this.zone()-f.zone());return b=p(b),"year"===b||"month"===b?(d=432e5*(this.daysInMonth()+f.daysInMonth()),e=12*(this.year()-f.year())+(this.month()-f.month()),e+=(this-db(this).startOf("month")-(f-db(f).startOf("month")))/d,e-=6e4*(this.zone()-db(this).startOf("month").zone()-(f.zone()-db(f).startOf("month").zone()))/d,"year"===b&&(e/=12)):(d=this-f,e="second"===b?d/1e3:"minute"===b?d/6e4:"hour"===b?d/36e5:"day"===b?(d-g)/864e5:"week"===b?(d-g)/6048e5:d),c?e:j(e)},from:function(a,b){return db.duration(this.diff(a)).lang(this.lang()._abbr).humanize(!b)},fromNow:function(a){return this.from(db(),a)},calendar:function(){var a=z(db(),this).startOf("day"),b=this.diff(a,"days",!0),c=-6>b?"sameElse":-1>b?"lastWeek":0>b?"lastDay":1>b?"sameDay":2>b?"nextDay":7>b?"nextWeek":"sameElse";return this.format(this.lang().calendar(c,this))},isLeapYear:function(){return v(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=V(a,this.lang()),this.add({d:a-b})):b},month:function(a){var b,c=this._isUTC?"UTC":"";return null!=a?"string"==typeof a&&(a=this.lang().monthsParse(a),"number"!=typeof a)?this:(b=this.date(),this.date(1),this._d["set"+c+"Month"](a),this.date(Math.min(b,this.daysInMonth())),db.updateOffset(this),this):this._d["get"+c+"Month"]()},startOf:function(a){switch(a=p(a)){case"year":this.month(0);case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a?this.weekday(0):"isoWeek"===a&&this.isoWeekday(1),this},endOf:function(a){return a=p(a),this.startOf(a).add("isoWeek"===a?"week":a,1).subtract("ms",1)},isAfter:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)>+db(a).startOf(b)},isBefore:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)<+db(a).startOf(b)},isSame:function(a,b){return b=b||"ms",+this.clone().startOf(b)===+z(a,this).startOf(b)},min:function(a){return a=db.apply(null,arguments),this>a?this:a},max:function(a){return a=db.apply(null,arguments),a>this?this:a},zone:function(a){var b=this._offset||0;return null==a?this._isUTC?b:this._d.getTimezoneOffset():("string"==typeof a&&(a=I(a)),Math.abs(a)<16&&(a=60*a),this._offset=a,this._isUTC=!0,b!==a&&l(this,db.duration(b-a,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(a){return a=a?db(a).zone():0,(this.zone()-a)%60===0},daysInMonth:function(){return t(this.year(),this.month())},dayOfYear:function(a){var b=hb((db(this).startOf("day")-db(this).startOf("year"))/864e5)+1;return null==a?b:this.add("d",a-b)},quarter:function(){return Math.ceil((this.month()+1)/3)},weekYear:function(a){var b=Y(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==a?b:this.add("y",a-b)},isoWeekYear:function(a){var b=Y(this,1,4).year;return null==a?b:this.add("y",a-b)},week:function(a){var b=this.lang().week(this);return null==a?b:this.add("d",7*(a-b))},isoWeek:function(a){var b=Y(this,1,4).week;return null==a?b:this.add("d",7*(a-b))},weekday:function(a){var b=(this.day()+7-this.lang()._week.dow)%7;return null==a?b:this.add("d",a-b)},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},get:function(a){return a=p(a),this[a]()},set:function(a,b){return a=p(a),"function"==typeof this[a]&&this[a](b),this},lang:function(b){return b===a?this._lang:(this._lang=C(b),this)}}),eb=0;eb<Rb.length;eb++)_(Rb[eb].toLowerCase().replace(/s$/,""),Rb[eb]);_("year","FullYear"),db.fn.days=db.fn.day,db.fn.months=db.fn.month,db.fn.weeks=db.fn.week,db.fn.isoWeeks=db.fn.isoWeek,db.fn.toJSON=db.fn.toISOString,h(db.duration.fn=g.prototype,{_bubble:function(){var a,b,c,d,e=this._milliseconds,f=this._days,g=this._months,h=this._data;h.milliseconds=e%1e3,a=j(e/1e3),h.seconds=a%60,b=j(a/60),h.minutes=b%60,c=j(b/60),h.hours=c%24,f+=j(c/24),h.days=f%30,g+=j(f/30),h.months=g%12,d=j(g/12),h.years=d},weeks:function(){return j(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*s(this._months/12)},humanize:function(a){var b=+this,c=X(b,!a,this.lang());return a&&(c=this.lang().pastFuture(b,c)),this.lang().postformat(c)},add:function(a,b){var c=db.duration(a,b);return this._milliseconds+=c._milliseconds,this._days+=c._days,this._months+=c._months,this._bubble(),this},subtract:function(a,b){var c=db.duration(a,b);return this._milliseconds-=c._milliseconds,this._days-=c._days,this._months-=c._months,this._bubble(),this},get:function(a){return a=p(a),this[a.toLowerCase()+"s"]()},as:function(a){return a=p(a),this["as"+a.charAt(0).toUpperCase()+a.slice(1)+"s"]()},lang:db.fn.lang,toIsoString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),c=Math.abs(this.days()),d=Math.abs(this.hours()),e=Math.abs(this.minutes()),f=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||f?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":""):"P0D"}});for(eb in Sb)Sb.hasOwnProperty(eb)&&(bb(eb,Sb[eb]),ab(eb.toLowerCase()));bb("Weeks",6048e5),db.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},db.lang("en",{ordinal:function(a){var b=a%10,c=1===s(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),cb()}.call(this),/**
* @version: 1.3.6
* @author: Dan Grossman http://www.dangrossman.info/
* @date: 2014-04-29
* @copyright: Copyright (c) 2012-2014 Dan Grossman. All rights reserved.
* @license: Licensed under Apache License v2.0. See http://www.apache.org/licenses/LICENSE-2.0
* @website: http://www.improvely.com/
*/
!function(a,b){var c=function(b,c,d){this.parentEl="body",this.element=a(b);var e='<div class="daterangepicker dropdown-menu"><div class="ranges"><div class="range_inputs"><div class="daterangepicker_start_input"><label for="daterangepicker_start"></label><input class="input-mini" type="text" name="daterangepicker_start" value="" disabled="disabled" /></div><div class="daterangepicker_end_input"><label for="daterangepicker_end"></label><input class="input-mini" type="text" name="daterangepicker_end" value="" disabled="disabled" /></div><button class="applyBtn" disabled="disabled"></button>&nbsp;<button class="cancelBtn"></button></div></div><div class="clear"></div><div class="calendar left"></div><div class="calendar right"></div></div>';("object"!=typeof c||null===c)&&(c={}),this.parentEl=a("object"==typeof c&&c.parentEl&&a(c.parentEl).length?c.parentEl:this.parentEl),this.container=a(e).appendTo(this.parentEl),this.setOptions(c,d);var f=this.container;a.each(this.buttonClasses,function(a,b){f.find("button").addClass(b)}),this.container.find(".daterangepicker_start_input label").html(this.locale.fromLabel),this.container.find(".daterangepicker_end_input label").html(this.locale.toLabel),this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass),this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".calendar").on("click.daterangepicker",".prev",a.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",a.proxy(this.clickNext,this)).on("click.daterangepicker","td.available",a.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",a.proxy(this.enterDate,this)).on("mouseleave.daterangepicker","td.available",a.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",a.proxy(this.updateMonthYear,this)).on("change.daterangepicker","select.monthselect",a.proxy(this.updateMonthYear,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.ampmselect",a.proxy(this.updateTime,this)),this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",a.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",a.proxy(this.clickCancel,this)).on("click.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",a.proxy(this.showCalendars,this)).on("click.daterangepicker","li",a.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",a.proxy(this.enterRange,this)).on("mouseleave.daterangepicker","li",a.proxy(this.updateFormInputs,this)),this.element.is("input")?this.element.on({"click.daterangepicker":a.proxy(this.show,this),"focus.daterangepicker":a.proxy(this.show,this),"keyup.daterangepicker":a.proxy(this.updateFromControl,this)}):this.element.on("click.daterangepicker",a.proxy(this.toggle,this))};c.prototype={constructor:c,setOptions:function(c,d){if(this.startDate=b().startOf("day"),this.endDate=b().endOf("day"),this.minDate=b("1970-01-01","YYYY-MM-DD").startOf("day"),this.maxDate=b("2999-01-01","YYYY-MM-DD").endOf("day"),this.dateLimit=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.timePicker=!1,this.timePickerIncrement=30,this.timePicker12Hour=!0,this.singleDatePicker=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.buttonClasses=["btn","btn-small"],this.applyClass="btn-success",this.cancelClass="btn-default",this.format="YYYY-MM-DD",this.separator=" - ",this.locale={applyLabel:"确定",cancelLabel:"取消",fromLabel:"从",toLabel:"到",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:b()._lang._weekdaysMin.slice(),monthNames:b()._lang._monthsShort.slice(),firstDay:0},this.cb=function(){},"string"==typeof c.format&&(this.format=c.format),"string"==typeof c.separator&&(this.separator=c.separator),"string"==typeof c.startDate&&(this.startDate=b(c.startDate,this.format)),"string"==typeof c.endDate&&(this.endDate=b(c.endDate,this.format)),"string"==typeof c.minDate&&(this.minDate=b(c.minDate,this.format)),"string"==typeof c.maxDate&&(this.maxDate=b(c.maxDate,this.format)),"object"==typeof c.startDate&&(this.startDate=b(c.startDate)),"object"==typeof c.endDate&&(this.endDate=b(c.endDate)),"object"==typeof c.minDate&&(this.minDate=b(c.minDate)),"object"==typeof c.maxDate&&(this.maxDate=b(c.maxDate)),"string"==typeof c.applyClass&&(this.applyClass=c.applyClass),"string"==typeof c.cancelClass&&(this.cancelClass=c.cancelClass),"object"==typeof c.dateLimit&&(this.dateLimit=c.dateLimit),"object"==typeof c.locale){if("object"==typeof c.locale.daysOfWeek&&(this.locale.daysOfWeek=c.locale.daysOfWeek.slice()),"object"==typeof c.locale.monthNames&&(this.locale.monthNames=c.locale.monthNames.slice()),"number"==typeof c.locale.firstDay){this.locale.firstDay=c.locale.firstDay;for(var e=c.locale.firstDay;e>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),e--}"string"==typeof c.locale.applyLabel&&(this.locale.applyLabel=c.locale.applyLabel),"string"==typeof c.locale.cancelLabel&&(this.locale.cancelLabel=c.locale.cancelLabel),"string"==typeof c.locale.fromLabel&&(this.locale.fromLabel=c.locale.fromLabel),"string"==typeof c.locale.toLabel&&(this.locale.toLabel=c.locale.toLabel),"string"==typeof c.locale.weekLabel&&(this.locale.weekLabel=c.locale.weekLabel),"string"==typeof c.locale.customRangeLabel&&(this.locale.customRangeLabel=c.locale.customRangeLabel)}"string"==typeof c.opens&&(this.opens=c.opens),"boolean"==typeof c.showWeekNumbers&&(this.showWeekNumbers=c.showWeekNumbers),"string"==typeof c.buttonClasses&&(this.buttonClasses=[c.buttonClasses]),"object"==typeof c.buttonClasses&&(this.buttonClasses=c.buttonClasses),"boolean"==typeof c.showDropdowns&&(this.showDropdowns=c.showDropdowns),"boolean"==typeof c.singleDatePicker&&(this.singleDatePicker=c.singleDatePicker),"boolean"==typeof c.timePicker&&(this.timePicker=c.timePicker),"number"==typeof c.timePickerIncrement&&(this.timePickerIncrement=c.timePickerIncrement),"boolean"==typeof c.timePicker12Hour&&(this.timePicker12Hour=c.timePicker12Hour);var f,g,h;if("undefined"==typeof c.startDate&&"undefined"==typeof c.endDate&&a(this.element).is("input[type=text]")){var i=a(this.element).prop("value"),j=i.split(this.separator);f=g=null,2==j.length?(f=b(j[0],this.format),g=b(j[1],this.format)):this.singleDatePicker&&(f=b(i,this.format),g=b(i,this.format)),null!==f&&null!==g&&(this.startDate=f,this.endDate=g)}if("object"==typeof c.ranges){for(h in c.ranges)f=b(c.ranges[h][0]),g=b(c.ranges[h][1]),this.minDate&&f.isBefore(this.minDate)&&(f=b(this.minDate)),this.maxDate&&g.isAfter(this.maxDate)&&(g=b(this.maxDate)),this.minDate&&g.isBefore(this.minDate)||this.maxDate&&f.isAfter(this.maxDate)||(this.ranges[h]=[f,g]);var k="<ul>";for(h in this.ranges)k+="<li>"+h+"</li>";k+="<li>"+this.locale.customRangeLabel+"</li>",k+="</ul>",this.container.find(".ranges ul").remove(),this.container.find(".ranges").prepend(k)}if("function"==typeof d&&(this.cb=d),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day")),this.singleDatePicker?(this.opens="right",this.container.find(".calendar.right").show(),this.container.find(".calendar.left").hide(),this.container.find(".ranges").hide(),this.container.find(".calendar.right").hasClass("single")||this.container.find(".calendar.right").addClass("single")):(this.container.find(".calendar.right").removeClass("single"),this.container.find(".ranges").show()),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.oldChosenLabel=this.chosenLabel,this.leftCalendar={month:b([this.startDate.year(),this.startDate.month(),1,this.startDate.hour(),this.startDate.minute()]),calendar:[]},this.rightCalendar={month:b([this.endDate.year(),this.endDate.month(),1,this.endDate.hour(),this.endDate.minute()]),calendar:[]},"right"==this.opens){var l=this.container.find(".calendar.left"),m=this.container.find(".calendar.right");l.removeClass("left").addClass("right"),m.removeClass("right").addClass("left")}"undefined"!=typeof c.ranges||this.singleDatePicker||this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),this.updateView(),this.updateCalendars()},setStartDate:function(a){"string"==typeof a&&(this.startDate=b(a,this.format)),"object"==typeof a&&(this.startDate=b(a)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.oldStartDate=this.startDate.clone(),this.updateView(),this.updateCalendars()},setEndDate:function(a){"string"==typeof a&&(this.endDate=b(a,this.format)),"object"==typeof a&&(this.endDate=b(a)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.oldEndDate=this.endDate.clone(),this.updateView(),this.updateCalendars()},updateView:function(){this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()),this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()),this.updateFormInputs()},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").val(this.startDate.valueOf()!=this.minDate.valueOf()?this.startDate.format(this.format):""),this.container.find("input[name=daterangepicker_end]").val(this.endDate.valueOf()!=this.maxDate.valueOf()?this.endDate.format(this.format):""),this.startDate.isSame(this.endDate)||this.startDate.isBefore(this.endDate)?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled")},updateFromControl:function(){if(this.element.is("input")&&this.element.val().length){var a=this.element.val().split(this.separator),c=null,d=null;2===a.length&&(c=b(a[0],this.format),d=b(a[1],this.format)),(this.singleDatePicker||null===c||null===d)&&(c=b(this.element.val(),this.format),d=c),d.isBefore(c)||(this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.startDate=c,this.endDate=d,this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.notify(),this.updateCalendars())}},notify:function(){this.updateView(),this.cb(this.startDate,this.endDate,this.chosenLabel)},move:function(){var b={top:0,left:0};this.parentEl.is("body")||(b={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()}),"left"==this.opens?(this.container.css({top:this.element.offset().top+this.element.outerHeight()-b.top,right:a(window).width()-this.element.offset().left-this.element.outerWidth()-b.left,left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:this.element.offset().top+this.element.outerHeight()-b.top,left:this.element.offset().left-b.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>a(window).width()&&this.container.css({left:"auto",right:0}))},toggle:function(){this.element.hasClass("active")?this.hide():this.show()},show:function(){this.element.addClass("active"),this.container.show(),this.move(),a(document).on("click.daterangepicker",a.proxy(this.outsideClick,this)),a(document).on("click.daterangepicker","[data-toggle=dropdown]",a.proxy(this.outsideClick,this)),this.element.trigger("show.daterangepicker",this)},outsideClick:function(b){var c=a(b.target);c.closest(this.element).length||c.closest(this.container).length||c.closest(".calendar-date").length||this.hide()},hide:function(){a(document).off("click.daterangepicker",this.outsideClick),this.element.removeClass("active"),this.container.hide(),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.notify(),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.element.trigger("hide.daterangepicker",this)},enterRange:function(a){var b=a.target.innerHTML;if(b==this.locale.customRangeLabel)this.updateView();else{var c=this.ranges[b];this.container.find("input[name=daterangepicker_start]").val(c[0].format(this.format)),this.container.find("input[name=daterangepicker_end]").val(c[1].format(this.format))}},showCalendars:function(){this.container.addClass("show-calendar"),this.move()},hideCalendars:function(){this.container.removeClass("show-calendar")},updateInputText:function(){this.element.is("input")&&!this.singleDatePicker?a(this.element).prop("value",this.container.find("input[name=daterangepicker_start]").val()+this.separator+this.container.find("input[name=daterangepicker_end]").val()).trigger("change"):this.element.is("input")&&a(this.element).prop("value",this.container.find("input[name=daterangepicker_start]").val()).trigger("change")},clickRange:function(a){var b=a.target.innerHTML;if(this.chosenLabel=b,b==this.locale.customRangeLabel)this.showCalendars();else{var c=this.ranges[b];this.startDate=c[0],this.endDate=c[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()).hour(this.startDate.hour()).minute(this.startDate.minute()),this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()).hour(this.endDate.hour()).minute(this.endDate.minute()),this.updateCalendars(),this.updateInputText(),this.hideCalendars(),this.hide(),this.element.trigger("apply.daterangepicker",this)}},clickPrev:function(b){var c=a(b.target).parents(".calendar");c.hasClass("left")?this.leftCalendar.month.subtract("month",1):this.rightCalendar.month.subtract("month",1),this.updateCalendars()},clickNext:function(b){var c=a(b.target).parents(".calendar");c.hasClass("left")?this.leftCalendar.month.add("month",1):this.rightCalendar.month.add("month",1),this.updateCalendars()},enterDate:function(b){var c=a(b.target).attr("data-title"),d=c.substr(1,1),e=c.substr(3,1),f=a(b.target).parents(".calendar");f.hasClass("left")?this.container.find("input[name=daterangepicker_start]").val(this.leftCalendar.calendar[d][e].format(this.format)):this.container.find("input[name=daterangepicker_end]").val(this.rightCalendar.calendar[d][e].format(this.format))},clickDate:function(c){var d,e,f=a(c.target).attr("data-title"),g=a(c.target).hasClass("active"),h=f.substr(1,1),i=f.substr(3,1),j=a(c.target).parents(".calendar");if(j.hasClass("left")){if(d=g?this.minDate:this.leftCalendar.calendar[h][i],e=this.endDate,"object"==typeof this.dateLimit){var k=b(d).add(this.dateLimit).startOf("day");e.isAfter(k)&&(e=k)}}else if(e=g?this.maxDate:this.rightCalendar.calendar[h][i],d=this.startDate,"object"==typeof this.dateLimit){var l=b(e).subtract(this.dateLimit).startOf("day");d.isBefore(l)&&(d=l)}if(this.singleDatePicker&&j.hasClass("left")?e=d.clone():this.singleDatePicker&&j.hasClass("right")&&(d=e.clone()),j.find("td").removeClass("active"),d.isSame(e)||d.isBefore(e))this.startDate=d,this.endDate=e,this.chosenLabel=this.locale.customRangeLabel;else if(d.isAfter(e)){var m=this.endDate.diff(this.startDate);this.startDate=d,this.endDate=b(d).add("ms",m),this.chosenLabel=this.locale.customRangeLabel}a(c.target).addClass("active"),this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()),this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()),this.updateCalendars(),this.timePicker||e.endOf("day"),this.singleDatePicker&&this.clickApply()},clickApply:function(){this.updateInputText(),this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.chosenLabel=this.oldChosenLabel,this.updateView(),this.updateCalendars(),this.hide(),this.element.trigger("cancel.daterangepicker",this)},updateMonthYear:function(b){var c=a(b.target).closest(".calendar").hasClass("left"),d=c?"left":"right",e=this.container.find(".calendar."+d),f=parseInt(e.find(".monthselect").val(),10),g=e.find(".yearselect").val();this[d+"Calendar"].month.month(f).year(g),this.updateCalendars()},updateTime:function(b){var c=a(b.target).closest(".calendar").hasClass("left"),d=c?"left":"right",e=this.container.find(".calendar."+d),f=parseInt(e.find(".hourselect").val(),10),g=parseInt(e.find(".minuteselect").val(),10);if(this.timePicker12Hour){var h=e.find(".ampmselect").val();"PM"===h&&12>f&&(f+=12),"AM"===h&&12===f&&(f=0)}if(c){var i=this.startDate.clone();i.hour(f),i.minute(g),this.startDate=i,this.leftCalendar.month.hour(f).minute(g)}else{var j=this.endDate.clone();j.hour(f),j.minute(g),this.endDate=j,this.rightCalendar.month.hour(f).minute(g)}this.updateCalendars()},updateCalendars:function(){this.startDate.valueOf()!=this.minDate.valueOf()&&(this.leftCalendar.calendar=this.buildCalendar(this.leftCalendar.month.month(),this.leftCalendar.month.year(),this.leftCalendar.month.hour(),this.leftCalendar.month.minute(),"left")),this.endDate.valueOf()!=this.maxDate.valueOf()&&(this.rightCalendar.calendar=this.buildCalendar(this.rightCalendar.month.month(),this.rightCalendar.month.year(),this.rightCalendar.month.hour(),this.rightCalendar.month.minute(),"right")),this.container.find(".calendar.left").empty().html(this.renderCalendar(this.leftCalendar.calendar,this.startDate,this.minDate,this.maxDate)),this.container.find(".calendar.right").empty().html(this.renderCalendar(this.rightCalendar.calendar,this.endDate,this.startDate,this.maxDate)),this.container.find(".ranges li").removeClass("active");var a=!0,b=0;for(var c in this.ranges)this.timePicker?this.startDate.isSame(this.ranges[c][0])&&this.endDate.isSame(this.ranges[c][1])&&(a=!1,this.chosenLabel=this.container.find(".ranges li:eq("+b+")").addClass("active").html()):this.startDate.format("YYYY-MM-DD")==this.ranges[c][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[c][1].format("YYYY-MM-DD")&&(a=!1,this.chosenLabel=this.container.find(".ranges li:eq("+b+")").addClass("active").html()),b++;a&&(this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html())},buildCalendar:function(a,c,d,e){var f,g=b([c,a,1]),h=b(g).subtract("month",1).month(),i=b(g).subtract("month",1).year(),j=b([i,h]).daysInMonth(),k=g.day(),l=[];for(f=0;6>f;f++)l[f]=[];var m=j-k+this.locale.firstDay+1;m>j&&(m-=7),k==this.locale.firstDay&&(m=j-6);var n,o,p=b([i,h,m,12,e]);for(f=0,n=0,o=0;42>f;f++,n++,p=b(p).add("hour",24))f>0&&n%7===0&&(n=0,o++),l[o][n]=p.clone().hour(d),p.hour(12);return l},renderDropdowns:function(a,b,c){for(var d=a.month(),e='<select class="monthselect">',f=!1,g=!1,h=0;12>h;h++)(!f||h>=b.month())&&(!g||h<=c.month())&&(e+="<option value='"+h+"'"+(h===d?" selected='selected'":"")+">"+this.locale.monthNames[h]+"</option>");e+="</select>";for(var i=a.year(),j=c&&c.year()||i+5,k=b&&b.year()||i-50,l='<select class="yearselect">',m=k;j>=m;m++)l+='<option value="'+m+'"'+(m===i?' selected="selected"':"")+">"+m+"</option>";return l+="</select>",e+l},renderCalendar:function(b,c,d,e){var f='<div class="calendar-date">';f+='<table class="table-condensed">',f+="<thead>",f+="<tr>",this.showWeekNumbers&&(f+="<th></th>"),f+=!d||d.isBefore(b[1][1])?'<th class="prev available"><i class="fa fa-arrow-left icon-arrow-left glyphicon glyphicon-arrow-left"></i></th>':"<th></th>";var g=this.locale.monthNames[b[1][1].month()]+b[1][1].format(" YYYY");this.showDropdowns&&(g=this.renderDropdowns(b[1][1],d,e)),f+='<th colspan="5" class="month">'+g+"</th>",f+=!e||e.isAfter(b[1][1])?'<th class="next available"><i class="fa fa-arrow-right icon-arrow-right glyphicon glyphicon-arrow-right"></i></th>':"<th></th>",f+="</tr>",f+="<tr>",this.showWeekNumbers&&(f+='<th class="week">'+this.locale.weekLabel+"</th>"),a.each(this.locale.daysOfWeek,function(a,b){f+="<th>"+b+"</th>"}),f+="</tr>",f+="</thead>",f+="<tbody>";for(var h=0;6>h;h++){f+="<tr>",this.showWeekNumbers&&(f+='<td class="week">'+b[h][0].week()+"</td>");for(var i=0;7>i;i++){var j="available ";j+=b[h][i].month()==b[1][1].month()?"":"off",d&&b[h][i].isBefore(d)||e&&b[h][i].isAfter(e)?j=" off disabled ":b[h][i].format("YYYY-MM-DD")==c.format("YYYY-MM-DD")?(j+=" active ",b[h][i].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&(j+=" start-date "),b[h][i].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&(j+=" end-date ")):b[h][i]>=this.startDate&&b[h][i]<=this.endDate&&(j+=" in-range ",b[h][i].isSame(this.startDate)&&(j+=" start-date "),b[h][i].isSame(this.endDate)&&(j+=" end-date "));var k="r"+h+"c"+i;f+='<td class="'+j.replace(/\s+/g," ").replace(/^\s?(.*?)\s?$/,"$1")+'" data-title="'+k+'">'+b[h][i].date()+"</td>"}f+="</tr>"}f+="</tbody>",f+="</table>",f+="</div>";var l;if(this.timePicker){f+='<div class="calendar-time">',f+='<select class="hourselect">';var m=0,n=23,o=c.hour();for(this.timePicker12Hour&&(m=1,n=12,o>=12&&(o-=12),0===o&&(o=12)),l=m;n>=l;l++)f+=l==o?'<option value="'+l+'" selected="selected">'+l+"</option>":'<option value="'+l+'">'+l+"</option>";for(f+="</select> : ",f+='<select class="minuteselect">',l=0;60>l;l+=this.timePickerIncrement){var p=l;10>p&&(p="0"+p),f+=l==c.minute()?'<option value="'+l+'" selected="selected">'+p+"</option>":'<option value="'+l+'">'+p+"</option>"}f+="</select> ",this.timePicker12Hour&&(f+='<select class="ampmselect">',f+=c.hour()>=12?'<option value="AM">AM</option><option value="PM" selected="selected">PM</option>':'<option value="AM" selected="selected">AM</option><option value="PM">PM</option>',f+="</select>"),f+="</div>"}return f},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData("daterangepicker")}},a.fn.daterangepicker=function(b,d){return this.each(function(){var e=a(this);e.data("daterangepicker")&&e.data("daterangepicker").remove(),e.data("daterangepicker",new c(e,b,d))}),this}}(window.jQuery,window.moment),!function(a){var b=function(){this.addData=function(b,c){var d,c=c,e=a(c),f=e.siblings(".multilang_body"),g="name";"object"==typeof b?(d=b,d.lang_name&&(g=d.lang_name)):d=b.split(","),f.val(d),a.each(d,function(a,b){a>0?f.find(".m_context").eq(a).attr("data-bind","value:"+g+a).text(b):f.find(".m_context").eq(a).attr("data-bind","value:"+g).text(b)}),this.ko_vm&&ko.applyBindings(this.ko_vm,f[0])},this.ko_vm,this.add_ko_vm=function(a){this.ko_vm=a},this.multinfo=function(b){var d=c.target,e=a(d),f=c,g="",h=!0;a.isArray(b)?(e.addClass("multilang_array").after("<div class='multilang_body'><input class='lang_value' contenteditable='true'><span class='fa fa-sort-desc lang_icon'></span>").css("display","none"),a.each(b,function(a,b){g+="<label attr='lang_"+a+"'><span class='m_context'></span><span class='m_icon'>"+b+"</span></label>"}),e.siblings(".multilang_body").append("<div class='multilang_menu '>"+g+"</div>"),a(".multilang_body").off("click mouseenter mouseleave").on({click:function(){var b=a(this),c=b.parents(".multilang_body");b.siblings("input").focus(),"block"==c.find(".multilang_menu").css("display")?c.find(".multilang_menu").css("display","none"):c.find(".multilang_menu").css("display","block")},mouseenter:function(){h=!1},mouseleave:function(){h=!0}},".lang_icon").off("blur").on("blur",".lang_value",function(){var b=a(this),c=f.fixtarget(b),d=b.parents(".multilang_body"),e=b.attr("class").split(" ")[2],g=b.val();b.hasClass("ready_change")&&f.changeData(c,e,g),h&&d.find(".multilang_menu").css("display","none")}),a(".multilang_menu").off("click").on("click","label",function(){var b=a(this),c=b.parents(".multilang_body"),d=b.index();tmptext=b.children(".m_context").text(),tmpicon=b.children(".m_icon").clone(),c.find(".lang_value").attr("class","").addClass("ready_change lang_value "+d).val(tmptext).focus(),c.find(".lang_icon").removeClass("fa-sort-desc").html(tmpicon)}).off("mouseenter mouseleave").on({mouseenter:function(){h=!1},mouseleave:function(){h=!0}})):console.error("Not object")},this.multidata=function(a,b){var d=c.target;c.addData(a,d,b)},this.changeData=function(b,c,d){var e=b.value;jq_t=a(b),e[c]=d,jq_t.find("label[attr='lang_"+c+"']").find(".m_context").text(d).prop("value",d).trigger("change")},this.getData=function(){var b=a(c.target).siblings(".multilang_body")[0],d=b.value;return d},this.fixtarget=function(a){return c.target=a.parents(".multilang_body")[0],c.target},this.target="",this.doSth=function(b){return c.target=this[0],"object"!=typeof b?c[b]():(a.each(b,function(a,b){c[a](b)}),void(c.target=""))}},c=new b;a.fn.extend({multilang:c.doSth})}(jQuery),+function(a){a(document).on("focus.u.input",".form-control",function(){var b=a(this);setTimeout(function(a){return function(){a.is("div[contenteditable=true]")?a.selectText():a.is("input")&&a.select()}}(b),100)})}(jQuery),function($,window,document,undefined){var dataSource=function(a,b){this.defaults={},this.gridComp=b,this.options=$.extend({},this.defaults,a),this.rows=new Array,this.hasParentRows=new Array,this.nothasParentRows=new Array,this.sortRows()},gridCompColumn=function(a,b){this.defaults={width:200,sortable:!0,canDrag:!0,fixed:!1,visible:!0,sumCol:!1,editable:!1,autoExpand:!1,editType:"text",dataType:"string",format:"yyyy-MM-dd hh:mm:ss"};var c={sortable:b.sortable,canDrag:b.canDrag,editable:b.editable,width:b.columnWidth};"Date"==a.dataType&&(this.defaults.format="yyyy-MM-dd"),this.options=$.extend({},this.defaults,c,a),this.firstColumn=!1},gridComp=function(a,b){this.dataSource=dataSource,this.gridCompColumn=gridCompColumn,this.ele=a[0],this.$ele=a,this.defaults={id:"grid",width:"100%",height:"100%",columnWidth:200,sortable:!0,canDrag:!0,showHeader:!0,columnMenu:!0,showNumCol:!1,multiSelect:!1,showSumRow:!1,editable:!1,showTree:!1,autoExpand:!0,onBeforeRowSelected:function(){return!0},onRowSelected:function(){return!0},onBeforeRowUnSelected:function(){return!0},onRowUnSelected:function(){return!0},onBeforeAllRowSelected:function(){return!0},onAllRowSelected:function(){return!0},onBeforeAllRowUnSelected:function(){return!0},onAllRowUnSelected:function(){return!0},onBeforeRowEditConfirm:function(){return!0}},this.transDefault={ml_show_column:"显示/隐藏列",ml_clear_set:"清除设置",ml_no_rows:"无数据"},this.transMap=$.extend({},this.transDefault,b.transMap),this.options=$.extend({},this.defaults,b),this.gridCompColumnArr=new Array,this.gridCompColumnFixedArr=new Array,this.basicGridCompColumnArr=new Array,this.treeLeft=10,this.multiSelectWidth=40,this.numWidth=40,this.multiWidth=40,this.headerHeight=34,this.countContentHeight=!0,this.minColumnWidth=80,this.columnMenuWidth=160,this.scrollBarHeight=16,this.initGrid()};gridComp.prototype={initGrid:function(){var a=this;this.initOptions(),this.initVariable(),this.initWidthVariable(),this.initGridCompColumn(),this.initDataSource(),this.createDivs(),setInterval(function(){a.setIntervalFun.call(a)},100)},initOptions:function(){this.options.width=this.formatWidth(this.options.width),this.options.height=this.formatWidth(this.options.height),"100%"==this.options.height&&(this.countContentHeight=!1),this.leftW=0,this.options.showNumCol&&(this.leftW+=this.numWidth),this.options.multiSelect&&(this.leftW+=this.multiWidth),this.exceptContentHeight=0,this.options.showHeader&&(this.exceptContentHeight+=this.headerHeight);var a=window.location.href,b=a.indexOf("?");b>0&&(a=a.substring(0,b)),this.localStorageId=this.options.id+a},initVariable:function(){this.initDataSourceVariable(),this.mouseUpX="mouseUpX",this.mouseUpY="mouseUpY",this.mouseDownX="mouseDownX",this.mouseDownY="mouseDownY",this.mouseMoveX="mouseMoveX",this.mouseMoveY="mouseMoveY",this.scrollLeft=0,this.scrollTop=0,this.showType="",this.createGridFlag=!1,this.createFormFlag=!1,this.columnClickX=0,this.columnClickY=0,this.$sd_storageData=null,this.columnMenuMove=!1,this.createColumnMenuFlage=!1,this.firstColumn=!0},initDataSourceVariable:function(){this.selectRows=new Array,this.selectRowsObj=new Array,this.selectRowsIndex=new Array,this.allRows=new Array,this.eidtRowIndex=-1},initWidthVariable:function(){this.fixedWidth=0,this.wholeWidth=0,this.wholeHeight=0,this.rowHeight=0,this.contentWidth=0,this.contentMinWidth=0,this.contentHeight=0},initGridCompColumn:function(){var a=this;this.options.columns&&$.each(this.options.columns,function(b){var c=new gridCompColumn(this,a.options);a.gridCompColumnArr[b]=c;var d=new gridCompColumn(this,a.options);a.basicGridCompColumnArr[b]=d});var b=this.getGridCompColumnArrFromLocal();null!=b&&(this.gridCompColumnArr=b,$.each(this.gridCompColumnArr,function(){for(var b=this.options.field,c=0;c<a.options.columns.length;c++){var d=a.options.columns[c];if(d.field==b){var e=$.extend({},d,this.options);this.options=e;break}}})),this.initGridCompFixedColumn(),this.columnsVisibleFun()},initGridCompFixedColumn:function(){var a=this,b=0;$.each(this.gridCompColumnArr,function(){1==this.options.fixed&&this.options.visible&&(this.firstCoulmn=a.firstColumn,a.firstColumn=!1,a.gridCompColumnFixedArr.push(this),b+=parseInt(this.options.width))}),this.fixedWidth=b,$.each(this.gridCompColumnFixedArr,function(b){for(var b=a.gridCompColumnArr.length;b>-1;b--)if(a.gridCompColumnArr[b]==this){a.gridCompColumnArr.splice(b,1);break}})},initDataSource:function(){this.dataSourceObj=new dataSource(this.options.dataSource,this)},createDivs:function(){var a='<div id="'+this.options.id+'" data-role="grid" class="ufida-grid" style="width:'+this.options.width+";height:"+this.options.height+'">';a+="</div>",this.ele.insertAdjacentHTML("afterBegin",a);var a='<div id="'+this.options.id+'_top" class="ufida-grid-top"></div>';this.ele.insertAdjacentHTML("afterBegin",a),this.initEventFun(),this.widthChangeFunc()},repaintDivs:function(){this.repaintGridDivs()},createGridDivs:function(){if(!this.createGridFlag){var a='<div id="'+this.options.id+'_grid" class="ufida-grid-grid">';this.options.showHeader&&(a+=this.createColumnMenu(),a+=this.createHeader()),a+=this.createContent(),this.options.editable&&(a+=this.createContentEditMenu()),a+="</div>",$("#"+this.options.id)[0]&&$("#"+this.options.id)[0].insertAdjacentHTML("afterBegin",a),this.headerFirstClassFun(),this.initGridEventFun(),this.afterGridDivsCreate(),this.createGridFlag=!0}},repaintGridDivs:function(){$("#"+this.options.id+"_grid").remove(),this.createGridFlag=!1,this.createGridDivs(),this.countWidth(),$("#"+this.options.id+"_content_div")[0]&&($("#"+this.options.id+"_content_div")[0].scrollLeft=this.scrollLeft),$("#"+this.options.id+"_content_edit_menu").css("display","none")},createColumnMenu:function(){var a='<div class="ufida-grid-column-menu" id="'+this.options.id+'_column_menu">';return a+='<ul data-role="menu" role="menubar" class="ufida-grid-column-menu-ul" id="'+this.options.id+'_column_menu_ul">',a+='<li class="ufida-grid-column-menu-li" role="menuitem">',a+='<div class="ufida-grid-column-menu-div1" id="'+this.options.id+'_showColumn">',a+='<span class="ufida-grid-column-menu-span">'+this.transMap.ml_show_column+"</span>",a+='<div class="ufida-grid-column-menu-div3 fa fa-caret-right"></div>',a+="</div></li>",a+='<li class="ufida-grid-column-menu-li" role="menuitem">',a+='<div class="ufida-grid-column-menu-div1" id="'+this.options.id+'_clearSet">',a+='<span class="ufida-grid-column-menu-span">'+this.transMap.ml_clear_set+"</span>",a+="</div></li>",a+="</ul></div>",a+='<div class="ufida-grid-column-menu" id="'+this.options.id+'_column_menu_columns">',a+='<ul data-role="menu" role="menubar" class="ufida-grid-column-menu-columns-ul" id="'+this.options.id+'_column_menu_columns_ul">',$.each(this.gridCompColumnArr,function(b){a+='<li class="ufida-grid-column-menu-columns-li" role="menuitem" index="'+b+'">',a+='<div class="ufida-grid-column-menu-columns-div1">';var c="";this.options.visible&&(c="checked"),a+='<div class="ufida-grid-column-menu-columns-div2"><input type="checkbox" '+c+"></div>",a+='<span class="ufida-grid-column-menu-columns-span">'+this.options.title+"</span>",a+="</div></li>"}),a+="</ul></div>"},createHeader:function(){var a='<div class="ufida-grid-header" id="'+this.options.id+'_header"><div class="ufida-grid-header-wrap" id="'+this.options.id+'_header_wrap" data-role="resizable">';return(this.options.multiSelect||this.options.showNumCol)&&(a+='<div id="'+this.options.id+'_header_left" class="ufida-grid-header-left" style="width:'+this.leftW+'px;">',this.options.multiSelect&&(a+='<div class="ufida-grid-header-multi-select" style="width:'+this.multiWidth+'px;"><input type="checkbox" id="'+this.options.id+'_header_multi_input"></div>'),this.options.showNumCol&&(a+='<div class="ufida-grid-header-num" style="width:'+this.numWidth+'px;"></div>'),a+="</div>"),a+=this.createHeaderTable("fixed"),a+=this.createHeaderTable(),a+="</div>",a+='<div class="ufida-grid-header-resize-handle" id="'+this.options.id+'_resize_handle"><div class="ufida-grid-header-resize-handle-inner"></div></div>',a+="</div>"
},createHeaderTable:function(a){var b,c,d;"fixed"==a?(b=parseInt(this.leftW),c="absolute;width:"+this.fixedWidth+"px;z-index:11;background:#F9F9F9;",d="fixed_"):(b=parseInt(this.leftW)+parseInt(this.fixedWidth),c="relative;",d="",this.contentMinWidth>0&&(c+="min-width:"+this.contentMinWidth+"px;"));var e='<table role="grid" id="'+this.options.id+"_header_"+d+'table" style="position:'+c+";left:"+b+'px">';return e+=this.createColgroup(a),e+='<thead role="rowgroup" id="'+this.options.id+"_header_"+d+'thead">',e+=this.createThead(a),e+="</thead></table>"},createColgroup:function(a){var b,c=this,d="<colgroup>";return b="fixed"==a?this.gridCompColumnFixedArr:this.gridCompColumnArr,$.each(b,function(){d+="<col",this.options.width&&!this.options.autoExpand?d+=' style="width:'+c.formatWidth(this.options.width)+'"':this.options.autoExpand&&(d+=' style="min-width:'+c.formatWidth(c.minColumnWidth)+'"'),d+=">"}),d+="</colgroup>"},createThead:function(a){var b,c=this,d='<tr role="row">',e=0;return b="fixed"==a?this.gridCompColumnFixedArr:this.gridCompColumnArr,$.each(b,function(b){var f=e;0==this.options.visible?f=-1:e++,d+='<th role="columnheader" data-filed="'+this.options.field+'" rowspan="1" class="ufida-grid-header-th" field="'+this.options.field+'" index="'+b+'" visibleIndex="'+f+'">',d+='<div class="ufida-grid-header-link" field="'+this.options.field+'" title="'+this.options.title+'">'+this.options.title+"</div>",c.options.columnMenu&&"fixed"!=a&&(d+='<div class="ufida-grid-header-columnmenu fa fa-bars " field="'+this.options.field+'"></div>'),d+="</th>"}),d+="</tr>"},createContent:function(){var a="";if(this.countContentHeight){var b=$("#"+this.options.id)[0].offsetHeight;this.wholeHeight=b,b>0&&(this.contentHeight=parseInt(b)-this.exceptContentHeight>0?parseInt(b)-this.exceptContentHeight:0,a='style="max-height:'+this.contentHeight+'px;"')}var c='<div id="'+this.options.id+'_content" class="ufida-grid-content" '+a+">";return(this.options.showNumCol||this.options.multiSelect)&&(c+=this.createContentLeft(),this.options.showSumRow&&(c+='<div class="ufida-grid-content-left-sum-bottom" id="'+this.options.id+'_content_left_sum_bottom" style="width:'+(this.leftW+this.fixedWidth)+'px">',c+="</div>"),c+='<div class="ufida-grid-content-left-bottom" id="'+this.options.id+'_content_left_bottom" style="width:'+(this.leftW+this.fixedWidth)+'px">',c+="</div>"),c+=this.createContentTable("fixed"),c+=this.createContentTable(),c+="</div>"},createNoRowsDiv:function(){var a="";this.contentMinWidth>0&&(a+='stype="width:'+this.contentMinWidth+'px;"');var b='<div class="ufida-grid-noRowsDiv"'+a+' id="'+this.options.id+'_noRows"></div>';return b+='<div class="ufida-grid-noRowsShowDiv" id="'+this.options.id+'_noRowsShow">'+this.transDefault.ml_no_rows+"</div>"},createContentTable:function(a){var b,c,d,e,f,g;e=this.countContentHeight?"max-height:"+this.contentHeight+"px;":"","fixed"==a?(b=parseInt(this.leftW),c="fixed_",f="fixed-",d='style="position:absolute;width:'+this.fixedWidth+"px;left:"+b+"px;"+e+'"',g='style="width:'+this.fixedWidth+'px;"'):(b=parseInt(this.leftW)+parseInt(this.fixedWidth),c="",f="",d='style="position:relative;left:'+b+"px;"+e,this.contentMinWidth>0&&(d+="width:"+this.contentMinWidth+'px;"'),d+='"',g="",this.contentMinWidth>0&&(g='style="min-width:'+this.contentMinWidth+'px;"'));var h='<div id="'+this.options.id+"_content_"+c+'div" class="ufida-grid-content-'+f+'div" '+d+">";return h+='<table role="grid" id="'+this.options.id+"_content_"+c+'table" '+g+">",h+=this.createColgroup(a),h+='<thead role="rowgroup" id="'+this.options.id+"_content_"+c+'thead" style="display:none">',h+=this.createThead(a),h+="</thead>",h+=this.createContentRows(a),h+="</table>","fixed"!=a&&(h+=this.createNoRowsDiv()),h+="</div>"},createContentLeft:function(){var a=this,b="",c=0;return this.options.multiSelect&&(b+='<div class="ufida-grid-content-left" id="'+this.options.id+'_content_multiSelect" style="width:'+this.multiSelectWidth+'px;">',this.dataSourceObj.rows&&$.each(this.dataSourceObj.rows,function(){b+=a.createContentLeftMultiSelectRow(this)}),b+="</div>",c+=this.multiSelectWidth),this.options.showNumCol&&(b+='<div class="ufida-grid-content-left" id="'+this.options.id+'_content_numCol" style="width:'+this.numWidth+"px;left:"+c+'px;">',this.dataSourceObj.rows&&$.each(this.dataSourceObj.rows,function(c){b+=a.createContentLeftNumColRow(c)}),b+="</div>"),b},createContentLeftMultiSelectRow:function(a){var b="";!this.options.autoExpand&&a.level>0&&(b="display:none;");var c='<div style="width:'+this.multiSelectWidth+"px;"+b+'" class="ufida-grid-content-multiSelect"><input type="checkbox"></div>';return c},createContentLeftNumColRow:function(a){var b='<div style="width:'+this.numWidth+'px;" class="ufida-grid-content-num">'+(a+1)+"</div>";return b},createContentRows:function(a){var b,c=this,d="";return b="fixed"==a?"fixed_":"",this.dataSourceObj.rows&&(d+='<tbody role="rowgroup" id="'+this.options.id+"_content_"+b+'tbody">',$.each(this.dataSourceObj.rows,function(){d+=c.createContentOneRow(this,a)}),c.options.showSumRow&&this.dataSourceObj.rows&&this.dataSourceObj.rows.length>0&&(d+=c.createSumRow(a)),d+="</tbody>"),d},createContentOneRow:function(a,b){var c="";!this.options.autoExpand&&a.level>0&&(c='style="display:none"');var d='<tr role="row" '+c+">";return d+=this.createContentOneRowTd(a,b),d+="</tr>"},createContentOneRowForIE:function(a,b,c,d){var e=a.insertRow(b+1);e.role="row",this.createContentOneRowTdForIE(e,c,d)},repaintRow:function(a,b,c){var d=$(a),e=$("tr",d.parent()).index(d);a.innerHTML=this.createContentOneRowTd(b,c),this.renderTypeFun(e)},createContentOneRowTd:function(a,b){var c,d=this,e="";c="fixed"==b?this.gridCompColumnFixedArr:this.gridCompColumnArr;var f=a.value;return $.each(c,function(){var b=this.options.field,c=$(f).attr(b);c=d.getString(c,"");var g=(this.options.renderType,""),h="";if(d.options.showTree&&this.firstColumn){var i=parseInt(d.treeLeft)*parseInt(a.level);g='style="position:relative;',a.hasChild?h=d.options.autoExpand?'<span class=" fa fa-minus-square-o ufida-grid-content-tree-span"></span>':'<span class=" fa fa-plus-square-o ufida-grid-content-tree-span"></span>':i+=18,g+="left:"+i+'px;"'}e+='<td role="rowcell" title="'+c+'"><div class="ufida-grid-content-td-div" '+g+">"+h+"<span>"+c+"</span></div></td>"}),e},createContentOneRowTdForIE:function(a,b,c){var d,e=this;d="fixed"==c?this.gridCompColumnFixedArr:this.gridCompColumnArr;var f=b.value;$.each(d,function(){var c=this.options.field,d=$(f).attr(c);d=e.getString(d,"");var g=(this.options.renderType,""),h="",i="",j=a.insertCell();if(j.row="rowcell",j.title=d,e.options.showTree&&this.firstColumn){var k=parseInt(e.treeLeft)*parseInt(b.level);g='style="position:relative;',b.hasChild?h=e.options.autoExpand?'<span class=" fa fa-minus-square-o ufida-grid-content-tree-span"></span>':'<span class=" fa fa-plus-square-o ufida-grid-content-tree-span"></span>':k+=18,g+="left:"+k+'px;"'}i+='<div class="ufida-grid-content-td-div" '+g+">"+h+"<span>"+d+"</span></div>",j.insertAdjacentHTML("afterBegin",i)})},createSumRow:function(a){var b,c,d=this;"fixed"==a?(b="fixed_",c=this.gridCompColumnFixedArr):(b="",c=this.gridCompColumnArr);var e=parseInt(this.wholeHeight)-this.exceptContentHeight-48-this.scrollBarHeight;e=e>0?e:0;var f='<tr role="row" class="ufida-grid-content-sum-row" id="'+this.options.id+"_content_"+b+'sum_row" style="top:'+e+'px;">';return $.each(c,function(){var a=this.options.field,b=d.dataSourceObj.getSumValue(a,this,d);f+='<td role="rowcell" title="'+b+'"><div class="ufida-grid-content-td-div"><span>'+b+"</span></div></td>"}),f+="</tr>"},createSumRowForIE:function(a,b){var c,d,e=this;"fixed"==b?(c="fixed_",d=this.gridCompColumnFixedArr):(c="",d=this.gridCompColumnArr);var f=parseInt(this.wholeHeight)-this.exceptContentHeight-48-this.scrollBarHeight;f=f>0?f:0;var g=a.insertRow();g.row="row",g.className="ufida-grid-content-sum-row",g.id=this.options.id+"_content_"+c+"sum_row",g.style.top=f+"px",$.each(d,function(){var a=this.options.field,b=e.dataSourceObj.getSumValue(a,this,e),c=g.insertCell();c.role="rowcell",c.title=b;var d='<div class="ufida-grid-content-td-div"><span>'+b+"</span></div>";c.insertAdjacentHTML("afterBegin",d)})},repairSumRow:function(){$("#"+this.options.id+"_content_div tbody .ufida-grid-content-sum-row").remove(),$("#"+this.options.id+"_content_fixed_div tbody .ufida-grid-content-sum-row").remove();try{if(this.dataSourceObj.rows&&this.dataSourceObj.rows.length>0){var a=this.createSumRow();$("#"+this.options.id+"_content_div tbody")[0].insertAdjacentHTML("beforeEnd",a);var a=this.createSumRow("fixed");$("#"+this.options.id+"_content_fixed_div tbody")[0].insertAdjacentHTML("beforeEnd",a)}}catch(b){{var c=$("#"+this.options.id+"_content_div table")[0];$("#"+this.options.id+"_content_fixed_div table")[0]}this.createSumRowForIE(c),this.createSumRowForIE(c,"fixed")}},repairContent:function(){var a=$("#"+this.options.id+"_content").parent();if($("#"+this.options.id+"_content").remove(),a[0]){var b=this.createContent();a[0].insertAdjacentHTML("beforeEnd",b),this.initContentDivEventFun(),$("#"+this.options.id+"_content_div")[0]&&($("#"+this.options.id+"_content_div")[0].scrollLeft=this.scrollLeft),$("#"+this.options.id+"_content_edit_menu").css("display","none")}},rePairContentRows:function(){var a=$("#"+this.options.id+"_content_div").parent();$("#"+this.options.id+"_content_div").remove();var b=this.createContentTable();a[0]&&(a[0].insertAdjacentHTML("beforeEnd",b),this.initContentDivEventFun(),$("#"+this.options.id+"_content_div")[0]&&($("#"+this.options.id+"_content_div")[0].scrollLeft=this.scrollLeft),$("#"+this.options.id+"_content_edit_menu").css("display","none"))},createContentEditMenu:function(){var a='<div class="ufida-grid-content-edit-menu" id="'+this.options.id+'_content_edit_menu">';return a+='<button type="button" class="ufida-grid-content-edit-menu-button fa fa-check" id="'+this.options.id+'_content_edit_menu_ok">Ok</button>',a+='<button type="button" class="ufida-grid-content-edit-menu-button fa fa-times" id="'+this.options.id+'_content_edit_menu_cancel">Cancel</button>',a+="</div>"},createFromDivs:function(){if(!this.createFormFlag){var a='<div id="'+this.options.id+'_form" class="ufida-grid-form">';a+=this.createFromContent(),$("#"+this.options.id)[0].insertAdjacentHTML("afterBegin",a),this.createFormFlag=!0}},createFromContent:function(){var a='<div class="ufida-grid-form-content" id="'+this.options.id+'_form_content" class="ufida-grid-content">';return a+='<table role="grid" id="'+this.options.id+'_form_content_table">',a+=this.createFormContentRows(),a+="</table>"},createFormContentRows:function(){var a=this,b="";return this.dataSourceObj.rows&&(b+='<tbody role="rowgroup" id="'+this.options.id+'_form_content_tbody">',$.each(this.dataSourceObj.rows,function(){b+='<tr role="row"><td role="rowcell">';var c=this.value;$.each(a.gridCompColumnArr,function(){var a=this.options.field,d=this.options.title,e=$(c).attr(a);b+="<div>"+d+":</div>",b+="<div>"+e+"</div>"}),b+="</td></tr>"}),b+="</tbody>"),b},initEventFun:function(){var a=this;$("#"+this.options.id).on("mousedown",function(b){if($(b.target).closest("#"+a.options.id+"_header").length>0){a.mouseDownX=b.clientX,a.mouseDownY=b.clientY;var c=$(b.target).closest("th")[0];a.swapColumnStart(b,c),b.preventDefault()}else $(b.target).closest("#"+a.options.id+"_content").length>0}),$("#"+this.options.id).on("mousemove",function(b){if(a.countWidthFlag||(a.countWidth(b),a.countWidthFlag=!0),$(b.target).closest("#"+a.options.id+"_header").length>0){var c=$(b.target).closest("th")[0];a.headerThDrag(b,c)}a.mouseMoveX=b.clientX,a.mouseMoveY=b.clientY,a.mouseMoveX==a.mouseDownX&&a.mouseDownY==a.mouseMoveY||"mouseDownX"==a.mouseDownX||(a.swapColumnFlag=!0),a.dragFun(b),a.swapColumnFun(b),b.stopPropagation()}),$("#"+this.options.id+"_top").on("mousemove",function(b){a.mouseMoveX=b.clientX,a.mouseMoveY=b.clientY,a.mouseMoveX==a.mouseDownX&&a.mouseDownY==a.mouseMoveY||"mouseDownX"==a.mouseDownX||(a.swapColumnFlag=!0),a.dragFun(b),a.swapColumnFun(b),b.stopPropagation()}),$("#"+this.options.id).on("mouseup",function(b){if($(b.target).closest("#"+a.options.id+"_header").length>0){if(a.mouseUpX=b.clientX,a.mouseUpY=b.clientY,a.mouseDownX==a.mouseUpX&&a.mouseDownY==a.mouseUpY){a.columnClickX=b.clientX,a.columnClickY=b.clientY;var c=$(b.target).closest("th")[0];if($(b.target).hasClass("ufida-grid-header-columnmenu")){$("#"+a.options.id+"_column_menu").css("display","block");var d=c.attrRightTotalWidth-a.scrollLeft+a.leftW+a.fixedWidth-20;d+a.columnMenuWidth>a.wholeWidth&&(d=c.attrRightTotalWidth-a.scrollLeft+a.leftW+a.fixedWidth-a.columnMenuWidth+1),$("#"+a.options.id+"_column_menu").css("left",d),$("#"+a.options.id+"_column_menu").css("top",a.headerHeight),a.ele.createColumnMenuFlage=!0}else a.canSortable(b,c)}}else $(b.target).closest("#"+a.options.id+"_content").length>0;a.dragEnd(b),a.swapColumnEnd(b),a.mouseUpX="mouseUpX",a.mouseUpY="mouseUpY",a.mouseDownX="mouseDownX",a.mouseDownY="mouseDownY",a.mouseMoveX="mouseMoveX",a.mouseMoveY="mouseMoveY"}),$("#"+this.options.id+"_top").on("mouseup",function(b){a.dragEnd(b),a.swapColumnEnd(b),a.mouseUpX="mouseUpX",a.mouseUpY="mouseUpY",a.mouseDownX="mouseDownX",a.mouseDownY="mouseDownY",a.mouseMoveX="mouseMoveX",a.mouseMoveY="mouseMoveY"}),$(document).on("click",function(){0==a.columnMenuMove&&0==a.ele.createColumnMenuFlage&&$("#"+a.options.id+"_column_menu",a.$ele).css("display","none"),a.ele.createColumnMenuFlage=!1})},initGridEventFun:function(){var a=this;$("#"+this.options.id+"_resize_handle").on("mousedown",function(b){return a.dragStart(b),!1}),this.initContentDivEventFun(),$("#"+this.options.id+"_header_multi_input").on("click",function(){this.checked?a.setAllRowSelect():a.setAllRowUnSelect()}),$("#"+this.options.id+"_column_menu_ul").on("mousemove",function(){a.columnMenuMove=!0}),$("#"+this.options.id+"_column_menu_ul").on("mouseout",function(){a.columnMenuMove=!1}),$("#"+this.options.id+"_showColumn").on("mousemove",function(){a.hideMenuColumns&&clearTimeout(a.hideMenuColumns);var b=window.top.document.body.clientWidth;$("#"+a.options.id+"_column_menu_columns").css("display","block");var c=$("#"+a.options.id+"_column_menu").css("left"),d=parseInt(c)+a.columnMenuWidth,e=a.columnClickX+a.columnMenuWidth;e>b&&(d=parseInt(c)-a.columnMenuWidth),$("#"+a.options.id+"_column_menu_columns").css("left",d),$("#"+a.options.id+"_column_menu_columns").css("top",a.headerHeight),a.columnMenuMove=!0}),$("#"+this.options.id+"_showColumn").on("mouseout",function(){a.hideMenuColumns=setTimeout(function(){$("#"+a.options.id+"_column_menu_columns").css("display","none"),a.columnMenuMove=!1},200)}),$("#"+this.options.id+"_column_menu_columns").on("mousemove",function(){a.hideMenuColumns&&clearTimeout(a.hideMenuColumns),$("#"+a.options.id+"_column_menu_columns").css("display","block"),a.columnMenuMove=!0}),$("#"+this.options.id+"_column_menu_columns").on("mouseout",function(){a.hideMenuColumns=setTimeout(function(){$("#"+a.options.id+"_column_menu_columns").css("display","none"),a.columnMenuMove=!1},200)}),$("#"+this.options.id+"_clearSet").on("click",function(){a.clearLocalData(),a.gridCompColumnArr=a.cloneObj(a.basicGridCompColumnArr),a.columnsVisibleFun(),a.dataSourceObj.sortRows(),a.repaintGridDivs(),"function"==typeof a.options.onClearSetFun&&a.options.onClearSetFun(a)}),$("#"+this.options.id+"_column_menu_columns_ul li input").on("click",function(b){var c=$(this).closest("li").attr("index");if(a.gridCompColumnArr[c].options.visible){$(this)[0].checked=!1;var d=$("input:checked",$("#"+a.options.id+"_column_menu_columns_ul")).length;if(0==d)return void($(this)[0].checked=!0);a.setColumnVisibleByIndex(c,!1),a.gridCompColumnArr[c].options.visible=!1}else $(this)[0].checked=!0,a.setColumnVisibleByIndex(c,!0),a.gridCompColumnArr[c].options.visible=!0;a.saveGridCompColumnArrToLocal(),b.stopPropagation()}),$("#"+this.options.id+"_column_menu_columns_ul li").on("click",function(){var b=$(this).attr("index");if(a.gridCompColumnArr[b].options.visible){$("input",$(this))[0].checked=!1;var c=$("input:checked",$("#"+a.options.id+"_column_menu_columns_ul")).length;if(0==c)return void($("input",$(this))[0].checked=!0);a.setColumnVisibleByIndex(b,!1),a.gridCompColumnArr[b].options.visible=!1}else $("input",$(this))[0].checked=!0,a.setColumnVisibleByIndex(b,!0),a.gridCompColumnArr[b].options.visible=!0;a.saveGridCompColumnArrToLocal()}),$("#"+this.options.id+"_content_edit_menu_ok").on("click",function(){a.editOk()}),$("#"+this.options.id+"_content_edit_menu_cancel").on("click",function(){a.editCancel()})},initContentDivEventFun:function(){var a=this;$("#"+a.options.id+"_content .ufida-grid-content-left").on("click",function(b){var c=$(b.target).closest("input");if(c.length>0){var d=$(c.parent()),e=$("div",d.parent()).index(d);c[0].checked?a.setRowSelect(e):a.setRowUnselect(e)}}),$("#"+this.options.id+"_content_div").on("scroll",function(){a.scrollLeft=this.scrollLeft,a.scrollTop=this.scrollTop,$("#"+a.options.id+"_header_table").css("left",a.leftW-a.scrollLeft+a.fixedWidth+"px"),$("#"+a.options.id+"_noRowsShow").css("left",a.scrollLeft+"px"),$("#"+a.options.id+"_content_multiSelect").css("top",-a.scrollTop+"px"),$("#"+a.options.id+"_content_numCol").css("top",-a.scrollTop+"px"),$("#"+a.options.id+"_content_fixed_div").css("top",-a.scrollTop+"px")}),$("#"+this.options.id+"_content_tbody").on("click",function(b){var c=$(b.target).closest("tr");if(c.length>0){var d=$("tr",c.parent()).index(c),e=a.dataSourceObj.rows[d];if(e){var f=e.childRowIndex;a.options.editable&&a.eidtRowIndex!=d&&(-1!=a.eidtRowIndex&&a.editOk(),a.editRow(c[0])),a.dataSourceObj.rows[d].checked?a.setRowUnselect(d):a.setRowSelect(d)}}var g=$(b.target).closest("td");if(g.length>0){var c=g.parent(),d=$("tr",c.parent()).index(c),e=a.dataSourceObj.rows[d];if(e){var f=e.childRowIndex,h=g.find(".fa-minus-square-o"),i=g.find(".fa-plus-square-o");if(h.length>0){if(h.removeClass("fa-minus-square-o").addClass("fa-plus-square-o"),f.length>0){var j=a.getAllChildRowIndex(e);$.each(j,function(){var b=$("tr:eq("+parseInt(this)+")",c.parent());b.css("display","none"),$("#"+a.options.id+"_content_multiSelect >div:nth-child("+(parseInt(this)+1)+")").css("display","none"),$(".fa-minus-square-o",b).removeClass("fa-minus-square-o").addClass("fa-plus-square-o")})}}else i.length>0&&(i.removeClass("fa-plus-square-o").addClass("fa-minus-square-o"),f.length>0&&$.each(f,function(){var b=$("tr:eq("+parseInt(this)+")",c.parent());b.css("display","");$("#"+a.options.id+"_content_multiSelect >div:nth-child("+(parseInt(this)+1)+")")[0];$("#"+a.options.id+"_content_multiSelect >div:nth-child("+(parseInt(this)+1)+")").css("display","")}))}}})},setIntervalFun:function(){this.widthChangeFunc(),this.changeHeightFun()},afterGridDivsCreate:function(){this.columnsVisibleFun(),this.countRowHeight(),this.renderTypeFun(),this.noRowsShowFun()},noRowsShowFun:function(){this.dataSourceObj.rows&&this.dataSourceObj.rows.length>0?($("#"+this.options.id+"_noRowsShow").css("display","none"),$("#"+this.options.id+"_noRows").css("display","none")):($("#"+this.options.id+"_noRowsShow").css("display","block"),$("#"+this.options.id+"_noRows").css("display","block"))},renderTypeFun:function(a,b){var c=this,a=parseInt(a),b=parseInt(b),d=a;b>0&&(d=parseInt(a+b-1)),$.each(this.gridCompColumnArr,function(d){c.renderTypeByColumn(this,d,a,b)})},renderTypeByColumn:function(a,b,c,d){var e=this,f=a.options.renderType,g=a.options.dataType,h=a.options.format,i=a.options.field,j=c;d>0&&(j=parseInt(c+d-1)),("function"==typeof f||"Date"==g||"DateTime"==g)&&$.each(e.dataSourceObj.rows,function(d){if(c>=0&&d>=c&&j>=d||isNaN(c)){var k=$("#"+e.options.id+"_content_tbody tr:eq("+d+") td:eq("+b+")")[0];if(k){var l=$("#"+e.options.id+"_content_tbody tr:eq("+d+") td:eq("+b+") span:last-child")[0],m=$(this.value).attr(i);if(m=e.getString(m,""),"function"==typeof f)f.call(e,m,l,this,a);else if("Date"==g){var n=new Date(m);parseInt(n.valueOf())>0&&(m=n.format(h)),l.innerHTML=m,k.title=m}else if("DateTime"==g){var n=new Date(m);parseInt(n.valueOf())>0&&(m=n.format(h)),l.innerHTML=m,k.title=m}else l.innerHTML=m,k.title=m}}})},countRowHeight:function(){$("#"+this.options.id+"_content_tbody tr")[0]&&(this.rowHeight=$("#"+this.options.id+"_content_tbody tr")[0].offsetHeight)},columnsVisibleFun:function(){var a=this,b=0;this.gridCompColumnFixedArr.length>0||(this.firstColumn=!0),$.each(this.gridCompColumnArr,function(){0==this.options.visible?(a.setColumnVisibleByColumn(this,!1),this.firstColumn=!1):(b+=parseInt(this.options.width),this.firstColumn=a.firstColumn,a.firstColumn=!1)}),this.contentWidth=b,$("#"+this.options.id+"_header_table").css("width",b+"px"),$("#"+this.options.id+"_content_table").css("width",b+"px"),b>this.contentMinWidth?$("#"+this.options.id+"_content_left_bottom").css("display","block"):$("#"+this.options.id+"_content_left_bottom").css("display","none"),$("#"+this.options.id+"_noRows").css("width",b+"px")},setColumnVisibleByColumn:function(a){var b=this.getIndexOfColumn(a);this.setColumnVisibleByIndex(b)},setColumnVisibleByIndex:function(a,b){if(a>=0){var c=this.gridCompColumnArr[a],d=this.getVisibleIndexOfColumn(c);if(b){var e="<col";this.gridCompColumnArr[a].options.width&&(e+=' style="width:'+this.formatWidth(this.gridCompColumnArr[a].options.width)+'"'),e+=">";var f=this.getNextVisibleInidexOfColumn(c);if(-1==f)try{$("#"+this.options.id+"_header col:last")[0].insertAdjacentHTML("afterEnd",e),$("#"+this.options.id+"_content col:last")[0].insertAdjacentHTML("afterEnd",e)}catch(g){$("#"+this.options.id+"_header col:last").after(e),$("#"+this.options.id+"_content col:last").after(e)}else try{$("#"+this.options.id+"_header col:eq("+f+")")[0].insertAdjacentHTML("beforeBegin",e),$("#"+this.options.id+"_content col:eq("+f+")")[0].insertAdjacentHTML("beforeBegin",e)}catch(g){$("#"+this.options.id+"_header col:eq("+f+")").before(e),$("#"+this.options.id+"_content col:eq("+f+")").before(e)}$("#"+this.options.id+"_header th:eq("+a+")").css("display",""),$("td:eq("+a+")",$("#"+this.options.id+"_content tbody tr")).css("display","")}else $("#"+this.options.id+"_header col:eq("+d+")").remove(),$("#"+this.options.id+"_header th:eq("+a+")").css("display","none"),$("#"+this.options.id+"_content col:eq("+d+")").remove(),$("td:eq("+a+")",$("#"+this.options.id+"_content tbody tr")).css("display","none");this.countWidth(),this.saveGridCompColumnArrToLocal()}},getIndexOfColumn:function(a){for(var b=-1,c=0;c<this.gridCompColumnArr.length;c++)if(this.gridCompColumnArr[c]==a){b=c;break}return b},getVisibleIndexOfColumn:function(a){for(var b=-1,c=0,d=0;d<this.gridCompColumnArr.length;d++){if(this.gridCompColumnArr[d]==a){"none"!=$("#"+this.options.id+"_header th:eq("+d+")").css("display")&&(b=c);break}"none"!=$("#"+this.options.id+"_header th:eq("+d+")").css("display")&&c++}return b},getNextVisibleInidexOfColumn:function(a){for(var b=-1,c=!1,d=0,e=0;e<this.gridCompColumnArr.length;e++){if(this.gridCompColumnArr[e]==a&&(c=!0),1==c&&"none"!=$("#"+this.options.id+"_header th:eq("+e+")").css("display")){b=d;break}"none"!=$("#"+this.options.id+"_header th:eq("+e+")").css("display")&&d++}return b},dragStart:function(a){this.dragFlag=!0,this.dragStartX=a.clientX},dragFun:function(a){if(this.dragFlag){var b=$("#"+this.options.id+"_resize_handle")[0].nowTh,c=$(b),d=c.attr("visibleIndex");if(b){this.dragEndX=a.clientX;var e=this.dragEndX-this.dragStartX,f=b.attrWidth+e;cWidth=this.contentWidth+e,f>this.minColumnWidth&&(cWidth<this.contentMinWidth&&(cWidth=this.contentMinWidth),$("#"+this.options.id+"_header_table").css("width",cWidth+"px"),$("#"+this.options.id+"_content_table").css("width",cWidth+"px"),cWidth>this.contentMinWidth?$("#"+this.options.id+"_content_left_bottom").css("display","block"):$("#"+this.options.id+"_content_left_bottom").css("display","none"),$("#"+this.options.id+"_noRows").css("width",cWidth+"px"),$("#"+this.options.id+"_header_table col:eq("+d+")").css("width",f+"px"),$("#"+this.options.id+"_content_table col:eq("+d+")").css("width",f+"px"),this.gridCompColumnArr[d].options.width=f,this.gridCompColumnArr[d].options.autoExpand=!1)}$("#"+this.options.id+"_top").css("display","block")}},dragEnd:function(){this.dragFlag&&(this.countWidth(),this.saveGridCompColumnArrToLocal()),$("#"+this.options.id+"_resize_handle")[0].nowTh=null,this.dragFlag=!1,$("#"+this.options.id+"_top").css("display","none")},swapColumnStart:function(a,b){this.swapColumnEle=b,this.swapColumnStartX=a.clientX,this.swapColumnStartY=a.clientY},swapColumnFun:function(a){var b=this;if(this.swapColumnFlag){var c=this.swapColumnEle,d=$(c),e=c.gridCompColumn;if(0==$("#"+this.options.id+"_clue").length){var f=$('<div class="ufida-grid ufida-grid-header-drag-clue" id="'+this.options.id+'_clue" />').css({width:c.scrollWidth+"px",left:c.attrLeftTotalWidth-b.scrollLeft+b.leftW+b.fixedWidth+"px",top:"0px",paddingLeft:d.css("paddingLeft"),paddingRight:d.css("paddingRight"),lineHeight:d.height()+"px",paddingTop:d.css("paddingTop"),paddingBottom:d.css("paddingBottom")}).html(e.options.title||e.options.field).prepend('<span class="fa fa-ban ufida-grid-header-drag-status" />');$("#"+this.options.id)[0].insertAdjacentElement("afterBegin",f[0]),f.on("mousemove",function(){a.stopPropagation()})}this.swapColumnEndX=a.clientX,this.swapColumnEndY=a.clientY;var g=this.swapColumnEndX-this.swapColumnStartX,h=this.swapColumnEndY-this.swapColumnStartY;if($("#"+this.options.id+"_clue").css({left:c.attrLeftTotalWidth+g-b.scrollLeft+b.leftW+b.fixedWidth+"px",top:h+"px"}),0==$("#"+this.options.id+"_swap_top").length){var f=$('<span class="fa fa-sort-desc ufida-grid-header-swap-tip-span"  id="'+this.options.id+'_swap_top"/>');f.css({top:d.height()-6+"px"});var i=$('<span class="fa fa-sort-asc ufida-grid-header-swap-tip-span" id="'+this.options.id+'_swap_down" />');i.css({top:"6px"}),$("#"+this.options.id)[0].insertAdjacentElement("afterBegin",f[0]),$("#"+this.options.id)[0].insertAdjacentElement("afterBegin",i[0])}this.canSwap=!1,$("#"+this.options.id+"_header_table th").each(function(c){var d=$(this).offset().left,e=d+parseInt(this.attrWidth);if(0==c&&a.clientX<d)b.swapColumnEle!=this&&(b.swapToColumnEle="LeftEle",$("#"+b.options.id+"_swap_top").css({left:-b.scrollLeft-3+b.leftW+b.fixedWidth+"px",display:"block"}),$("#"+b.options.id+"_swap_down").css({left:-b.scrollLeft-3+b.leftW+b.fixedWidth+"px",display:"block"})),b.canSwap=!0;else if(d<a.clientX&&a.clientX<e&&b.swapColumnEle!=this&&parseInt($(this).attr("index"))+1!=parseInt($(b.swapColumnEle).attr("index")))return b.swapToColumnEle!=this&&(b.swapToColumnEle=this,$("#"+b.options.id+"_swap_top").css({left:this.attrRightTotalWidth-b.scrollLeft-3+b.leftW+b.fixedWidth+"px",display:"block"}),$("#"+b.options.id+"_swap_down").css({left:this.attrRightTotalWidth-b.scrollLeft-3+b.leftW+b.fixedWidth+"px",display:"block"})),b.canSwap=!0,!1}),this.canSwap?$(".ufida-grid-header-drag-status").removeClass("fa-ban").addClass("fa-plus-circle"):($("#"+this.options.id+"_swap_top").css("display","none"),$("#"+this.options.id+"_swap_down").css("display","none"),$(".ufida-grid-header-drag-status").removeClass("fa-plus-circle").addClass("fa-ban"),this.swapToColumnEle=null),$("#"+this.options.id+"_top").css("display","block")}},swapColumnEnd:function(){if(this.swapColumnFlag){if(this.swapToColumnEle){var a=this.swapColumnEle,b=this.swapToColumnEle,c=$(a).attr("index"),d=$(b).attr("index"),e=this.gridCompColumnArr[c];this.gridCompColumnArr.splice(parseInt(d)+1,0,e),d>c?this.gridCompColumnArr.splice(c,1):this.gridCompColumnArr.splice(parseInt(c)+1,1),this.saveGridCompColumnArrToLocal(),this.repaintGridDivs()}$("#"+this.options.id+"_clue").remove(),$("#"+this.options.id+"_swap_top").css("display","none"),$("#"+this.options.id+"_swap_down").css("display","none")}this.swapColumnFlag=!1,$("#"+this.options.id+"_top").css("display","none")},canSortable:function(a,b){var c=this,d=$(b),e=d.attr("field"),f=this.getColumnAttr("sortable",e);f&&($(".fa-angle-up").parent().parent()[0]==b?($(".fa-angle-up").remove(),$(b.firstChild)[0].insertAdjacentHTML("beforeEnd",'<span class="fa fa-angle-down ufida-grid-header-sort-span" ></span>'),"function"==typeof this.options.onSortFun?this.options.onSortFun(e,"asc"):this.dataSourceObj.sortRows(e,"asc")):$(".fa-angle-down").parent().parent()[0]==b?($(".fa-angle-down").remove(),"function"==typeof this.options.onSortFun?this.options.onSortFun():this.dataSourceObj.sortRows()):($(".fa-angle-up").remove(),$(".fa-angle-down").remove(),$(b.firstChild)[0].insertAdjacentHTML("beforeEnd",'<span class="fa fa-angle-up ufida-grid-header-sort-span"></span>'),"function"==typeof this.options.onSortFun?this.options.onSortFun(e,"desc"):this.dataSourceObj.sortRows(e,"desc")),c.rePairContentRows(),c.afterGridDivsCreate())},headerThDrag:function(a,b){if(!this.dragFlag&&!this.swapColumnFlag&&b&&b.gridCompColumn&&b.gridCompColumn.options.canDrag&&$("#"+this.options.id+"_resize_handle")[0].nowTh!=b){{$(b)}$("#"+this.options.id+"_resize_handle").css("left",b.attrRightTotalWidth-this.scrollLeft-4+this.leftW+this.fixedWidth),$("#"+this.options.id+"_resize_handle")[0].nowTh=b}},editRow:function(a){var b=$(a),c=this,d=$("tr",b.parent()).index(b);this.eidtRowIndex=d;var e=this.dataSourceObj.rows[d].value;this.editRowObj=this.cloneObj(e),$.each(this.gridCompColumnArr,function(a){if(this.options.editable){var d=$("td:eq("+a+")",b)[0],f=this.options.field,g=$(e).attr(f);c.editCell(d,g,f,this.options.editType,c.editRowObj)}}),$("#"+this.options.id+"_content_edit_menu").css("display","block"),$("#"+this.options.id+"_content_edit_menu").css("left",this.leftW+this.fixedWidth+"px");var f=this.rowHeight*(d+1)+this.headerHeight+1;$("#"+this.options.id+"_content_edit_menu").css("top",f+"px")},editOk:function(){var a=$("#"+this.options.id+"_content_tbody tr:eq("+this.eidtRowIndex+")")[0],b=this.dataSourceObj.rows[this.eidtRowIndex];"function"==typeof this.options.onBeforeRowEditConfirm&&this.options.onBeforeRowEditConfirm.call(this,this.editRowObj,this.eidtRowIndex)&&(b.value=this.editRowObj,this.repaintRow(a,b),$("#"+this.options.id+"_content_edit_menu").css("display","none"),this.eidtRowIndex=-1)},editCancel:function(){var a=$("#"+this.options.id+"_content_tbody tr:eq("+this.eidtRowIndex+")")[0],b=this.dataSourceObj.rows[this.eidtRowIndex];this.repaintRow(a,b),$("#"+this.options.id+"_content_edit_menu").css("display","none"),this.eidtRowIndex=-1},editCell:function(a,b,c,d,e){"text"==d?(a.innerHTML='<input type="text" value="'+b+'" field="'+c+'" style="width:100%;height:100%;min-height:20px;font-size:12px;color:#444">',$("input",$(a)).on("blur",function(){$(e).attr(c,this.value)})):"function"==typeof d&&d.call(this,a,b,c,e)},headerFirstClassFun:function(){$("#"+this.options.id+"_grid .ufida-grid-header-th-first").removeClass("ufida-grid-header-th-first"),$("#"+this.options.id+"_grid th:eq(0)").addClass("ufida-grid-header-th-first")},countWidth:function(){var a=this;this.contentWidth=0,$("#"+this.options.id+"_header_table th").each(function(b){var c=this.offsetWidth;c>0&&c<a.minColumnWidth&&(c=a.minColumnWidth);var d=a.gridCompColumnArr[b];this.attrLeftTotalWidth=a.contentWidth,a.contentWidth+=c,!$("#"+a.options.id+"_resize_handle")[0].nowTh&&d.options.canDrag&&($("#"+a.options.id+"_resize_handle").css("left",c-4+a.leftW),$("#"+a.options.id+"_resize_handle")[0].nowTh=this),this.gridCompColumn=d,this.attrWidth=c,this.attrRightTotalWidth=a.contentWidth}),$("#"+this.options.id+"_header_table").css("width",this.contentWidth+"px"),$("#"+this.options.id+"_content_table").css("width",this.contentWidth+"px"),this.contentWidth>this.contentMinWidth?$("#"+this.options.id+"_content_left_bottom").css("display","block"):$("#"+this.options.id+"_content_left_bottom").css("display","none"),$("#"+this.options.id+"_noRows").css("width",this.contentWidth+"px")},widthChangeFunc:function(){var a=this;if($("#"+this.options.id)[0]){var b=$("#"+this.options.id)[0].offsetWidth;
if(this.wholeWidth!=b){this.wholeWidth=b;var c=parseInt(b/2);this.fixedWidth>c&&(this.fixedWidth=c),b>300&&("form"==this.showType||""==this.showType)?(this.createGridDivs(),$("#"+this.options.id+"_form").css("display","none"),$("#"+this.options.id+"_grid").css("display","block"),this.showType="grid"):b>0&&300>b&&("grid"==this.showType||""==this.showType)&&(this.createFromDivs(),$("#"+this.options.id+"_grid").css("display","none"),$("#"+this.options.id+"_form").css("display","block"),this.showType="form","function"==typeof this.options.afterCreate&&this.options.afterCreate.call(this)),b>300&&(this.contentMinWidth=parseInt(this.wholeWidth)-parseInt(this.leftW)-parseInt(this.fixedWidth),this.contentMinWidth<0&&(this.contentMinWidth=0),setTimeout(function(){$("#"+a.options.id+"_content_div").css("width",a.contentMinWidth+"px"),$("#"+a.options.id+"_content_table").css("min-width",a.contentMinWidth+"px"),$("#"+a.options.id+"_header_table").css("min-width",a.contentMinWidth+"px"),"function"==typeof a.options.afterCreate&&a.options.afterCreate.call(a)},100))}}},changeHeightFun:function(){if(this.countContentHeight){var a=this.wholeHeight,b=$("#"+this.options.id)[0].offsetHeight;if(this.wholeHeight=b,a!=b){var c=b-this.exceptContentHeight>0?b-this.exceptContentHeight:0;$("#"+this.options.id+"_content").css("height",c+"px"),$("#"+this.options.id+"_content_div").css("height",c+"px")}}},getLocalData:function(){if(null==window.localStorage)return null;if(null!=this.$sd_storageData)return this.$sd_storageData;if(null==window.localStorage.getItem(this.localStorageId))try{window.localStorage.setItem(this.localStorageId,"{}")}catch(e){return null}var storageDataStr=window.localStorage.getItem(this.localStorageId);return this.$sd_storageData="undefined"==typeof JSON?eval("("+storageDataStr+")"):JSON.parse(storageDataStr),this.$sd_storageData},saveLocalData:function(){var a=this;this.saveSettimeout&&clearTimeout(this.saveSettimeout),this.saveSettimeout=setTimeout(function(){if(null!=a.$sd_storageData&&null!=window.localStorage){var b=JSON.stringify(a.$sd_storageData);try{window.localStorage.setItem(a.localStorageId,b)}catch(c){}}},200)},clearLocalData:function(){this.saveSettimeout&&clearTimeout(this.saveSettimeout),window.localStorage.setItem(this.localStorageId,"{}"),this.$sd_storageData={}},saveGridCompColumnArrToLocal:function(){var a=this.getLocalData();a.gridCompColumnArr=this.gridCompColumnArr.concat(this.gridCompColumnFixedArr),this.saveLocalData()},getGridCompColumnArrFromLocal:function(){var a=this.getLocalData();return null==a?null:null==a.gridCompColumnArr?null:a.gridCompColumnArr},getColumnAttr:function(a,b){for(var c=0;c<this.gridCompColumnArr.length;c++)if(this.gridCompColumnArr[c].options.field==b)return $(this.gridCompColumnArr[c].options).attr(a);return""},getColumnByField:function(a){for(var b=0;b<this.gridCompColumnArr.length;b++)if(this.gridCompColumnArr[b].options.field==a)return this.gridCompColumnArr[b];return null},formatWidth:function(a){return(a+"").indexOf("%")>0?a:parseInt(a)+"px"},swapEle:function(a,b){var c=a.next(),d=b.prev();b.insertBefore(c),a.insertAfter(d)},getString:function(a,b){return(null==a||a==undefined||"null"==a||"undefined"==a)&&(a=b),a},cloneObj:function(a){var b;if("object"==typeof a)if(null===a)b=null;else if(a instanceof Array){b=[];for(var c=0,d=a.length;d>c;c++)b.push(this.cloneObj(a[c]))}else{b={};for(var e in a)b[e]=this.cloneObj(a[e])}else b=a;return b},setDataSource:function(a){this.initDataSourceVariable(),this.options.dataSource=a,this.initDataSource(),this.repairContent(),this.afterGridDivsCreate()},setDataSourceFun1:function(a){var b={};if(a.values){var c=new Array;$.each(a.values,function(){if(a.fields){var b={},d=this;$.each(a.fields,function(a){$(b).attr(this,d[a])}),c.push(b)}})}$(b).attr("values",c),this.setDataSource(b)},addOneRow:function(a,b){var c=this;if(this.showTree){var d=!1,e=this.options.keyField,f=this.options.parentKeyField,g=(this.getString($(a).attr(e),""),this.getString($(a).attr(f),""));$.each(this.dataSourceObj.rows,function(f){var h=this.value,i=c.getString($(h).attr(e),"");if(i==g){d=!0;var j=f,k=this.childRowIndex.length,l=this.level;if(a.level=l+1,k>0){var m=this.childRowIndex[k-1];b=m+1}else b=j+1}}),d||(a.level=0)}var h=this.dataSourceObj.rows.length;b&&b>0?b>h&&(b=h):b=h;var i={};i.value=a,this.dataSourceObj.rows.splice(b,0,i);try{var j=this.createContentOneRow(i);$("#"+this.options.id+"_content_div tbody tr:eq("+b+")")[0]?$("#"+this.options.id+"_content_div tbody tr:eq("+b+")")[0].insertAdjacentHTML("beforeBegin",j):$("#"+this.options.id+"_content_div tbody")[0].insertAdjacentHTML("afterBegin",j);var j=this.createContentOneRow(i,"fixed");$("#"+this.options.id+"_content_fixed_div tbody tr:eq("+b+")")[0]?$("#"+this.options.id+"_content_fixed_div tbody tr:eq("+b+")")[0].insertAdjacentHTML("beforeBegin",j):$("#"+this.options.id+"_content_fixed_div tbody")[0].insertAdjacentHTML("afterBegin",j)}catch(k){var l=$("#"+this.options.id+"_content_div table")[0];this.createContentOneRowForIE(l,b,i);var m=$("#"+this.options.id+"_content_fixed_div table")[0];this.createContentOneRowForIE(m,b,i,"fixed")}if(this.options.multiSelect){var j=this.createContentLeftMultiSelectRow(i);$("#"+this.options.id+"_content_multiSelect div:eq("+b+")")[0]?$("#"+this.options.id+"_content_multiSelect div:eq("+b+")")[0].insertAdjacentHTML("beforeBegin",j):$("#"+this.options.id+"_content_multiSelect")[0].insertAdjacentHTML("afterBegin",j)}if(this.options.showNumCol){var j=this.createContentLeftNumColRow(h);$("#"+this.options.id+"_content_numCol")[0].insertAdjacentHTML("beforeEnd",j)}this.repairSumRow(),this.noRowsShowFun(),this.renderTypeFun(b,1)},addRows:function(a,b){var c="",d="",e="",f="",g=this,h=this.dataSourceObj.rows.length;b?b>h&&(b=h):b=h;var i=new Array;$.each(a,function(a){var c={};c.value=this,i.push(c),g.dataSourceObj.rows.splice(b+a,0,c)}),$.each(i,function(a){c+=g.createContentOneRow(this),f+=g.createContentOneRow(this,"fixed"),g.options.multiSelect&&(d+=g.createContentLeftMultiSelectRow(this)),g.options.showNumCol&&(e+=g.createContentLeftNumColRow(h+a))});try{$("#"+this.options.id+"_content_div tbody tr:eq("+b+")")[0]?$("#"+this.options.id+"_content_div tbody tr:eq("+b+")")[0].insertAdjacentHTML("beforeBegin",c):$("#"+this.options.id+"_content_div tbody")[0].insertAdjacentHTML("afterBegin",c),$("#"+this.options.id+"_content_fixed_div tbody tr:eq("+b+")")[0]?$("#"+this.options.id+"_content_fixed_div tbody tr:eq("+b+")")[0].insertAdjacentHTML("beforeBegin",f):$("#"+this.options.id+"_content_fixed_div tbody")[0].insertAdjacentHTML("afterBegin",f)}catch(j){var k=$("#"+this.options.id+"_content_div table")[0],l=$("#"+this.options.id+"_content_fixed_div table")[0];$.each(i,function(a){g.createContentOneRowForIE(k,b+a,this),g.createContentOneRowForIE(l,b+a,this,"fixed")})}this.options.multiSelect&&($("#"+this.options.id+"_content_multiSelect div:eq("+b+")")[0]?$("#"+this.options.id+"_content_multiSelect div:eq("+b+")")[0].insertAdjacentHTML("beforeBegin",d):$("#"+this.options.id+"_content_multiSelect")[0].insertAdjacentHTML("afterBegin",d)),this.options.showNumCol&&$("#"+this.options.id+"_content_numCol")[0].insertAdjacentHTML("beforeEnd",e),this.repairSumRow(),this.noRowsShowFun(),this.renderTypeFun(b,a.length)},deleteOneRow:function(a){var b=this;a=parseInt(a);var c=this.dataSourceObj.rows[a],d=c.value;this.selectRows&&$.each(this.selectRows,function(a){this==d&&(b.selectRows.splice(a,1),b.selectRowsObj.splice(a,1),b.selectRowsIndex.splice(a,1))}),this.dataSourceObj.rows.splice(a,1),$("#"+this.options.id+"_content_div tbody tr:eq("+a+")").remove(),$("#"+this.options.id+"_content_fixed_div tbody tr:eq("+a+")").remove(),$("#"+this.options.id+"_content_multiSelect >div:eq("+a+")").remove(),$("#"+this.options.id+"_content_numCol >div:nth-child("+(this.dataSourceObj.rows.length+1)+")").remove(),this.repairSumRow(),this.noRowsShowFun()},deleteRows:function(a){var b=this;a.sort(function(a,b){return b-a}),$.each(a,function(){b.deleteOneRow(this)})},updateRow:function(a,b){this.deleteOneRow(a),this.addOneRow(a,b)},updateValueAt:function(a,b,c){$(this.dataSourceObj.rows[a].value).attr(b,c);var d=this.getColumnByField(b),e=this.getIndexOfColumn(d);this.renderTypeByColumn(d,e,a,1)},setRowSelect:function(a){this.dataSourceObj.rows[a]&&("function"!=typeof this.options.onBeforeRowSelected||this.options.onBeforeRowSelected(a,this.dataSourceObj.rows[a].value))&&(this.dataSourceObj.rows[a].checked||(this.options.multiSelect?$("#"+this.options.id+"_content_multiSelect input:eq("+a+")")[0].checked=!0:(this.selectRowsObj&&this.selectRowsObj.length>0&&$.each(this.selectRowsObj,function(){this.checked=!1}),this.selectRows=new Array,this.selectRowsObj=new Array,this.selectRowsIndex=new Array,$("#"+this.options.id+"_content_tbody tr").removeClass("ufida-grid-content-sel-row"),$("#"+this.options.id+"_content_tbody tr a").removeClass("ufida-grid-content-sel-row")),$("#"+this.options.id+"_content_tbody tr:eq("+a+")").addClass("ufida-grid-content-sel-row"),$("#"+this.options.id+"_content_tbody tr:eq("+a+") a").addClass("ufida-grid-content-sel-row"),this.selectRows.push(this.dataSourceObj.rows[a].value),this.selectRowsObj.push(this.dataSourceObj.rows[a]),this.selectRowsIndex.push(a),this.dataSourceObj.rows[a].checked=!0,"function"==typeof this.options.onRowSelected&&this.options.onRowSelected(a,this.dataSourceObj.rows[a].value)))},setRowUnselect:function(a){var b=this;this.dataSourceObj.rows[a]&&("function"!=typeof this.options.onBeforeRowUnSelected||this.options.onBeforeRowUnSelected(a,this.dataSourceObj.rows[a].value))&&this.dataSourceObj.rows[a].checked&&(this.options.multiSelect&&($("#"+this.options.id+"_content_multiSelect input:eq("+a+")")[0].checked=!1),$("#"+this.options.id+"_content_tbody tr:eq("+a+")").removeClass("ufida-grid-content-sel-row"),$("#"+this.options.id+"_content_tbody tr:eq("+a+") a").removeClass("ufida-grid-content-sel-row"),$.each(this.selectRows,function(c){this==b.dataSourceObj.rows[a].value&&(b.selectRows.splice(c,1),b.selectRowsObj.splice(c,1),b.selectRowsIndex.splice(c,1))}),this.dataSourceObj.rows[a].checked=!1,"function"==typeof this.options.onRowUnSelected&&this.options.onRowUnSelected(a,this.dataSourceObj.rows[a].value))},setAllRowSelect:function(){if("function"!=typeof this.options.onBeforeAllRowSelected||this.options.onBeforeAllRowSelected(this.dataSourceObj.rows)){for(var a=0;a<this.dataSourceObj.rows.length;a++)this.setRowSelect(a);"function"==typeof this.options.onAllRowSelected&&this.options.onAllRowSelected(this.dataSourceObj.rows)}},setAllRowUnSelect:function(){if("function"!=typeof this.options.onBeforeAllRowUnSelected||this.options.onBeforeAllRowUnSelected(this.dataSourceObj.rows)){for(var a=0;a<this.dataSourceObj.rows.length;a++)this.setRowUnselect(a);"function"==typeof this.options.onAllRowSelected&&this.options.onAllRowUnSelected(this.dataSourceObj.rows)}},getSelectRows:function(){return this.selectRows},getSelectRowsIndex:function(){return this.selectRowsIndex},getAllRows:function(){var a=this;return this.allRows=new Array,this.dataSourceObj.rows&&$.each(this.dataSourceObj.rows,function(){a.allRows.push(this.value)}),this.allRows},getRowByIndex:function(a){return this.dataSourceObj.rows[a]},getAllChildRow:function(a){return a.allChildRow&&a.allChildRow.length>0?a.allChildRow:(a.allChildRow=new Array,this.getAllChildRowFun(a,a.allChildRow),a.allChildRow)},getAllChildRowIndex:function(a){return a.allChildRowIndex&&a.allChildRowIndex.length>0?a.allChildRowIndex:(a.allChildRowIndex=new Array,this.getAllChildRowIndexFun(a,a.allChildRowIndex),a.allChildRowIndex)},getAllChildRowFun:function(a,b){var c=this;a.childRow.length>0&&(Array.prototype.push.apply(b,a.childRow),$.each(a.childRow,function(){c.getAllChildRowFun(this,b)}))},getAllChildRowIndexFun:function(a,b){var c=this;a.childRowIndex.length>0&&(Array.prototype.push.apply(b,a.childRowIndex),$.each(a.childRow,function(){c.getAllChildRowIndexFun(this,b)}))},setRenderType:function(a,b){var c=this.getColumnByField(a);c.options.renderType=b;var d=this.getIndexOfColumn(c);this.renderTypeByColumn(c,d)},setEditType:function(a,b){var c=this.getColumnByField(a);c.options.editType=b},setEditable:function(a){this.options.editable=a}},dataSource.prototype={sortRows:function(a,b){this.gridComp.options.showTree?this.treeSortRows(a,b):this.basicSortRows(a,b)},basicSortRows:function(a,b){var c=this;"asc"==b?this.rows.sort(function(b,d){var e=$(d.value).attr(a);e=c.gridComp.getString(e,"");var f=$(b.value).attr(a);f=c.gridComp.getString(f,"");try{return e.localeCompare(f)}catch(g){return 0}}):"desc"==b?this.rows.sort(function(b,d){var e=$(b.value).attr(a);e=c.gridComp.getString(e,"");var f=$(d.value).attr(a);f=c.gridComp.getString(f,"");try{return e.localeCompare(f)}catch(g){return 0}}):(this.rows=new Array,this.options.values&&$.each(this.options.values,function(){var a={};a.value=this,c.rows.push(a)}))},treeSortRows:function(){var a=this;if(this.rows=new Array,this.hasParentRows=new Array,this.nothasParentRows=new Array,this.options.values){$.each(this.options.values,function(){var b={},c=$(this),d=a.gridComp.options.keyField,e=a.gridComp.options.parentKeyField,f=a.gridComp.getString(c.attr(d),""),g=a.gridComp.getString(c.attr(e),"");b.value=this,b.keyValue=f,b.parentKeyValue=g,""==g?a.nothasParentRows.push(b):a.hasParentRows.push(b),a.rows.push(b)}),$.each(this.hasParentRows,function(b){var c=this.parentKeyValue,d=!1;$.each(a.rows,function(){this.keyValue==c&&(d=!0)}),d||(a.hasParentRows.splice(b,0),a.nothasParentRows.push(this))}),a.rows=new Array;var b=0;$.each(this.nothasParentRows,function(){this.level=b,a.rows.push(this),a.pushChildRows(this,b)})}},pushChildRows:function(a,b){var c=a.keyValue,d=this,e=parseInt(b)+1,f=!1,g=new Array,h=new Array;$.each(this.hasParentRows,function(a){if(this&&this.parentKeyValue==c){f=!0,this.level=e,d.rows.push(this),g.push(this);var b=parseInt(d.rows.length-1);h.push(b),d.hasParentRows.splice(a,0),d.pushChildRows(this,e)}}),a.hasChild=f,a.childRow=g,a.childRowIndex=h},getSumValue:function(a,b){var c=null;return b.options.sumCol&&$.each(this.rows,function(){var d=$(this.value).attr(a);c+="int"==b.options.dataType?parseInt(d):parseFloat(d)}),null!=c&&c!=undefined&&"null"!=c&&"undefined"!=c?c+"":""}},$.fn.grid=function(a){var b=$(this).data("gridComp");return b||$(this).data("gridComp",b=new gridComp(this,a)),b}}(jQuery,window,document),+function($){"use strict";var Tree=function(a,b){this.$element=$(a),this.options=$.extend({},$.fn.tree.defaults,b),this.options.useChkBox=this.options.multiSelect,this.formatData(),this.build(b),this.$element.on("click",".tree-item-name",$.proxy(function(a){this.selectChildren($(a.currentTarget).parent()[0])},this)),this.$element.on("click",".tree-folder-header div",$.proxy(function(a){this.selectParent($(a.currentTarget).parent()[0])},this)),this.$element.on("click",".tree-folder-header i",$.proxy(function(a){this.openCloseParent($(a.currentTarget).parent()[0])},this)),this.$element.on("click",".tree-folder :checkbox",$.proxy(function(a){var b=$(a.currentTarget).parent().find(".tree-folder-header");this.selectParent(b)},this)),this.$element.on("click",".tree-item :checkbox",$.proxy(function(a){this.selectChildren($(a.currentTarget).parent()[0])},this)),this.$element.on("mousedown",".tree-folder-name,.tree-item-name",$.proxy(function(a){this.popMenu(a.currentTarget,a)},this)),this.$element.on("contextmenu",".tree-folder-header,.tree-item-name",$.proxy(function(a){this.initContextmenu(a)},this))};Tree.prototype={constructor:Tree,setDataSource:function(a){this.options.data=a,this.formatData(),this.build(this.options)},formatData:function(){var a=this.options.data,b=new Array,c=this;this.notHasParentData=new Array,this.hasParentData=new Array,a&&($.each(a,function(){var a=$(this).attr("pid");""==a?c.notHasParentData.push(this):c.hasParentData.push(this)}),$.each(this.hasParentData,function(b){var d=$(this).attr("pid"),e=!1;$.each(a,function(){$(this).attr("id")==d&&(e=!0)}),e||(c.hasParentData.splice(b,0),c.notHasParentData.push(this))}),$.each(this.notHasParentData,function(){b.push(this),c.pushChildren(this)}),this.options.data=b)},pushChildren:function(a){var b=this,c=new Array;$.each(this.hasParentData,function(d){this&&$(this).attr("pid")==$(a).attr("id")&&(c.push(this),b.hasParentData.splice(d,0),b.pushChildren(this))}),a.children=c},build:function(options){var self=this;""==options.ajaxUrl||null==options.ajaxUrl?self.render():$.ajax({type:"POST",url:options.ajaxUrl,dataType:"text",data:options.reqParam,success:function(data){options.data=eval(data),self.render()},error:function(){}})},render:function(){this.populate(this.options.data,this.$element),this.$element.find(".tree-folder").show(),this.$element.find(".tree-item").show()},populate:function(a,b){var c=this;a&&$.each(a,function(a,d){var e;c.isEmpty(d.children)&&"parent"!=d.type?(e=c.createChildren(),e.find(".tree-item-name").html(d.title),e.attr("href",d.href),e.attr("id",d.id),e.attr("pid",d.pid),e.attr("title",d.title),e.data(d.id),d.icon&&e.children("i").addClass(d.icon).prop("icon",d.icon)):(e=c.createParent(),e.find(".tree-folder-name").html(d.title),e.find(".tree-folder-header").data(d.id),e.find(".tree-folder-header").attr("id",d.id),e.find(".tree-folder-header").attr("pid",d.pid),e.find(".tree-folder-header").attr("title",d.title),c.populate(d.children,e.find(".tree-folder-content:eq(0)")),e.find(".tree-folder-content:eq(0)").hide(),d.icon&&e.children(".tree-folder-header").children("i").addClass(d.icon).prop("icon",d.icon)),b.append(e)})},isEmpty:function(a){if(!a)return!0;for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},createParent:function(){var a;return a=$(this.options.useChkBox?'<div class="tree-folder checkbox" style="display:none;"><input type="checkbox"><div class="tree-folder-header"><i class="fa fa-caret-right" style="min-width:10px;"></i><div class="tree-folder-name"></div></div><div class="tree-folder-content"></div><div class="tree-loader" style="display:none"></div></div>':'<div class="tree-folder" style="display:none;"><div class="tree-folder-header"><i class="fa fa-caret-right" style="min-width:10px;"></i><div class="tree-folder-name"></div></div><div class="tree-folder-content"></div><div class="tree-loader" style="display:none"></div></div>')},createChildren:function(){var a;return a=$(this.options.useChkBox?'<div class="tree-item checkbox" style="display:none;"><input type="checkbox"><div class="tree-item-name"></div></div>':'<div class="tree-item" style="display:none;"><i class="" style="min-width:10px;"></i><div class="tree-item-name"></div></div>')},selectChildren:function(a){var b=$(a),c=this.$element.find(".tree-selected"),d=[],e=b.attr("id"),f=b.attr("pid"),g=b.attr("title"),h={id:e,pid:f,title:g},i=this.options.onSelect;if(i)return void i(b);if("function"!=typeof this.options.onBeforeSelected||this.options.onBeforeSelected.call(this,this,h)){if(this.options.multiSelect?$.each(c,function(a,c){var e=$(c);e[0]!==b[0]&&d.push($(c).data())}):c[0]!==b[0]&&(c.removeClass("tree-selected"),d.push(b.data())),b.hasClass("tree-selected")){b.removeClass("tree-selected"),b.find("i").prop("icon")&&b.find("i").addClass(b.find("i").prop("icon"));var j=b.find("input[type='checkbox']");if(j.length>0){var k=j.prop("checked");k&&j.prop("checked",!1)}}else{b.addClass("tree-selected"),this.options.multiSelect&&d.push(b.data());var j=b.find("input[type='checkbox']");if(j.length>0){var k=j.prop("checked");k||j.prop("checked",!0)}}d.length&&this.$element.trigger("selected",{info:d}),"function"==typeof this.options.onSelected&&this.options.onSelected.call(this,this,h)}},selectParent:function(a){var b=this,c=$(a),d=c.parent(),e=this.$element.find(".tree-selected"),f=c.attr("id"),g=c.attr("pid"),h=c.attr("title"),i={id:f,pid:g,title:h};if("function"!=typeof this.options.onBeforeSelected||this.options.onBeforeSelected.call(this,this,i)){if(c.hasClass("tree-selected")){c.removeClass("tree-selected");var j=d.find("input:eq(0)");if(j.length>0){var k=j.prop("checked");k&&j.prop("checked",!1)}if(this.options.multiSelect){var l=d.find(".tree-item");l.length>0&&$.each(l,function(){var a=this;$(this).addClass("tree-selected"),b.selectChildren(a)})}}else{this.options.multiSelect||e.removeClass("tree-selected"),c.addClass("tree-selected");var j=d.find("input:eq(0)");if(j.length>0){var k=j.prop("checked");k||j.prop("checked",!0)}if(this.options.multiSelect){var l=d.find(".tree-item");l.length>0&&$.each(l,function(){var a=this;$(this).removeClass("tree-selected"),b.selectChildren(a)})}}"function"==typeof this.options.onSelected&&this.options.onSelected.call(this,this,i)}},openCloseParent:function(a){var b=$(a),c=b.parent();b.find(".fa-caret-right").length?(c.find(".tree-folder-content").children().length&&c.find(".tree-folder-content:eq(0)").show(),c.find(".fa-caret-right:eq(0)").removeClass("fa-caret-right").addClass("fa-caret-down"),this.$element.trigger("opened",{element:b,data:b.data()})):(this.options.cacheItems?c.find(".tree-folder-content:eq(0)").hide():c.find(".tree-folder-content:eq(0)").empty(),c.find(".fa-caret-down:eq(0)").removeClass("fa-caret-down").addClass("fa-caret-right"),this.$element.trigger("closed",{element:b,data:b.data()}))},selectedItems:function(){var a=this.$element.find(".tree-selected"),b=[];return $.each(a,function(a,c){var d=$(c).attr("id"),e=$(c).attr("pid"),f=$(c).attr("title"),g={id:d,pid:e,title:f};b.push(g)}),b},checkParent:function(a){var b=$(a),c=b.prop("checked");b.parent().find("[type='checkbox']").prop("checked",c)},popMenu:function(a,b){var c=this.options.mouseMenu,d=$(a);if(null==c)return!1;if(3==b.which){c.hide(),c.css({position:"absolute",top:b.clientY,left:b.clientX}),c.show("fast");var e=null;d.hasClass("tree-folder-name")?e=d.parent().parent():d.hasClass("tree-item-name")&&(e=d.parent()),d.prop("node",e.attr("id")),console.info(d+".node = "+d.prop("node"))}},initContextmenu:function(a){this.$element.trigger("rightClick",a)},createRightMenu:function(a){var b=this;$(".tree-right-menu").remove();var c=$(a.element),d=a.event,e=a.data,f=new Array;f.push('<ul class="dropdown-menu tree-right-menu">'),$.each(e,function(){f.push('<li action="'+this.action+'"><a>'+this.title+"</a></li>")}),f.push("</ul>"),$(f.join("")).appendTo($("body")).show().css({position:"fixed",left:d.pageX,top:d.pageY}).on("mouseleave",function(){$(this).remove()}).find("li").on("click",function(){var a=$(this);c.hasClass("tree-item-name")?b.$element.trigger(a.attr("action"),c.parent()):b.$element.trigger(a.attr("action"),c),a.parent().remove()})},addChildren:function(a){var b=this,c=$(a.node),d=null,e=a.menu;a.type&&"parent"==a.type?(d=b.createParent(),d.find(".tree-folder-name").html(e.title),d.find(".tree-folder-header").data(e),d.on("click",{element:$(this)},function(a){b.selectParent(a.data.element)})):(d=b.createChildren(),d.find(".tree-item-name").html(e.title),d.data(e),d.on("click",{element:$(this)},function(a){b.selectChildren(a.data.element)})),d.show().on("contextmenu",function(a){b.initContextmenu(a)}),c.parent().find(">.tree-folder-content").append(d).show(),c.find(".fa-caret-right").length>0&&c.trigger("click")},removeChildren:function(a){$(a).remove()}},$.fn.tree=function(a,b){var c,d=this.each(function(){var d=$(this);d.addClass("tree");var e=d.data("koala.tree"),f="object"==typeof a&&a;e||d.data("koala.tree",e=new Tree(this,f)),this.treeObj=e,"string"==typeof a&&(c=e[a](b))});return null!=a.mouseMenu&&$(document).bind("contextmenu",function(){return!1}),a.draggable,void 0===c?d:c},$.fn.tree.defaults={multiSelect:!1,loadingHTML:"<div>Loading...</div>",cacheItems:!0,useChkBox:!1,draggable:!1,mouseMenu:null,ajaxUrl:"",reqParam:null,data:null,onSelect:null},$.fn.tree.Constructor=Tree}(window.jQuery);